/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => NovelWordCountPlugin
});
module.exports = __toCommonJS(main_exports);

// logic/debug.ts
var DebugHelper = class {
  constructor() {
    this.debugMode = false;
    this.idCounter = 0;
  }
  setDebugMode(debug) {
    this.debugMode = debug;
  }
  debug(...args) {
    if (!this.debugMode) {
      return;
    }
    console.log("novel-word-count:", ...args);
  }
  error(message) {
    if (!this.debugMode) {
      return;
    }
    console.error(message);
  }
  debugStart(name) {
    if (!this.debugMode) {
      return () => {
      };
    }
    var qualifiedName = `novel-word-count|${name} (${++this.idCounter})`;
    console.time(qualifiedName);
    return () => console.timeEnd(qualifiedName);
  }
};

// logic/event.ts
var import_obsidian = require("obsidian");

// logic/cancellation.ts
var CANCEL = Symbol("Cancel");
var CancellationToken = class {
  constructor() {
    this._isCancelled = false;
  }
  get isCancelled() {
    return this._isCancelled;
  }
  [CANCEL]() {
    this._isCancelled = true;
  }
};
var CancellationTokenSource = class {
  constructor() {
    this.token = new CancellationToken();
  }
  cancel() {
    this.token[CANCEL]();
  }
};

// logic/event.ts
var EventHelper = class {
  constructor(plugin, app, debugHelper, fileHelper) {
    this.plugin = plugin;
    this.app = app;
    this.debugHelper = debugHelper;
    this.fileHelper = fileHelper;
    this.cancellationSources = [];
  }
  async handleEvents() {
    const debouncedFileModified = (0, import_obsidian.debounce)(async (file) => {
      const countToken = this.registerNewCountToken();
      await this.fileHelper.updateFileCounts(
        file,
        this.plugin.savedData.cachedCounts,
        countToken.token
      );
      this.cancelToken(countToken);
      await this.plugin.updateDisplayedCounts(file);
      this.plugin.saveSettingsDebounced();
    }, 500);
    this.plugin.registerEvent(
      this.app.metadataCache.on("changed", async (file) => {
        this.debugHelper.debug(
          "[changed] metadataCache hook fired, scheduling file for analysis",
          file.path
        );
        debouncedFileModified(file);
      })
    );
    this.app.workspace.onLayoutReady(() => {
      this.plugin.registerEvent(
        this.app.vault.on("create", async (file) => {
          this.debugHelper.debug(
            "[create] vault hook fired, analyzing file",
            file.path
          );
          const countToken = this.registerNewCountToken();
          await this.fileHelper.updateFileCounts(
            file,
            this.plugin.savedData.cachedCounts,
            countToken.token
          );
          this.cancelToken(countToken);
          await this.plugin.updateDisplayedCounts(file);
          await this.plugin.saveSettings();
        })
      );
      this.plugin.registerEvent(
        this.app.vault.on("modify", async (file) => {
          this.debugHelper.debug(
            "[modify] vault hook fired, scheduling file for analysis",
            file.path
          );
          debouncedFileModified(file);
        })
      );
    });
    this.plugin.registerEvent(
      this.app.vault.on("delete", async (file) => {
        this.debugHelper.debug(
          "[delete] vault hook fired, forgetting file",
          file.path
        );
        this.fileHelper.removeFileCounts(
          file.path,
          this.plugin.savedData.cachedCounts
        );
        await this.plugin.updateDisplayedCounts(file);
        await this.plugin.saveSettings();
      })
    );
    this.plugin.registerEvent(
      this.app.vault.on("rename", async (file, oldPath) => {
        if (file instanceof import_obsidian.TFolder) {
          return;
        }
        this.debugHelper.debug(
          "[rename] vault hook fired, recounting file",
          file.path
        );
        this.fileHelper.removeFileCounts(
          oldPath,
          this.plugin.savedData.cachedCounts
        );
        const countToken = this.registerNewCountToken();
        await this.fileHelper.updateFileCounts(
          file,
          this.plugin.savedData.cachedCounts,
          countToken.token
        );
        this.cancelToken(countToken);
        await this.plugin.updateDisplayedCounts(file);
        await this.plugin.saveSettings();
      })
    );
    const reshowCountsIfNeeded = async (hookName) => {
      this.debugHelper.debug(`[${hookName}] hook fired`);
      const fileExplorerLeaf = await this.plugin.getFileExplorerLeaf();
      if (this.isContainerTouched(fileExplorerLeaf)) {
        this.debugHelper.debug(
          "container already touched, skipping display update"
        );
        return;
      }
      this.debugHelper.debug("container is clean, updating display");
      await this.plugin.updateDisplayedCounts();
    };
    this.plugin.registerEvent(
      this.app.workspace.on(
        "layout-change",
        (0, import_obsidian.debounce)(reshowCountsIfNeeded.bind(this, "layout-change"), 1e3)
      )
    );
  }
  isContainerTouched(leaf) {
    const container = leaf.view.containerEl;
    return container.className.includes("novel-word-count--");
  }
  async reinitializeAllCounts() {
    this.cancelAllCountTokens();
    const countToken = this.registerNewCountToken();
    this.debugHelper.debug("refreshAllCounts");
    this.plugin.savedData.cachedCounts = await this.fileHelper.initializeAllFileCounts(
      countToken.token
    );
    this.cancelToken(countToken);
    await this.plugin.saveSettings();
  }
  /*
     CANCELLATION HANDLING
   */
  registerNewCountToken() {
    const cancellationSource = new CancellationTokenSource();
    this.cancellationSources.push(cancellationSource);
    return cancellationSource;
  }
  cancelToken(source) {
    source.cancel();
    if (this.cancellationSources.includes(source)) {
      this.cancellationSources.splice(
        this.cancellationSources.indexOf(source),
        1
      );
    }
  }
  cancelAllCountTokens() {
    for (const source of this.cancellationSources) {
      source.cancel();
    }
    this.cancellationSources = [];
  }
};

// logic/file.ts
var import_obsidian2 = require("obsidian");

// logic/settings.ts
var $CountType = /* @__PURE__ */ (($CountType2) => {
  $CountType2["None"] = "none";
  $CountType2["Word"] = "word";
  $CountType2["Page"] = "page";
  $CountType2["PageDecimal"] = "pagedecimal";
  $CountType2["Linebreak"] = "linebreak";
  $CountType2["ReadTime"] = "readtime";
  $CountType2["PercentGoal"] = "percentgoal";
  $CountType2["Note"] = "note";
  $CountType2["Character"] = "character";
  $CountType2["Link"] = "link";
  $CountType2["Embed"] = "embed";
  $CountType2["Alias"] = "alias";
  $CountType2["Created"] = "created";
  $CountType2["Modified"] = "modified";
  $CountType2["FileSize"] = "filesize";
  $CountType2["FrontmatterKey"] = "frontmatterKey";
  $CountType2["TrackSession"] = "tracksession";
  return $CountType2;
})($CountType || {});
var COUNT_TYPES = Object.values($CountType);
var SESSION_COUNT_TYPES = [
  "word" /* Word */,
  "page" /* Page */,
  "pagedecimal" /* PageDecimal */,
  "linebreak" /* Linebreak */,
  "note" /* Note */,
  "character" /* Character */
];
var COUNT_TYPE_DISPLAY_STRINGS = {
  ["none" /* None */]: "None",
  ["word" /* Word */]: "Word Count",
  ["page" /* Page */]: "Page Count",
  ["pagedecimal" /* PageDecimal */]: "Page Count (decimal)",
  ["linebreak" /* Linebreak */]: "Line Break Count",
  ["readtime" /* ReadTime */]: "Reading Time",
  ["percentgoal" /* PercentGoal */]: "% of Word Goal",
  ["note" /* Note */]: "Note Count",
  ["character" /* Character */]: "Character Count",
  ["link" /* Link */]: "Link Count",
  ["embed" /* Embed */]: "Embed Count",
  ["alias" /* Alias */]: "First Alias",
  ["created" /* Created */]: "Created Date",
  ["modified" /* Modified */]: "Last Updated Date",
  ["filesize" /* FileSize */]: "File Size",
  ["frontmatterKey" /* FrontmatterKey */]: "Frontmatter Key",
  ["tracksession" /* TrackSession */]: "Track Session"
};
var COUNT_TYPE_DESCRIPTIONS = {
  ["none" /* None */]: "Hidden.",
  ["word" /* Word */]: "Total words.",
  ["page" /* Page */]: "Total pages, rounded up.",
  ["pagedecimal" /* PageDecimal */]: "Total pages, precise to 2 digits after the decimal.",
  ["linebreak" /* Linebreak */]: "Newlines (\xB6), including empty lines.",
  ["readtime" /* ReadTime */]: "Estimated time to read the note.",
  ["percentgoal" /* PercentGoal */]: "Set a word goal by adding the 'word-goal' property to a note.",
  ["note" /* Note */]: "Total notes.",
  ["character" /* Character */]: "Total characters (letters, symbols, numbers, and spaces).",
  ["link" /* Link */]: "Total links to other notes.",
  ["embed" /* Embed */]: "Total embedded images, files, and notes.",
  ["alias" /* Alias */]: "The first alias property of each note.",
  ["created" /* Created */]: "Creation date. (On folders: earliest creation date of any note.)",
  ["modified" /* Modified */]: "Date of last edit. (On folders: latest edit date of any note.)",
  ["filesize" /* FileSize */]: "Total size on hard drive.",
  ["frontmatterKey" /* FrontmatterKey */]: "Key in the frontmatter block.",
  ["tracksession" /* TrackSession */]: "Track progress since last Obsidian startup, plugin init, settings change, or recount"
};
var UNFORMATTABLE_COUNT_TYPES = [
  "none" /* None */,
  "alias" /* Alias */,
  "filesize" /* FileSize */,
  "readtime" /* ReadTime */
];
var COUNT_TYPE_DEFAULT_SHORT_SUFFIXES = {
  ["word" /* Word */]: "w",
  ["page" /* Page */]: "p",
  ["pagedecimal" /* PageDecimal */]: "p",
  ["linebreak" /* Linebreak */]: "\xB6",
  ["percentgoal" /* PercentGoal */]: "%",
  ["note" /* Note */]: "n",
  ["character" /* Character */]: "ch",
  ["link" /* Link */]: "x",
  ["embed" /* Embed */]: "em",
  ["created" /* Created */]: "/c",
  ["modified" /* Modified */]: "/u",
  ["frontmatterKey" /* FrontmatterKey */]: "",
  ["tracksession" /* TrackSession */]: "/s"
};
function getDescription(countType) {
  return `[${COUNT_TYPE_DISPLAY_STRINGS[countType]}] ${COUNT_TYPE_DESCRIPTIONS[countType]}`;
}
var ALIGNMENT_TYPES = [
  "inline" /* Inline */,
  "right" /* Right */,
  "below" /* Below */
];
var DEFAULT_SETTINGS = {
  // FORMATTING
  useAdvancedFormatting: false,
  // NOTES
  countType: "word" /* Word */,
  countConfig: {
    customSuffix: "w",
    $sessionCountType: "word" /* Word */
  },
  countType2: "none" /* None */,
  countConfig2: {
    $sessionCountType: "word" /* Word */
  },
  countType3: "none" /* None */,
  countConfig3: {
    $sessionCountType: "word" /* Word */
  },
  pipeSeparator: "|",
  abbreviateDescriptions: false,
  alignment: "inline" /* Inline */,
  // FOLDERS
  showSameCountsOnFolders: true,
  folderCountType: "word" /* Word */,
  folderCountConfig: {
    customSuffix: "w",
    $sessionCountType: "word" /* Word */
  },
  folderCountType2: "none" /* None */,
  folderCountConfig2: {
    $sessionCountType: "word" /* Word */
  },
  folderCountType3: "none" /* None */,
  folderCountConfig3: {
    $sessionCountType: "word" /* Word */
  },
  folderPipeSeparator: "|",
  folderAbbreviateDescriptions: false,
  folderAlignment: "inline" /* Inline */,
  // ROOT
  showSameCountsOnRoot: true,
  rootCountType: "word" /* Word */,
  rootCountConfig: {
    customSuffix: "w",
    $sessionCountType: "word" /* Word */
  },
  rootCountType2: "none" /* None */,
  rootCountConfig2: {
    $sessionCountType: "word" /* Word */
  },
  rootCountType3: "none" /* None */,
  rootCountConfig3: {
    $sessionCountType: "word" /* Word */
  },
  rootPipeSeparator: "|",
  rootAbbreviateDescriptions: false,
  // ADVANCED
  showAdvanced: false,
  labelOpacity: 0.75,
  wordsPerMinute: 265,
  charsPerMinute: 500,
  wordsPerPage: 300,
  charsPerPage: 1500,
  charsPerPageIncludesWhitespace: false,
  characterCountType: "AllCharacters" /* StringLength */,
  pageCountType: "ByWords" /* ByWords */,
  includeDirectories: "",
  excludeComments: false,
  excludeCodeBlocks: false,
  excludeNonVisibleLinkPortions: false,
  excludeFootnotes: false,
  momentDateFormat: "",
  debugMode: false
};

// logic/parser.ts
var cjkRegex = /[\p{Script=Han}\p{Script=Hiragana}\p{Script=Katakana}\p{Script=Hangul}]/gu;
var allSymbolsRegex = /[\p{S}\p{P}]/gu;
function countMarkdown(content, config) {
  content = removeNonCountedContent(content, config);
  let wordSequences = content.replace(cjkRegex, " ").replace(allSymbolsRegex, "").trim().split(/\s+/);
  if (wordSequences.length === 1 && wordSequences[0] === "") {
    wordSequences = [];
  }
  let lineSequences = content.split("\n");
  if (lineSequences.length === 1 && lineSequences[0] === "") {
    lineSequences = [];
  }
  const result = {
    charCount: content.length,
    nonWhitespaceCharCount: countNonWhitespaceCharacters(content),
    spaceDelimitedWordCount: wordSequences.length,
    cjkWordCount: (content.match(cjkRegex) || []).length,
    newlineCount: lineSequences.length
  };
  return result;
}
var whitespaceRegex = /\s/g;
function countNonWhitespaceCharacters(content) {
  return content.replace(whitespaceRegex, "").length;
}
function removeNonCountedContent(content, config) {
  if (config.excludeCodeBlocks) {
    content = content.replace(/(```.+?```)/gims, "");
  }
  if (config.excludeComments) {
    content = content.replace(/(%%.+?%%|<!--.+?-->)/gims, "");
  }
  if (config.excludeNonVisibleLinkPortions) {
    content = content.replace(/\[([^\]]*?)\]\([^\)]*?\)/gim, "$1");
    content = content.replace(/\[\[(.*?)\]\]/gim, (_, $1) => {
      return !$1 ? "" : $1.includes("|") ? $1.slice($1.indexOf("|") + 1) : $1;
    });
  }
  if (config.excludeFootnotes) {
    content = content.replace(/\[\^.+?\]: .*/gim, "");
    content = content.replace(/\[\^.+?\]/gim, "");
  }
  return content;
}

// logic/canvas.ts
var CanvasHelper = class {
  constructor(debug) {
    this.debug = debug;
  }
  getCanvasText(file, content) {
    try {
      const canvas = JSON.parse(content);
      const texts = canvas.nodes.map((node) => node.text).filter((text) => !!text);
      return texts.join("\n");
    } catch (ex) {
      this.debug.error(`Unable to parse canvas file [${file.name}]: ${ex}`);
      return "";
    }
  }
};

// logic/file.ts
var FileHelper = class {
  constructor(app, plugin) {
    this.app = app;
    this.plugin = plugin;
    this.debugHelper = new DebugHelper();
    this.canvasHelper = new CanvasHelper(this.debugHelper);
    this.pathIncludeMatchers = [];
    this.pathExcludeMatchers = [];
    this.FileTypeAllowlist = /* @__PURE__ */ new Set([
      "",
      // Markdown extensions
      "markdown",
      "md",
      "mdml",
      "mdown",
      "mdtext",
      "mdtxt",
      "mdwn",
      "mkd",
      "mkdn",
      // Obsidian canvas
      "canvas",
      // Text files
      "txt",
      "text",
      "rtf",
      // MD with embedded code
      "qmd",
      "rmd",
      // MD for screenwriters
      "fountain",
      // LaTeX files
      "tex"
    ]);
  }
  get settings() {
    return this.plugin.settings;
  }
  get vault() {
    return this.app.vault;
  }
  async initializeAllFileCounts(cancellationToken) {
    const debugEnd = this.debugHelper.debugStart("getAllFileCounts");
    const files = this.vault.getFiles();
    if (typeof this.plugin.settings.includeDirectories === "string" && this.plugin.settings.includeDirectories.trim() !== "*" && this.plugin.settings.includeDirectories.trim() !== "") {
      const allMatchers = this.plugin.settings.includeDirectories.trim().split(",").map((matcher) => matcher.trim());
      const includeMatchers = allMatchers.filter(
        (matcher) => !matcher.startsWith("!")
      );
      const excludeMatchers = allMatchers.filter((matcher) => matcher.startsWith("!")).map((matcher) => matcher.slice(1));
      const matchedFiles = files.filter(
        (file) => (includeMatchers.length === 0 ? true : includeMatchers.some((matcher) => file.path.includes(matcher))) && !excludeMatchers.some((matcher) => file.path.includes(matcher))
      );
      if (matchedFiles.length > 0) {
        this.pathIncludeMatchers = includeMatchers;
        this.pathExcludeMatchers = excludeMatchers;
      } else {
        this.pathIncludeMatchers = [];
        this.pathExcludeMatchers = [];
        this.debugHelper.debug(
          "No files matched by includeDirectories setting. Defaulting to all files."
        );
      }
    }
    const counts = {};
    for (const file of files) {
      if (cancellationToken.isCancelled) {
        break;
      }
      this.setCounts(counts, file, true);
    }
    debugEnd();
    return counts;
  }
  getCachedDataForPath(counts, path) {
    if (counts.hasOwnProperty(path)) {
      return counts[path];
    }
    const childPaths = this.getChildPaths(counts, path);
    const directoryDefault = {
      isCountable: false,
      targetNodeType: this.isRoot(path) ? "root" /* Root */ : "directory" /* Directory */,
      noteCount: 0,
      wordCount: 0,
      wordCountTowardGoal: 0,
      wordGoal: 0,
      pageCount: 0,
      characterCount: 0,
      nonWhitespaceCharacterCount: 0,
      newlineCount: 0,
      readingTimeInMinutes: 0,
      linkCount: 0,
      embedCount: 0,
      aliases: null,
      createdDate: 0,
      modifiedDate: 0,
      sizeInBytes: 0,
      sessionStart: {
        noteCount: 0,
        pageCount: 0,
        wordCount: 0,
        characterCount: 0,
        nonWhitespaceCharacterCount: 0,
        newlineCount: 0
      }
    };
    return childPaths.reduce((total, childPath) => {
      const childCount = this.getCachedDataForPath(counts, childPath);
      return {
        isCountable: total.isCountable || childCount.isCountable,
        targetNodeType: total.targetNodeType,
        noteCount: total.noteCount + childCount.noteCount,
        linkCount: total.linkCount + childCount.linkCount,
        embedCount: total.embedCount + childCount.embedCount,
        aliases: [],
        wordCount: total.wordCount + childCount.wordCount,
        wordCountTowardGoal: total.wordCountTowardGoal + childCount.wordCountTowardGoal,
        wordGoal: total.wordGoal + childCount.wordGoal,
        pageCount: total.pageCount + childCount.pageCount,
        characterCount: total.characterCount + childCount.characterCount,
        nonWhitespaceCharacterCount: total.nonWhitespaceCharacterCount + childCount.nonWhitespaceCharacterCount,
        newlineCount: total.newlineCount + childCount.newlineCount,
        readingTimeInMinutes: total.readingTimeInMinutes + childCount.readingTimeInMinutes,
        createdDate: total.createdDate === 0 ? childCount.createdDate : Math.min(total.createdDate, childCount.createdDate),
        modifiedDate: Math.max(total.modifiedDate, childCount.modifiedDate),
        sizeInBytes: total.sizeInBytes + childCount.sizeInBytes,
        sessionStart: {
          noteCount: total.sessionStart.noteCount + childCount.sessionStart.noteCount,
          pageCount: total.sessionStart.pageCount + childCount.sessionStart.pageCount,
          wordCount: total.sessionStart.wordCount + childCount.sessionStart.wordCount,
          characterCount: total.sessionStart.characterCount + childCount.sessionStart.characterCount,
          nonWhitespaceCharacterCount: total.sessionStart.nonWhitespaceCharacterCount + childCount.sessionStart.nonWhitespaceCharacterCount,
          newlineCount: total.sessionStart.newlineCount + childCount.sessionStart.newlineCount
        }
      };
    }, directoryDefault);
  }
  setDebugMode(debug) {
    this.debugHelper.setDebugMode(debug);
  }
  removeFileCounts(path, counts) {
    this.removeCounts(counts, path);
    for (const childPath of this.getChildPaths(counts, path)) {
      this.removeCounts(counts, childPath);
    }
  }
  async updateFileCounts(abstractFile, counts, cancellationToken) {
    if (abstractFile instanceof import_obsidian2.TFolder) {
      for (const child of abstractFile.children) {
        await this.updateFileCounts(child, counts, cancellationToken);
      }
      return;
    }
    if (abstractFile instanceof import_obsidian2.TFile) {
      await this.setCounts(counts, abstractFile, false);
    }
  }
  countEmbeds(metadata) {
    var _a, _b;
    return (_b = (_a = metadata == null ? void 0 : metadata.embeds) == null ? void 0 : _a.length) != null ? _b : 0;
  }
  countLinks(metadata) {
    var _a, _b;
    return (_b = (_a = metadata == null ? void 0 : metadata.links) == null ? void 0 : _a.length) != null ? _b : 0;
  }
  getChildPaths(counts, path) {
    const childPaths = Object.keys(counts).filter(
      (countPath) => path === "/" || countPath.startsWith(path + "/")
    );
    return childPaths;
  }
  isRoot(path) {
    return !path || path === "/";
  }
  removeCounts(counts, path) {
    delete counts[path];
  }
  async setCounts(counts, file, startNewSession) {
    var _a, _b;
    const metadata = this.app.metadataCache.getFileCache(
      file
    );
    const shouldCountFile = this.shouldCountFile(file, metadata);
    const existingSession = (_a = counts[file.path]) == null ? void 0 : _a.sessionStart;
    counts[file.path] = {
      isCountable: shouldCountFile,
      targetNodeType: "file" /* File */,
      noteCount: 0,
      wordCount: 0,
      wordCountTowardGoal: 0,
      wordGoal: 0,
      pageCount: 0,
      characterCount: 0,
      nonWhitespaceCharacterCount: 0,
      newlineCount: 0,
      readingTimeInMinutes: 0,
      linkCount: 0,
      embedCount: 0,
      aliases: [],
      createdDate: file.stat.ctime,
      modifiedDate: file.stat.mtime,
      sizeInBytes: file.stat.size,
      sessionStart: startNewSession || !existingSession ? {
        noteCount: 0,
        pageCount: 0,
        wordCount: 0,
        characterCount: 0,
        nonWhitespaceCharacterCount: 0,
        newlineCount: 0
      } : existingSession
    };
    if (!shouldCountFile) {
      return;
    }
    let content = await this.vault.cachedRead(file);
    if (file.extension.toLowerCase() === "canvas") {
      content = this.canvasHelper.getCanvasText(file, content);
    } else {
      content = this.trimFrontmatter(content, metadata);
    }
    const countResult = countMarkdown(content, {
      excludeCodeBlocks: this.settings.excludeCodeBlocks,
      excludeComments: this.settings.excludeComments,
      excludeNonVisibleLinkPortions: this.settings.excludeNonVisibleLinkPortions,
      excludeFootnotes: this.settings.excludeFootnotes
    });
    const combinedWordCount = countResult.cjkWordCount + countResult.spaceDelimitedWordCount;
    const wordGoal = this.getWordGoal(metadata);
    const cjkReadingTime = countResult.cjkWordCount / (this.settings.charsPerMinute || 500);
    const spaceDelimitedReadingTime = countResult.spaceDelimitedWordCount / (this.settings.wordsPerMinute || 265);
    const readingTimeInMinutes = cjkReadingTime + spaceDelimitedReadingTime;
    let pageCount = 0;
    if (this.settings.pageCountType === "ByWords" /* ByWords */) {
      const wordsPerPage = Number(this.settings.wordsPerPage);
      const wordsPerPageValid = !isNaN(wordsPerPage) && wordsPerPage > 0;
      pageCount = combinedWordCount / (wordsPerPageValid ? wordsPerPage : 300);
    } else if (this.settings.pageCountType === "ByChars" /* ByChars */ && !this.settings.charsPerPageIncludesWhitespace) {
      const charsPerPage = Number(this.settings.charsPerPage);
      const charsPerPageValid = !isNaN(charsPerPage) && charsPerPage > 0;
      pageCount = countResult.nonWhitespaceCharCount / (charsPerPageValid ? charsPerPage : 1500);
    } else if (this.settings.pageCountType === "ByChars" /* ByChars */ && this.settings.charsPerPageIncludesWhitespace) {
      const charsPerPage = Number(this.settings.charsPerPage);
      const charsPerPageValid = !isNaN(charsPerPage) && charsPerPage > 0;
      pageCount = countResult.charCount / (charsPerPageValid ? charsPerPage : 1500);
    }
    Object.assign(counts[file.path], {
      noteCount: 1,
      wordCount: combinedWordCount,
      wordCountTowardGoal: wordGoal !== null ? combinedWordCount : 0,
      wordGoal,
      pageCount,
      characterCount: countResult.charCount,
      nonWhitespaceCharacterCount: countResult.nonWhitespaceCharCount,
      newlineCount: countResult.newlineCount,
      readingTimeInMinutes,
      linkCount: this.countLinks(metadata),
      embedCount: this.countEmbeds(metadata),
      aliases: (0, import_obsidian2.parseFrontMatterAliases)(metadata == null ? void 0 : metadata.frontmatter),
      frontmatter: metadata == null ? void 0 : metadata.frontmatter,
      sessionStart: {
        ...(_b = counts[file.path]) == null ? void 0 : _b.sessionStart,
        ...startNewSession ? {
          noteCount: 1,
          pageCount,
          wordCount: combinedWordCount,
          characterCount: countResult.charCount,
          nonWhitespaceCharacterCount: countResult.nonWhitespaceCharCount,
          newlineCount: countResult.newlineCount
        } : {}
      }
    });
  }
  getWordGoal(metadata) {
    const goal = metadata && metadata.frontmatter && metadata.frontmatter["word-goal"];
    if (!goal || isNaN(Number(goal))) {
      return null;
    }
    return Number(goal);
  }
  trimFrontmatter(content, metadata) {
    let meaningfulContent = content;
    const hasFrontmatter = !!metadata && !!metadata.frontmatter;
    if (hasFrontmatter) {
      const frontmatterPos = metadata.frontmatterPosition || metadata.frontmatter.position;
      meaningfulContent = frontmatterPos && frontmatterPos.start && frontmatterPos.end ? meaningfulContent.slice(0, frontmatterPos.start.offset) + meaningfulContent.slice(frontmatterPos.end.offset) : meaningfulContent;
    }
    return meaningfulContent;
  }
  shouldCountFile(file, metadata) {
    if (this.pathIncludeMatchers.length > 0 && !this.pathIncludeMatchers.some((matcher) => file.path.includes(matcher))) {
      return false;
    }
    if (this.pathExcludeMatchers.length > 0 && this.pathExcludeMatchers.some((matcher) => file.path.includes(matcher))) {
      return false;
    }
    if (!this.FileTypeAllowlist.has(file.extension.toLowerCase())) {
      return false;
    }
    if (!metadata) {
      return true;
    }
    if (metadata.frontmatter && metadata.frontmatter.hasOwnProperty("wordcount") && (metadata.frontmatter.wordcount === null || metadata.frontmatter.wordcount === false || metadata.frontmatter.wordcount === "false")) {
      return false;
    }
    const tags = (0, import_obsidian2.getAllTags)(metadata).map((tag) => tag.toLowerCase());
    if (tags.length && (tags.includes("#excalidraw") || tags.filter((tag) => tag.startsWith("#exclude")).map((tag) => tag.replace(/[-_]/g, "")).includes("#excludefromwordcount"))) {
      return false;
    }
    return true;
  }
};

// logic/locale_format.ts
var locales = [...navigator.languages, "en-US"];
var NumberFormatDefault = new Intl.NumberFormat(locales);
var NumberFormatDecimal = new Intl.NumberFormat(locales, {
  minimumFractionDigits: 1,
  maximumFractionDigits: 2
});
var NumberFormatFileSize = new Intl.NumberFormat(locales, {
  minimumFractionDigits: 0,
  maximumFractionDigits: 2
});

// logic/filesize.ts
var formatThresholds = [{
  suffix: "B",
  suffixLong: " B",
  divisor: 1
}, {
  suffix: "kB",
  suffixLong: " kB",
  divisor: 1e3
}, {
  suffix: "MB",
  suffixLong: " MB",
  divisor: 1e6
}, {
  suffix: "GB",
  suffixLong: " GB",
  divisor: 1e9
}, {
  suffix: "TB",
  suffixLong: " TB",
  divisor: 1e12
}];
var FileSizeHelper = class {
  formatFileSize(bytes, shouldAbbreviate) {
    const largestThreshold = formatThresholds.last();
    for (const formatThreshold of formatThresholds) {
      if (bytes < formatThreshold.divisor * 1e3 || formatThreshold === largestThreshold) {
        const units = bytes / formatThreshold.divisor;
        const suffix = shouldAbbreviate ? formatThreshold.suffix : formatThreshold.suffixLong;
        return `${NumberFormatFileSize.format(units)}${suffix}`;
      }
    }
    return `?B`;
  }
};

// logic/readtime.ts
var ReadTimeHelper = class {
  formatReadTime(minutes, shouldAbbreviate) {
    const final = shouldAbbreviate ? "" : " read";
    if (minutes * 60 < 1) {
      return `0m${final}`;
    }
    if (minutes < 1) {
      const seconds = Math.round(minutes * 60);
      return `${seconds}s${final}`;
    }
    if (minutes < 60) {
      return `${Math.round(minutes)}m${final}`;
    }
    const hours = NumberFormatDefault.format(Math.floor(minutes / 60));
    const remainder = Math.floor(minutes) % 60;
    return remainder === 0 ? `${hours}h${final}` : `${hours}h${remainder}m${final}`;
  }
};

// logic/node_label.ts
var import_obsidian3 = require("obsidian");
var NodeLabelHelper = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.fileSizeHelper = new FileSizeHelper();
    this.readTimeHelper = new ReadTimeHelper();
    this.unconditionalCountTypes = [
      "created" /* Created */,
      "filesize" /* FileSize */,
      "modified" /* Modified */
    ];
  }
  get settings() {
    return this.plugin.settings;
  }
  getNodeLabel(counts) {
    let countTypes;
    let abbreviateDescriptions;
    let separator;
    const noteCountTypes = [
      this.getCountTypeWithSuffix(
        this.settings.countType,
        this.settings.countConfig
      ),
      this.getCountTypeWithSuffix(
        this.settings.countType2,
        this.settings.countConfig2
      ),
      this.getCountTypeWithSuffix(
        this.settings.countType3,
        this.settings.countConfig3
      )
    ];
    const noteAbbreviateDescriptions = this.settings.abbreviateDescriptions;
    const noteSeparator = this.settings.useAdvancedFormatting ? this.settings.pipeSeparator : "|";
    switch (counts.targetNodeType) {
      case "root" /* Root */:
        if (this.settings.showSameCountsOnRoot) {
          countTypes = noteCountTypes;
          abbreviateDescriptions = noteAbbreviateDescriptions;
          separator = noteSeparator;
          break;
        }
        countTypes = [
          this.getCountTypeWithSuffix(
            this.settings.rootCountType,
            this.settings.rootCountConfig
          ),
          this.getCountTypeWithSuffix(
            this.settings.rootCountType2,
            this.settings.rootCountConfig2
          ),
          this.getCountTypeWithSuffix(
            this.settings.rootCountType3,
            this.settings.rootCountConfig3
          )
        ];
        abbreviateDescriptions = this.settings.rootAbbreviateDescriptions;
        separator = this.settings.useAdvancedFormatting ? this.settings.rootPipeSeparator : noteSeparator;
        break;
      case "directory" /* Directory */:
        if (this.settings.showSameCountsOnFolders) {
          countTypes = noteCountTypes;
          abbreviateDescriptions = noteAbbreviateDescriptions;
          separator = noteSeparator;
          break;
        }
        countTypes = [
          this.getCountTypeWithSuffix(
            this.settings.folderCountType,
            this.settings.folderCountConfig
          ),
          this.getCountTypeWithSuffix(
            this.settings.folderCountType2,
            this.settings.folderCountConfig2
          ),
          this.getCountTypeWithSuffix(
            this.settings.folderCountType3,
            this.settings.folderCountConfig3
          )
        ];
        abbreviateDescriptions = this.settings.folderAbbreviateDescriptions;
        separator = this.settings.useAdvancedFormatting ? this.settings.folderPipeSeparator : noteSeparator;
        break;
      default:
        countTypes = noteCountTypes;
        abbreviateDescriptions = noteAbbreviateDescriptions;
        separator = noteSeparator;
        break;
    }
    return countTypes.filter((ct) => ct.$countType !== "none" /* None */).map(
      (ct) => this.getDataTypeLabel(
        counts,
        ct,
        abbreviateDescriptions
      )
    ).filter((display) => display !== null).join(` ${separator} `);
  }
  getCountTypeWithSuffix($countType, countConfig) {
    return {
      $countType,
      customSuffix: this.settings.useAdvancedFormatting ? countConfig.customSuffix : null,
      frontmatterKey: countConfig.frontmatterKey,
      $sessionCountType: countConfig.$sessionCountType
    };
  }
  getBasicCountString(config) {
    var _a;
    const defaultSuffix = config.abbreviateDescriptions ? config.abbreviatedNoun : ` ${config.noun}${config.count == "1" ? "" : "s"}`;
    const suffix = (_a = config.customSuffix) != null ? _a : defaultSuffix;
    return `${config.count}${suffix}`;
  }
  getDataTypeLabel(counts, config, abbreviateDescriptions) {
    var _a, _b;
    if (!counts || typeof counts.wordCount !== "number") {
      return null;
    }
    if (!counts.isCountable && !this.unconditionalCountTypes.includes(config.$countType)) {
      return null;
    }
    switch (config.$countType) {
      case "none" /* None */:
        return null;
      case "word" /* Word */:
        return this.getBasicCountString({
          count: NumberFormatDefault.format(Math.ceil(counts.wordCount)),
          noun: "word",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["word" /* Word */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "page" /* Page */:
        return this.getBasicCountString({
          count: NumberFormatDefault.format(Math.ceil(counts.pageCount)),
          noun: "page",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["page" /* Page */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "pagedecimal" /* PageDecimal */:
        return this.getBasicCountString({
          count: NumberFormatDecimal.format(counts.pageCount),
          noun: "page",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["pagedecimal" /* PageDecimal */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "linebreak" /* Linebreak */:
        return this.getBasicCountString({
          count: NumberFormatDefault.format(counts.newlineCount),
          noun: "line",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["linebreak" /* Linebreak */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "percentgoal" /* PercentGoal */: {
        if (counts.wordGoal <= 0) {
          return null;
        }
        const fraction = counts.wordCountTowardGoal / counts.wordGoal;
        const percent = NumberFormatDefault.format(Math.round(fraction * 100));
        const defaultSuffix = abbreviateDescriptions ? "%" : `% of ${NumberFormatDefault.format(counts.wordGoal)}`;
        const suffix = (_a = config.customSuffix) != null ? _a : defaultSuffix;
        return `${percent}${suffix}`;
      }
      case "note" /* Note */:
        return this.getBasicCountString({
          count: NumberFormatDefault.format(counts.noteCount),
          noun: "note",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["note" /* Note */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "character" /* Character */: {
        const characterCount = this.settings.characterCountType === "ExcludeWhitespace" /* ExcludeWhitespace */ ? counts.nonWhitespaceCharacterCount : counts.characterCount;
        return this.getBasicCountString({
          count: NumberFormatDefault.format(characterCount),
          noun: "character",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["character" /* Character */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      }
      case "readtime" /* ReadTime */:
        return this.readTimeHelper.formatReadTime(
          counts.readingTimeInMinutes,
          abbreviateDescriptions
        );
      case "link" /* Link */:
        if (counts.linkCount === 0) {
          return null;
        }
        return this.getBasicCountString({
          count: NumberFormatDefault.format(counts.linkCount),
          noun: "link",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["link" /* Link */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "embed" /* Embed */:
        if (counts.embedCount === 0) {
          return null;
        }
        return this.getBasicCountString({
          count: NumberFormatDefault.format(counts.embedCount),
          noun: "embed",
          abbreviatedNoun: COUNT_TYPE_DEFAULT_SHORT_SUFFIXES["embed" /* Embed */],
          abbreviateDescriptions,
          customSuffix: config.customSuffix
        });
      case "alias" /* Alias */:
        if (!counts.aliases || !Array.isArray(counts.aliases) || !counts.aliases.length) {
          return null;
        }
        return abbreviateDescriptions ? `${counts.aliases[0]}` : `alias: ${counts.aliases[0]}${counts.aliases.length > 1 ? ` +${counts.aliases.length - 1}` : ""}`;
      case "created" /* Created */: {
        if (counts.createdDate === 0) {
          return null;
        }
        const cDate = (0, import_obsidian3.moment)(counts.createdDate).format(this.settings.momentDateFormat || "YYYY/MM/DD");
        if (config.customSuffix !== null) {
          return `${cDate}${config.customSuffix}`;
        }
        return abbreviateDescriptions ? `${cDate}/c` : `Created ${cDate}`;
      }
      case "modified" /* Modified */: {
        if (counts.modifiedDate === 0) {
          return null;
        }
        const uDate = (0, import_obsidian3.moment)(counts.modifiedDate).format(this.settings.momentDateFormat || "YYYY/MM/DD");
        if (config.customSuffix !== null) {
          return `${uDate}${config.customSuffix}`;
        }
        return abbreviateDescriptions ? `${uDate}/u` : `Updated ${uDate}`;
      }
      case "filesize" /* FileSize */:
        return this.fileSizeHelper.formatFileSize(
          counts.sizeInBytes,
          abbreviateDescriptions
        );
      case "frontmatterKey" /* FrontmatterKey */: {
        if (!config.frontmatterKey) {
          return null;
        }
        const value = (_b = counts == null ? void 0 : counts.frontmatter) == null ? void 0 : _b[config.frontmatterKey];
        if (value === void 0 || value === null) {
          return null;
        }
        if (config.customSuffix !== null) {
          return `${value}${config.customSuffix}`;
        }
        return value;
      }
      case "tracksession" /* TrackSession */: {
        if (!config.$sessionCountType) {
          return null;
        }
        const quantity = this.getSessionQuantity(counts, config.$sessionCountType);
        if (config.customSuffix !== null) {
          return `${quantity}${config.customSuffix}`;
        }
        return abbreviateDescriptions ? `${quantity}/s` : `Session: ${quantity}`;
      }
    }
    return null;
  }
  getSessionQuantity(counts, $countType) {
    switch ($countType) {
      case "word" /* Word */:
        return NumberFormatDefault.format(Math.ceil(counts.wordCount - counts.sessionStart.wordCount));
      case "page" /* Page */:
        return NumberFormatDefault.format(Math.ceil(counts.pageCount - counts.sessionStart.pageCount));
      case "pagedecimal" /* PageDecimal */:
        return NumberFormatDecimal.format(counts.pageCount - counts.sessionStart.pageCount);
      case "linebreak" /* Linebreak */:
        return NumberFormatDefault.format(counts.newlineCount - counts.sessionStart.newlineCount);
      case "note" /* Note */:
        return NumberFormatDefault.format(counts.noteCount - counts.sessionStart.noteCount);
      case "character" /* Character */: {
        const characterCount = this.settings.characterCountType === "ExcludeWhitespace" /* ExcludeWhitespace */ ? counts.nonWhitespaceCharacterCount : counts.characterCount;
        const startingCharacterCount = this.settings.characterCountType === "ExcludeWhitespace" /* ExcludeWhitespace */ ? counts.sessionStart.nonWhitespaceCharacterCount : counts.sessionStart.characterCount;
        return NumberFormatDefault.format(characterCount - startingCharacterCount);
      }
    }
  }
};

// logic/saved_data.ts
var SavedDataHelper = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async getSavedData() {
    const loaded = await this.plugin.loadData();
    const denulled = Object.assign({}, loaded);
    denulled.settings = Object.assign({}, DEFAULT_SETTINGS, denulled.settings);
    const migrated = migrateSavedData(denulled);
    return migrated;
  }
};
function migrateSavedData(saved) {
  const migrations = [
    overwriteInvalidCountTypes,
    migrateToCountConfigurationObject
  ];
  for (const migrate of migrations) {
    saved = migrate(saved);
  }
  return saved;
}
var overwriteInvalidCountTypes = (saved) => {
  var _a;
  if (!((_a = saved == null ? void 0 : saved.settings) == null ? void 0 : _a.countType)) {
    return;
  }
  const fieldsToCheck = [
    "countType",
    "countType2",
    "countType3",
    "folderCountType",
    "folderCountType2",
    "folderCountType3",
    "rootCountType",
    "rootCountType2",
    "rootCountType3"
  ];
  for (const field of fieldsToCheck) {
    if (!COUNT_TYPES.includes(saved.settings[field])) {
      saved.settings[field] = field === "countType" ? "word" /* Word */ : "none" /* None */;
    }
  }
  return saved;
};
var migrateToCountConfigurationObject = (saved) => {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i;
  const settings = saved.settings;
  const oldSettings = saved.settings;
  (_a = settings.countConfig) != null ? _a : settings.countConfig = {};
  if (typeof oldSettings.countTypeSuffix === "string") {
    settings.countConfig.customSuffix = oldSettings.countTypeSuffix;
    delete oldSettings.countTypeSuffix;
  }
  if (typeof oldSettings.frontmatterKey === "string") {
    settings.countConfig.frontmatterKey = oldSettings.frontmatterKey;
    delete oldSettings.frontmatterKey;
  }
  (_b = settings.countConfig2) != null ? _b : settings.countConfig2 = {};
  if (typeof oldSettings.countType2Suffix === "string") {
    settings.countConfig2.customSuffix = oldSettings.countType2Suffix;
    delete oldSettings.countType2Suffix;
  }
  if (typeof oldSettings.frontmatterKey2 === "string") {
    settings.countConfig2.frontmatterKey = oldSettings.frontmatterKey2;
    delete oldSettings.frontmatterKey2;
  }
  (_c = settings.countConfig3) != null ? _c : settings.countConfig3 = {};
  if (typeof oldSettings.countType3Suffix === "string") {
    settings.countConfig3.customSuffix = oldSettings.countType3Suffix;
    delete oldSettings.countType3Suffix;
  }
  if (typeof oldSettings.frontmatterKey3 === "string") {
    settings.countConfig3.frontmatterKey = oldSettings.frontmatterKey3;
    delete oldSettings.frontmatterKey3;
  }
  (_d = settings.folderCountConfig) != null ? _d : settings.folderCountConfig = {};
  if (typeof oldSettings.folderCountTypeSuffix === "string") {
    settings.folderCountConfig.customSuffix = oldSettings.folderCountTypeSuffix;
    delete oldSettings.folderCountTypeSuffix;
  }
  (_e = settings.folderCountConfig2) != null ? _e : settings.folderCountConfig2 = {};
  if (typeof oldSettings.folderCountType2Suffix === "string") {
    settings.folderCountConfig2.customSuffix = oldSettings.folderCountType2Suffix;
    delete oldSettings.folderCountType2Suffix;
  }
  (_f = settings.folderCountConfig3) != null ? _f : settings.folderCountConfig3 = {};
  if (typeof oldSettings.folderCountType3Suffix === "string") {
    settings.folderCountConfig3.customSuffix = oldSettings.folderCountType3Suffix;
    delete oldSettings.folderCountType3Suffix;
  }
  (_g = settings.rootCountConfig) != null ? _g : settings.rootCountConfig = {};
  if (typeof oldSettings.rootCountTypeSuffix === "string") {
    settings.rootCountConfig.customSuffix = oldSettings.rootCountTypeSuffix;
    delete oldSettings.rootCountTypeSuffix;
  }
  (_h = settings.rootCountConfig2) != null ? _h : settings.rootCountConfig2 = {};
  if (typeof oldSettings.rootCountType2Suffix === "string") {
    settings.rootCountConfig2.customSuffix = oldSettings.rootCountType2Suffix;
    delete oldSettings.rootCountType2Suffix;
  }
  (_i = settings.rootCountConfig3) != null ? _i : settings.rootCountConfig3 = {};
  if (typeof oldSettings.rootCountType3Suffix === "string") {
    settings.rootCountConfig3.customSuffix = oldSettings.rootCountType3Suffix;
    delete oldSettings.rootCountType3Suffix;
  }
  return saved;
};

// logic/settings.tab.ts
var import_obsidian4 = require("obsidian");
var NovelWordCountSettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    this.renderNoteSettings(containerEl);
    this.renderFolderSettings(containerEl);
    this.renderRootSettings(containerEl);
    this.renderAdvancedSettings(containerEl);
    this.renderReanalyzeButton(containerEl);
    this.renderDonationButton(containerEl);
  }
  //
  // NOTES
  //
  renderNoteSettings(containerEl) {
    const mainHeader = containerEl.createEl("div", {
      cls: [
        "setting-item",
        "setting-item-heading",
        "novel-word-count-settings-header"
      ]
    });
    mainHeader.createEl("div", { text: "Notes" });
    mainHeader.createEl("div", {
      text: "You can display up to three data types side by side.",
      cls: "setting-item-description"
    });
    new import_obsidian4.Setting(containerEl).setDesc("Use advanced formatting").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.useAdvancedFormatting).onChange(async (value) => {
        this.plugin.settings.useAdvancedFormatting = value;
        await this.plugin.saveSettings();
        await this.plugin.updateDisplayedCounts();
        this.display();
      })
    );
    this.renderCountTypeSetting(containerEl, {
      name: "1st data type to show",
      oldCountType: this.plugin.settings.countType,
      setNewCountType: (value) => {
        this.plugin.settings.countType = value;
        this.plugin.settings.countConfig.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.countType];
      }
    });
    this.renderSessionCountTypeSetting(containerEl, {
      parentCountType: this.plugin.settings.countType,
      oldCountType: this.plugin.settings.countConfig.$sessionCountType,
      setNewCountType: (value) => {
        this.plugin.settings.countConfig.$sessionCountType = value;
      }
    });
    this.renderFrontmatterKeySetting(containerEl, {
      countType: this.plugin.settings.countType,
      oldKey: this.plugin.settings.countConfig.frontmatterKey,
      setNewKey: (value) => this.plugin.settings.countConfig.frontmatterKey = value
    });
    this.renderCustomFormatSetting(containerEl, {
      countType: this.plugin.settings.countType,
      oldSuffix: this.plugin.settings.countConfig.customSuffix,
      setNewSuffix: (value) => this.plugin.settings.countConfig.customSuffix = value
    });
    this.renderCountTypeSetting(containerEl, {
      name: "2nd data type to show",
      oldCountType: this.plugin.settings.countType2,
      setNewCountType: (value) => {
        this.plugin.settings.countType2 = value;
        this.plugin.settings.countConfig2.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.countType2];
      }
    });
    this.renderSessionCountTypeSetting(containerEl, {
      parentCountType: this.plugin.settings.countType2,
      oldCountType: this.plugin.settings.countConfig2.$sessionCountType,
      setNewCountType: (value) => {
        this.plugin.settings.countConfig2.$sessionCountType = value;
      }
    });
    this.renderFrontmatterKeySetting(containerEl, {
      countType: this.plugin.settings.countType2,
      oldKey: this.plugin.settings.countConfig2.frontmatterKey,
      setNewKey: (value) => this.plugin.settings.countConfig2.frontmatterKey = value
    });
    this.renderCustomFormatSetting(containerEl, {
      countType: this.plugin.settings.countType2,
      oldSuffix: this.plugin.settings.countConfig2.customSuffix,
      setNewSuffix: (value) => this.plugin.settings.countConfig2.customSuffix = value
    });
    this.renderCountTypeSetting(containerEl, {
      name: "3rd data type to show",
      oldCountType: this.plugin.settings.countType3,
      setNewCountType: (value) => {
        this.plugin.settings.countType3 = value;
        this.plugin.settings.countConfig3.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.countType3];
      }
    });
    this.renderSessionCountTypeSetting(containerEl, {
      parentCountType: this.plugin.settings.countType3,
      oldCountType: this.plugin.settings.countConfig3.$sessionCountType,
      setNewCountType: (value) => {
        this.plugin.settings.countConfig3.$sessionCountType = value;
      }
    });
    this.renderFrontmatterKeySetting(containerEl, {
      countType: this.plugin.settings.countType3,
      oldKey: this.plugin.settings.countConfig3.frontmatterKey,
      setNewKey: (value) => this.plugin.settings.countConfig3.frontmatterKey = value
    });
    this.renderCustomFormatSetting(containerEl, {
      countType: this.plugin.settings.countType3,
      oldSuffix: this.plugin.settings.countConfig3.customSuffix,
      setNewSuffix: (value) => this.plugin.settings.countConfig3.customSuffix = value
    });
    if (this.plugin.settings.useAdvancedFormatting) {
      new import_obsidian4.Setting(containerEl).setName("Data type separator").addText(
        (text) => text.setValue(this.plugin.settings.pipeSeparator).onChange(async (value) => {
          this.plugin.settings.pipeSeparator = value;
          await this.plugin.saveSettings();
          await this.plugin.updateDisplayedCounts();
        })
      );
    }
    if (!this.plugin.settings.useAdvancedFormatting) {
      new import_obsidian4.Setting(containerEl).setName("Abbreviate descriptions").setDesc("E.g. show '120w' instead of '120 words'").addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.abbreviateDescriptions).onChange(async (value) => {
          this.plugin.settings.abbreviateDescriptions = value;
          await this.plugin.saveSettings();
          await this.plugin.updateDisplayedCounts();
        })
      );
    }
    new import_obsidian4.Setting(containerEl).setName("Alignment").setDesc(
      "Show data inline with file/folder names, right-aligned, or underneath"
    ).addDropdown((drop) => {
      drop.addOption("inline" /* Inline */, "Inline").addOption("right" /* Right */, "Right-aligned").addOption("below" /* Below */, "Below").setValue(this.plugin.settings.alignment).onChange(async (value) => {
        this.plugin.settings.alignment = value;
        await this.plugin.saveSettings();
        await this.plugin.updateDisplayedCounts();
      });
    });
  }
  renderFolderSettings(containerEl) {
    this.renderSeparator(containerEl);
    new import_obsidian4.Setting(containerEl).setHeading().setName("Folders: Same data as Notes").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showSameCountsOnFolders).onChange(async (value) => {
        this.plugin.settings.showSameCountsOnFolders = value;
        await this.plugin.saveSettings();
        this.display();
        await this.plugin.updateDisplayedCounts();
      })
    );
    if (!this.plugin.settings.showSameCountsOnFolders) {
      this.renderCountTypeSetting(containerEl, {
        name: "1st data type to show",
        oldCountType: this.plugin.settings.folderCountType,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountType = value;
          this.plugin.settings.folderCountConfig.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.folderCountType];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.folderCountType,
        oldCountType: this.plugin.settings.folderCountConfig.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountConfig.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.folderCountType,
        oldSuffix: this.plugin.settings.folderCountConfig.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.folderCountConfig.customSuffix = value
      });
      this.renderCountTypeSetting(containerEl, {
        name: "2nd data type to show",
        oldCountType: this.plugin.settings.folderCountType2,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountType2 = value;
          this.plugin.settings.folderCountConfig2.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.folderCountType2];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.folderCountType2,
        oldCountType: this.plugin.settings.folderCountConfig2.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountConfig2.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.folderCountType2,
        oldSuffix: this.plugin.settings.folderCountConfig2.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.folderCountConfig2.customSuffix = value
      });
      this.renderCountTypeSetting(containerEl, {
        name: "3rd data type to show",
        oldCountType: this.plugin.settings.folderCountType3,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountType3 = value;
          this.plugin.settings.folderCountConfig3.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.folderCountType3];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.folderCountType3,
        oldCountType: this.plugin.settings.folderCountConfig3.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.folderCountConfig3.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.folderCountType3,
        oldSuffix: this.plugin.settings.folderCountConfig3.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.folderCountConfig3.customSuffix = value
      });
      if (this.plugin.settings.useAdvancedFormatting) {
        new import_obsidian4.Setting(containerEl).setName("Data type separator").addText(
          (text) => text.setValue(this.plugin.settings.folderPipeSeparator).onChange(async (value) => {
            this.plugin.settings.folderPipeSeparator = value;
            await this.plugin.saveSettings();
            await this.plugin.updateDisplayedCounts();
          })
        );
      }
      if (!this.plugin.settings.useAdvancedFormatting) {
        new import_obsidian4.Setting(containerEl).setName("Abbreviate descriptions").addToggle(
          (toggle) => toggle.setValue(this.plugin.settings.folderAbbreviateDescriptions).onChange(async (value) => {
            this.plugin.settings.folderAbbreviateDescriptions = value;
            await this.plugin.saveSettings();
            await this.plugin.updateDisplayedCounts();
          })
        );
      }
      new import_obsidian4.Setting(containerEl).setName("Alignment").addDropdown((drop) => {
        drop.addOption("inline" /* Inline */, "Inline").addOption("right" /* Right */, "Right-aligned").addOption("below" /* Below */, "Below").setValue(this.plugin.settings.folderAlignment).onChange(async (value) => {
          this.plugin.settings.folderAlignment = value;
          await this.plugin.saveSettings();
          await this.plugin.updateDisplayedCounts();
        });
      });
    }
  }
  renderRootSettings(containerEl) {
    this.renderSeparator(containerEl);
    new import_obsidian4.Setting(containerEl).setHeading().setName("Root: Same data as Notes").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showSameCountsOnRoot).onChange(async (value) => {
        this.plugin.settings.showSameCountsOnRoot = value;
        await this.plugin.saveSettings();
        this.display();
        await this.plugin.updateDisplayedCounts();
      })
    );
    if (!this.plugin.settings.showSameCountsOnRoot) {
      this.renderCountTypeSetting(containerEl, {
        name: "1st data type to show",
        oldCountType: this.plugin.settings.rootCountType,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountType = value;
          this.plugin.settings.rootCountConfig.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.rootCountType];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.rootCountType,
        oldCountType: this.plugin.settings.rootCountConfig.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountConfig.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.rootCountType,
        oldSuffix: this.plugin.settings.rootCountConfig.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.rootCountConfig.customSuffix = value
      });
      this.renderCountTypeSetting(containerEl, {
        name: "2nd data type to show",
        oldCountType: this.plugin.settings.rootCountType2,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountType2 = value;
          this.plugin.settings.rootCountConfig2.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.rootCountType2];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.rootCountType2,
        oldCountType: this.plugin.settings.rootCountConfig2.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountConfig2.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.rootCountType2,
        oldSuffix: this.plugin.settings.rootCountConfig2.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.rootCountConfig2.customSuffix = value
      });
      this.renderCountTypeSetting(containerEl, {
        name: "3rd data type to show",
        oldCountType: this.plugin.settings.rootCountType3,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountType3 = value;
          this.plugin.settings.rootCountConfig3.customSuffix = COUNT_TYPE_DEFAULT_SHORT_SUFFIXES[this.plugin.settings.rootCountType3];
        }
      });
      this.renderSessionCountTypeSetting(containerEl, {
        parentCountType: this.plugin.settings.rootCountType3,
        oldCountType: this.plugin.settings.rootCountConfig3.$sessionCountType,
        setNewCountType: (value) => {
          this.plugin.settings.rootCountConfig3.$sessionCountType = value;
        }
      });
      this.renderCustomFormatSetting(containerEl, {
        countType: this.plugin.settings.rootCountType3,
        oldSuffix: this.plugin.settings.rootCountConfig3.customSuffix,
        setNewSuffix: (value) => this.plugin.settings.rootCountConfig3.customSuffix = value
      });
      if (this.plugin.settings.useAdvancedFormatting) {
        new import_obsidian4.Setting(containerEl).setName("Data type separator").addText(
          (text) => text.setValue(this.plugin.settings.rootPipeSeparator).onChange(async (value) => {
            this.plugin.settings.rootPipeSeparator = value;
            await this.plugin.saveSettings();
            await this.plugin.updateDisplayedCounts();
          })
        );
      }
      if (!this.plugin.settings.useAdvancedFormatting) {
        new import_obsidian4.Setting(containerEl).setName("Abbreviate descriptions").addToggle(
          (toggle) => toggle.setValue(this.plugin.settings.rootAbbreviateDescriptions).onChange(async (value) => {
            this.plugin.settings.rootAbbreviateDescriptions = value;
            await this.plugin.saveSettings();
            await this.plugin.updateDisplayedCounts();
          })
        );
      }
    }
  }
  renderAdvancedSettings(containerEl) {
    this.renderSeparator(containerEl);
    new import_obsidian4.Setting(containerEl).setHeading().setName("Show advanced options").setDesc("Language compatibility and fine-tuning").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.showAdvanced).onChange(async (value) => {
        this.plugin.settings.showAdvanced = value;
        await this.plugin.saveSettings();
        this.display();
      })
    );
    if (this.plugin.settings.showAdvanced) {
      const opacityChanged = async (value) => {
        this.plugin.settings.labelOpacity = Math.clamp(value, 0, 1);
        await this.plugin.saveSettings();
        await this.plugin.updateDisplayedCounts();
      };
      new import_obsidian4.Setting(containerEl).setName("Label opacity").setDesc("Increase this value to make all count labels in the File Explorer more visible.").addSlider((slider) => {
        slider.setLimits(0, 1, 0.05).setDynamicTooltip().setValue(this.plugin.settings.labelOpacity).onChange((0, import_obsidian4.debounce)(opacityChanged.bind(this), 500));
      });
      const includePathsChanged = async (txt, value) => {
        this.plugin.settings.includeDirectories = value;
        await this.plugin.saveSettings();
        await this.plugin.initialize();
      };
      new import_obsidian4.Setting(containerEl).setName("Include file/folder names").setDesc(
        "Only count paths matching the indicated term(s). Case-sensitive, comma-separated. Defaults to all files. Any term starting with ! will be excluded instead of included."
      ).addText((txt) => {
        txt.setPlaceholder("").setValue(this.plugin.settings.includeDirectories).onChange((0, import_obsidian4.debounce)(includePathsChanged.bind(this, txt), 1e3));
      });
      new import_obsidian4.Setting(containerEl).setName("Exclude comments").setDesc(
        "Exclude %%Obsidian%% and <!--HTML--> comments from counts. May affect performance on large vaults."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.excludeComments).onChange(async (value) => {
          this.plugin.settings.excludeComments = value;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        })
      );
      new import_obsidian4.Setting(containerEl).setName("Exclude code blocks").setDesc(
        "Exclude ```code blocks``` (e.g. DataView snippets) from all counts. May affect performance on large vaults."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.excludeCodeBlocks).onChange(async (value) => {
          this.plugin.settings.excludeCodeBlocks = value;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        })
      );
      new import_obsidian4.Setting(containerEl).setName("Exclude non-visible portions of links").setDesc(
        "For external links, exclude the URI from all counts. For internal links with aliases, only count the alias. May affect performance on large vaults."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.excludeNonVisibleLinkPortions).onChange(async (value) => {
          this.plugin.settings.excludeNonVisibleLinkPortions = value;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        })
      );
      new import_obsidian4.Setting(containerEl).setName("Exclude footnotes").setDesc(
        "Exclude footnotes[^1] from counts. May affect performance on large vaults."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.excludeFootnotes).onChange(async (value) => {
          this.plugin.settings.excludeFootnotes = value;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        })
      );
      new import_obsidian4.Setting(containerEl).setName("Character count method").setDesc("For language compatibility").addDropdown((drop) => {
        drop.addOption("AllCharacters" /* StringLength */, "All characters").addOption(
          "ExcludeWhitespace" /* ExcludeWhitespace */,
          "Exclude whitespace"
        ).setValue(this.plugin.settings.characterCountType).onChange(async (value) => {
          this.plugin.settings.characterCountType = value;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        });
      });
      new import_obsidian4.Setting(containerEl).setName("Page count method").setDesc("For language compatibility").addDropdown((drop) => {
        drop.addOption("ByWords" /* ByWords */, "Words per page").addOption("ByChars" /* ByChars */, "Characters per page").setValue(this.plugin.settings.pageCountType).onChange(async (value) => {
          this.plugin.settings.pageCountType = value;
          await this.plugin.saveSettings();
          this.display();
          await this.plugin.updateDisplayedCounts();
        });
      });
      const wordsPerMinuteChanged = async (txt, value) => {
        const asNumber = Number(value);
        const isValid = !isNaN(asNumber) && asNumber > 0;
        txt.inputEl.style.borderColor = isValid ? null : "red";
        this.plugin.settings.wordsPerMinute = isValid ? Number(value) : 265;
        await this.plugin.saveSettings();
        await this.plugin.initialize();
      };
      new import_obsidian4.Setting(containerEl).setName("Words per minute").setDesc(
        "Used to calculate Reading Time. 265 is the average speed of an English-speaking adult."
      ).addText((txt) => {
        txt.setPlaceholder("265").setValue(this.plugin.settings.wordsPerMinute.toString()).onChange((0, import_obsidian4.debounce)(wordsPerMinuteChanged.bind(this, txt), 1e3));
      });
      const charsPerMinuteChanged = async (txt, value) => {
        const asNumber = Number(value);
        const isValid = !isNaN(asNumber) && asNumber > 0;
        txt.inputEl.style.borderColor = isValid ? null : "red";
        this.plugin.settings.charsPerMinute = isValid ? Number(value) : 500;
        await this.plugin.saveSettings();
        await this.plugin.initialize();
      };
      new import_obsidian4.Setting(containerEl).setName("CJK characters per minute").setDesc(
        "Used to calculate Reading Time. 500 is the average speed for CJK texts."
      ).addText((txt) => {
        txt.setPlaceholder("500").setValue(this.plugin.settings.charsPerMinute.toString()).onChange((0, import_obsidian4.debounce)(charsPerMinuteChanged.bind(this, txt), 1e3));
      });
      if (this.plugin.settings.pageCountType === "ByWords" /* ByWords */) {
        const wordsPerPageChanged = async (txt, value) => {
          const asNumber = Number(value);
          const isValid = !isNaN(asNumber) && asNumber > 0;
          txt.inputEl.style.borderColor = isValid ? null : "red";
          this.plugin.settings.wordsPerPage = isValid ? Number(value) : 300;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        };
        new import_obsidian4.Setting(containerEl).setName("Words per page").setDesc(
          "Used for page count. 300 is standard in English language publishing."
        ).addText((txt) => {
          txt.setPlaceholder("300").setValue(this.plugin.settings.wordsPerPage.toString()).onChange((0, import_obsidian4.debounce)(wordsPerPageChanged.bind(this, txt), 1e3));
        });
      }
      if (this.plugin.settings.pageCountType === "ByChars" /* ByChars */) {
        new import_obsidian4.Setting(containerEl).setName("Include whitespace characters in page count").addToggle(
          (toggle) => toggle.setValue(this.plugin.settings.charsPerPageIncludesWhitespace).onChange(async (value) => {
            this.plugin.settings.charsPerPageIncludesWhitespace = value;
            await this.plugin.saveSettings();
            this.display();
            await this.plugin.initialize();
          })
        );
        const charsPerPageChanged = async (txt, value) => {
          const asNumber = Number(value);
          const isValid = !isNaN(asNumber) && asNumber > 0;
          txt.inputEl.style.borderColor = isValid ? null : "red";
          const defaultCharsPerPage = 1500;
          this.plugin.settings.charsPerPage = isValid ? Number(value) : defaultCharsPerPage;
          await this.plugin.saveSettings();
          await this.plugin.initialize();
        };
        new import_obsidian4.Setting(containerEl).setName("Characters per page").setDesc(
          `Used for page count. ${this.plugin.settings.charsPerPageIncludesWhitespace ? "2400 is common in Danish." : "1500 is common in German (Normseite)."}`
        ).addText((txt) => {
          txt.setPlaceholder("1500").setValue(this.plugin.settings.charsPerPage.toString()).onChange((0, import_obsidian4.debounce)(charsPerPageChanged.bind(this, txt), 1e3));
        });
      }
      const dateFormatChanged = async (txt, value) => {
        const isValid = typeof value === "string" && !!value.trim();
        this.plugin.settings.momentDateFormat = isValid ? value : "";
        await this.plugin.saveSettings();
        await this.plugin.initialize();
      };
      new import_obsidian4.Setting(containerEl).setName("Date format").setDesc("MomentJS date format to use for date strings").addText((txt) => {
        txt.setPlaceholder("YYYY/MM/DD").setValue(this.plugin.settings.momentDateFormat).onChange((0, import_obsidian4.debounce)(dateFormatChanged.bind(this, txt), 1e3));
      });
      new import_obsidian4.Setting(containerEl).setName("Debug mode").setDesc("Log debugging information to the developer console").addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.debugMode).onChange(async (value) => {
          this.plugin.settings.debugMode = value;
          this.plugin.debugHelper.setDebugMode(value);
          this.plugin.fileHelper.setDebugMode(value);
          await this.plugin.saveSettings();
        })
      );
    }
  }
  renderReanalyzeButton(containerEl) {
    this.renderSeparator(containerEl);
    new import_obsidian4.Setting(containerEl).setHeading().setName("Recount all documents").setDesc(
      "If changes have occurred outside of Obsidian, you may need to trigger a manual recount"
    ).addButton(
      (button) => button.setButtonText("Recount").setCta().onClick(async () => {
        button.disabled = true;
        await this.plugin.initialize();
        button.setButtonText("Done");
        button.removeCta();
        setTimeout(() => {
          button.setButtonText("Recount");
          button.setCta();
          button.disabled = false;
        }, 1e3);
      })
    );
  }
  renderDonationButton(containerEl) {
    this.renderSeparator(containerEl);
    const label = containerEl.createEl("div", {
      cls: [
        "setting-item",
        "setting-item-heading",
        "novel-word-count-settings-header",
        "novel-word-count-donation-line"
      ]
    });
    label.createEl("div", {
      text: "Enjoying this plugin? Want more features?"
    });
    const button = label.createEl("div");
    button.innerHTML = `<a href='https://ko-fi.com/J3J6OWA5C' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi2.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a>`;
  }
  renderCountTypeSetting(containerEl, config) {
    new import_obsidian4.Setting(containerEl).setName(config.name).setDesc(getDescription(config.oldCountType)).addDropdown((drop) => {
      for (const countType of COUNT_TYPES) {
        drop.addOption(countType, COUNT_TYPE_DISPLAY_STRINGS[countType]);
      }
      drop.setValue(config.oldCountType).onChange(async (value) => {
        config.setNewCountType(value);
        await this.plugin.saveSettings();
        this.display();
        await this.plugin.updateDisplayedCounts();
      });
    });
  }
  renderSessionCountTypeSetting(containerEl, config) {
    if (config.parentCountType !== "tracksession" /* TrackSession */) {
      return;
    }
    new import_obsidian4.Setting(containerEl).setDesc("[Track Session] Session count type").addDropdown((drop) => {
      for (const countType of SESSION_COUNT_TYPES) {
        drop.addOption(countType, COUNT_TYPE_DISPLAY_STRINGS[countType]);
      }
      drop.setValue(config.oldCountType).onChange(async (value) => {
        config.setNewCountType(value);
        await this.plugin.saveSettings();
        this.display();
        await this.plugin.updateDisplayedCounts();
      });
    });
  }
  renderCustomFormatSetting(containerEl, config) {
    if (!this.plugin.settings.useAdvancedFormatting || config.countType === "none" /* None */) {
      return;
    }
    if (UNFORMATTABLE_COUNT_TYPES.includes(config.countType)) {
      new import_obsidian4.Setting(containerEl).setDesc(
        `[${COUNT_TYPE_DISPLAY_STRINGS[config.countType]}] can't be formatted.`
      );
    } else {
      new import_obsidian4.Setting(containerEl).setDesc(
        `[${COUNT_TYPE_DISPLAY_STRINGS[config.countType]}] Custom suffix`
      ).addText(
        (text) => text.setValue(config.oldSuffix).onChange(async (value) => {
          config.setNewSuffix(value);
          await this.plugin.saveSettings();
          await this.plugin.updateDisplayedCounts();
        })
      );
    }
  }
  renderFrontmatterKeySetting(containerEl, config) {
    if (config.countType !== "frontmatterKey" /* FrontmatterKey */) {
      return;
    }
    new import_obsidian4.Setting(containerEl).setDesc(
      `[${COUNT_TYPE_DISPLAY_STRINGS["frontmatterKey" /* FrontmatterKey */]}] Key name`
    ).addText(
      (text) => text.setValue(config.oldKey).onChange(async (value) => {
        config.setNewKey(value);
        await this.plugin.saveSettings();
        await this.plugin.updateDisplayedCounts();
      })
    );
  }
  renderSeparator(containerEl) {
    containerEl.createEl("hr", {
      cls: "novel-word-count-hr"
    });
  }
};

// main.ts
var import_obsidian5 = require("obsidian");
var NovelWordCountPlugin = class extends import_obsidian5.Plugin {
  constructor(app, manifest) {
    super(app, manifest);
    this.debugHelper = new DebugHelper();
    this.FIVE_MINUTES = 5 * 60 * 1e3;
    this.saveSettingsDebounced = (0, import_obsidian5.debounce)(this.saveSettings, this.FIVE_MINUTES, false);
    this.fileHelper = new FileHelper(this.app, this);
    this.eventHelper = new EventHelper(
      this,
      app,
      this.debugHelper,
      this.fileHelper
    );
    this.nodeLabelHelper = new NodeLabelHelper(this);
    this.savedDataHelper = new SavedDataHelper(this);
  }
  get settings() {
    return this.savedData.settings;
  }
  // LIFECYCLE
  async onload() {
    this.savedData = await this.savedDataHelper.getSavedData();
    this.fileHelper.setDebugMode(this.savedData.settings.debugMode);
    this.debugHelper.setDebugMode(this.savedData.settings.debugMode);
    this.debugHelper.debug(`Detected locales: [${navigator.languages}]`);
    this.debugHelper.debug("onload lifecycle hook");
    this.addSettingTab(new NovelWordCountSettingTab(this.app, this));
    this.addCommand({
      id: "recount-vault",
      name: "Recount all notes / Reset session",
      callback: async () => {
        this.debugHelper.debug("[Recount] command triggered");
        await this.initialize();
      }
    });
    this.addCommand({
      id: "cycle-count-type",
      name: "Show next data type (1st position)",
      callback: async () => {
        this.debugHelper.debug("[Cycle next data type] command triggered");
        this.settings.countType = COUNT_TYPES[(COUNT_TYPES.indexOf(this.settings.countType) + 1) % COUNT_TYPES.length];
        await this.saveSettings();
        this.updateDisplayedCounts();
      }
    });
    this.addCommand({
      id: "toggle-abbreviate",
      name: "Toggle abbreviation on Notes",
      callback: async () => {
        this.debugHelper.debug(
          "[Toggle abbrevation - Notes] command triggered"
        );
        this.settings.abbreviateDescriptions = !this.settings.abbreviateDescriptions;
        await this.saveSettings();
        this.updateDisplayedCounts();
      }
    });
    for (const countType of COUNT_TYPES) {
      this.addCommand({
        id: `set-count-type-${countType}`,
        name: `Show ${COUNT_TYPE_DISPLAY_STRINGS[countType]} (1st position)`,
        callback: async () => {
          this.debugHelper.debug(
            `[Set count type to ${countType}] command triggered`
          );
          this.settings.countType = countType;
          await this.saveSettings();
          this.updateDisplayedCounts();
        }
      });
    }
    this.eventHelper.handleEvents();
    this.initialize();
  }
  async onunload() {
    await this.saveSettings();
  }
  // SETTINGS
  async saveSettings() {
    this.debugHelper.debug("Saving to data.json.");
    await this.saveData(this.savedData);
  }
  // PUBLIC
  /**
  	Called with (true) when the plugin initializes or the user clicks Reanalyze.
  	Called with (false) every second while waiting for the file explorer to load.
  */
  async initialize(reinitializeAllCounts = true) {
    this.debugHelper.debug("initialize");
    this.app.workspace.onLayoutReady(async () => {
      if (reinitializeAllCounts) {
        await this.eventHelper.reinitializeAllCounts();
      }
      try {
        await this.getFileExplorerLeaf();
        await this.updateDisplayedCounts();
      } catch (err) {
        this.debugHelper.debug("Error while updating displayed counts");
        this.debugHelper.error(err);
        setTimeout(() => {
          this.initialize(false);
        }, 1e3);
      }
    });
  }
  async updateDisplayedCounts(file = null) {
    var _a, _b;
    const debugEnd = this.debugHelper.debugStart(
      `updateDisplayedCounts [${file == null ? "ALL" : file.path}]`
    );
    if (!Object.keys(this.savedData.cachedCounts).length) {
      this.debugHelper.debug("No cached data found; skipping update.");
      return;
    }
    let fileExplorerLeaf;
    try {
      fileExplorerLeaf = await this.getFileExplorerLeaf();
    } catch (err) {
      this.debugHelper.debug("File explorer leaf not found; skipping update.");
      return;
    }
    this.setContainerClass(fileExplorerLeaf);
    const fileExplorerView = fileExplorerLeaf.view;
    const fileItems = fileExplorerView.fileItems;
    if ((_a = fileExplorerView == null ? void 0 : fileExplorerView.headerDom) == null ? void 0 : _a.navButtonsEl) {
      const counts = this.fileHelper.getCachedDataForPath(
        this.savedData.cachedCounts,
        "/"
      );
      fileExplorerView.headerDom.navButtonsEl.setAttribute(
        "data-novel-word-count-plugin",
        this.nodeLabelHelper.getNodeLabel(counts)
      );
      document.documentElement.style.setProperty("--novel-word-count-opacity", `${this.settings.labelOpacity}`);
    }
    if (file) {
      const relevantItems = Object.keys(fileItems).filter(
        (path) => file.path.includes(path)
      );
      this.debugHelper.debug(
        "Setting display counts for",
        relevantItems.length,
        "fileItems matching path",
        file.path
      );
    } else {
      this.debugHelper.debug(
        `Setting display counts for ${Object.keys(fileItems).length} fileItems`
      );
    }
    for (const path in fileItems) {
      if (file && (!file.path.includes(path) || file.path === "/")) {
        continue;
      }
      const counts = this.fileHelper.getCachedDataForPath(
        this.savedData.cachedCounts,
        path
      );
      const item = fileItems[path];
      ((_b = item.titleEl) != null ? _b : item.selfEl).setAttribute(
        "data-novel-word-count-plugin",
        this.nodeLabelHelper.getNodeLabel(counts)
      );
    }
    debugEnd();
  }
  // FUNCTIONALITY
  async getFileExplorerLeaf() {
    return new Promise((resolve, reject) => {
      let foundLeaf = null;
      this.app.workspace.iterateAllLeaves((leaf) => {
        if (foundLeaf) {
          return;
        }
        const view = leaf.view;
        if (!view || !view.fileItems) {
          return;
        }
        foundLeaf = leaf;
        resolve(foundLeaf);
      });
      if (!foundLeaf) {
        reject(Error("Could not find file explorer leaf."));
      }
    });
  }
  setContainerClass(leaf) {
    const container = leaf.view.containerEl;
    container.toggleClass(`novel-word-count--active`, true);
    const notePrefix = `novel-word-count--note-`;
    const folderPrefix = `novel-word-count--folder-`;
    const alignmentClasses = ALIGNMENT_TYPES.map((at) => notePrefix + at).concat(ALIGNMENT_TYPES.map((at) => folderPrefix + at));
    for (const ac of alignmentClasses) {
      container.toggleClass(ac, false);
    }
    container.toggleClass(notePrefix + this.settings.alignment, true);
    const folderAlignment = this.settings.showSameCountsOnFolders ? this.settings.alignment : this.settings.folderAlignment;
    container.toggleClass(folderPrefix + folderAlignment, true);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJsb2dpYy9kZWJ1Zy50cyIsICJsb2dpYy9ldmVudC50cyIsICJsb2dpYy9jYW5jZWxsYXRpb24udHMiLCAibG9naWMvZmlsZS50cyIsICJsb2dpYy9zZXR0aW5ncy50cyIsICJsb2dpYy9wYXJzZXIudHMiLCAibG9naWMvY2FudmFzLnRzIiwgImxvZ2ljL2xvY2FsZV9mb3JtYXQudHMiLCAibG9naWMvZmlsZXNpemUudHMiLCAibG9naWMvcmVhZHRpbWUudHMiLCAibG9naWMvbm9kZV9sYWJlbC50cyIsICJsb2dpYy9zYXZlZF9kYXRhLnRzIiwgImxvZ2ljL3NldHRpbmdzLnRhYi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgRGVidWdIZWxwZXIgfSBmcm9tIFwibG9naWMvZGVidWdcIjtcclxuaW1wb3J0IHsgRXZlbnRIZWxwZXIgfSBmcm9tIFwibG9naWMvZXZlbnRcIjtcclxuaW1wb3J0IHsgRmlsZUhlbHBlciB9IGZyb20gXCJsb2dpYy9maWxlXCI7XHJcbmltcG9ydCB7IE5vZGVMYWJlbEhlbHBlciB9IGZyb20gXCJsb2dpYy9ub2RlX2xhYmVsXCI7XHJcbmltcG9ydCB7IE5vdmVsV29yZENvdW50U2F2ZWREYXRhLCBTYXZlZERhdGFIZWxwZXIgfSBmcm9tIFwibG9naWMvc2F2ZWRfZGF0YVwiO1xyXG5pbXBvcnQge1xyXG5cdEFMSUdOTUVOVF9UWVBFUyxcclxuXHRDT1VOVF9UWVBFX0RJU1BMQVlfU1RSSU5HUyxcclxuXHRDT1VOVF9UWVBFUyxcclxuXHROb3ZlbFdvcmRDb3VudFNldHRpbmdzLFxyXG59IGZyb20gXCJsb2dpYy9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBOb3ZlbFdvcmRDb3VudFNldHRpbmdUYWIgfSBmcm9tIFwibG9naWMvc2V0dGluZ3MudGFiXCI7XHJcbmltcG9ydCB7XHJcblx0QXBwLFxyXG5cdFBsdWdpbixcclxuXHRQbHVnaW5NYW5pZmVzdCxcclxuXHRXb3Jrc3BhY2VMZWFmLFxyXG5cdFRBYnN0cmFjdEZpbGUsXHJcblx0ZGVib3VuY2VcclxufSBmcm9tIFwib2JzaWRpYW5cIjtcclxuXHJcbmludGVyZmFjZSBGaWxlSXRlbSB7XHJcblx0dGl0bGVFbD86IEhUTUxFbGVtZW50O1xyXG5cdHNlbGZFbDogSFRNTEVsZW1lbnQ7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdmVsV29yZENvdW50UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzYXZlZERhdGE6IE5vdmVsV29yZENvdW50U2F2ZWREYXRhO1xyXG5cdGdldCBzZXR0aW5ncygpOiBOb3ZlbFdvcmRDb3VudFNldHRpbmdzIHtcclxuXHRcdHJldHVybiB0aGlzLnNhdmVkRGF0YS5zZXR0aW5ncztcclxuXHR9XHJcblx0ZmlsZUhlbHBlcjogRmlsZUhlbHBlcjtcclxuXHRldmVudEhlbHBlcjogRXZlbnRIZWxwZXI7XHJcblx0bm9kZUxhYmVsSGVscGVyOiBOb2RlTGFiZWxIZWxwZXI7XHJcblx0ZGVidWdIZWxwZXIgPSBuZXcgRGVidWdIZWxwZXIoKTtcclxuXHRzYXZlZERhdGFIZWxwZXI6IFNhdmVkRGF0YUhlbHBlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCkge1xyXG5cdFx0c3VwZXIoYXBwLCBtYW5pZmVzdCk7XHJcblx0XHR0aGlzLmZpbGVIZWxwZXIgPSBuZXcgRmlsZUhlbHBlcih0aGlzLmFwcCwgdGhpcyk7XHJcblx0XHR0aGlzLmV2ZW50SGVscGVyID0gbmV3IEV2ZW50SGVscGVyKFxyXG5cdFx0XHR0aGlzLFxyXG5cdFx0XHRhcHAsXHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIsXHJcblx0XHRcdHRoaXMuZmlsZUhlbHBlclxyXG5cdFx0KTtcclxuXHRcdHRoaXMubm9kZUxhYmVsSGVscGVyID0gbmV3IE5vZGVMYWJlbEhlbHBlcih0aGlzKTtcclxuXHRcdHRoaXMuc2F2ZWREYXRhSGVscGVyID0gbmV3IFNhdmVkRGF0YUhlbHBlcih0aGlzKVxyXG5cdH1cclxuXHJcblx0Ly8gTElGRUNZQ0xFXHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdHRoaXMuc2F2ZWREYXRhID0gYXdhaXQgdGhpcy5zYXZlZERhdGFIZWxwZXIuZ2V0U2F2ZWREYXRhKCk7XHJcblxyXG5cdFx0dGhpcy5maWxlSGVscGVyLnNldERlYnVnTW9kZSh0aGlzLnNhdmVkRGF0YS5zZXR0aW5ncy5kZWJ1Z01vZGUpO1xyXG5cdFx0dGhpcy5kZWJ1Z0hlbHBlci5zZXREZWJ1Z01vZGUodGhpcy5zYXZlZERhdGEuc2V0dGluZ3MuZGVidWdNb2RlKTtcclxuXHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoYERldGVjdGVkIGxvY2FsZXM6IFske25hdmlnYXRvci5sYW5ndWFnZXN9XWApO1xyXG5cdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcIm9ubG9hZCBsaWZlY3ljbGUgaG9va1wiKTtcclxuXHJcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IE5vdmVsV29yZENvdW50U2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdGlkOiBcInJlY291bnQtdmF1bHRcIixcclxuXHRcdFx0bmFtZTogXCJSZWNvdW50IGFsbCBub3RlcyAvIFJlc2V0IHNlc3Npb25cIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiW1JlY291bnRdIGNvbW1hbmQgdHJpZ2dlcmVkXCIpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwiY3ljbGUtY291bnQtdHlwZVwiLFxyXG5cdFx0XHRuYW1lOiBcIlNob3cgbmV4dCBkYXRhIHR5cGUgKDFzdCBwb3NpdGlvbilcIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiW0N5Y2xlIG5leHQgZGF0YSB0eXBlXSBjb21tYW5kIHRyaWdnZXJlZFwiKTtcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNvdW50VHlwZSA9XHJcblx0XHRcdFx0XHRDT1VOVF9UWVBFU1tcclxuXHRcdFx0XHRcdFx0KENPVU5UX1RZUEVTLmluZGV4T2YodGhpcy5zZXR0aW5ncy5jb3VudFR5cGUpICsgMSkgJVxyXG5cdFx0XHRcdFx0XHRcdENPVU5UX1RZUEVTLmxlbmd0aFxyXG5cdFx0XHRcdFx0XTtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xyXG5cdFx0XHRpZDogXCJ0b2dnbGUtYWJicmV2aWF0ZVwiLFxyXG5cdFx0XHRuYW1lOiBcIlRvZ2dsZSBhYmJyZXZpYXRpb24gb24gTm90ZXNcIixcclxuXHRcdFx0Y2FsbGJhY2s6IGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFx0XCJbVG9nZ2xlIGFiYnJldmF0aW9uIC0gTm90ZXNdIGNvbW1hbmQgdHJpZ2dlcmVkXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuYWJicmV2aWF0ZURlc2NyaXB0aW9ucyA9XHJcblx0XHRcdFx0XHQhdGhpcy5zZXR0aW5ncy5hYmJyZXZpYXRlRGVzY3JpcHRpb25zO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0dGhpcy51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cclxuXHRcdGZvciAoY29uc3QgY291bnRUeXBlIG9mIENPVU5UX1RZUEVTKSB7XHJcblx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdFx0aWQ6IGBzZXQtY291bnQtdHlwZS0ke2NvdW50VHlwZX1gLFxyXG5cdFx0XHRcdG5hbWU6IGBTaG93ICR7Q09VTlRfVFlQRV9ESVNQTEFZX1NUUklOR1NbY291bnRUeXBlXX0gKDFzdCBwb3NpdGlvbilgLFxyXG5cdFx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFx0XHRgW1NldCBjb3VudCB0eXBlIHRvICR7Y291bnRUeXBlfV0gY29tbWFuZCB0cmlnZ2VyZWRgXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jb3VudFR5cGUgPSBjb3VudFR5cGU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmV2ZW50SGVscGVyLmhhbmRsZUV2ZW50cygpO1xyXG5cdFx0dGhpcy5pbml0aWFsaXplKCk7XHJcblx0fVxyXG5cclxuXHRhc3luYyBvbnVubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0fVxyXG5cclxuXHQvLyBTRVRUSU5HU1xyXG5cclxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiU2F2aW5nIHRvIGRhdGEuanNvbi5cIik7XHJcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2F2ZWREYXRhKTtcclxuXHR9XHJcblxyXG5cdEZJVkVfTUlOVVRFUyA9IDUgKiA2MCAqIDEwMDA7XHJcblx0c2F2ZVNldHRpbmdzRGVib3VuY2VkID0gZGVib3VuY2UodGhpcy5zYXZlU2V0dGluZ3MsIHRoaXMuRklWRV9NSU5VVEVTLCBmYWxzZSk7XHJcblxyXG5cdC8vIFBVQkxJQ1xyXG5cclxuXHQvKipcclxuXHRcdENhbGxlZCB3aXRoICh0cnVlKSB3aGVuIHRoZSBwbHVnaW4gaW5pdGlhbGl6ZXMgb3IgdGhlIHVzZXIgY2xpY2tzIFJlYW5hbHl6ZS5cclxuXHRcdENhbGxlZCB3aXRoIChmYWxzZSkgZXZlcnkgc2Vjb25kIHdoaWxlIHdhaXRpbmcgZm9yIHRoZSBmaWxlIGV4cGxvcmVyIHRvIGxvYWQuXHJcblx0Ki9cclxuXHRwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZShyZWluaXRpYWxpemVBbGxDb3VudHMgPSB0cnVlKSB7XHJcblx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFwiaW5pdGlhbGl6ZVwiKTtcclxuXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeShhc3luYyAoKSA9PiB7XHJcblx0XHRcdGlmIChyZWluaXRpYWxpemVBbGxDb3VudHMpIHtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmV2ZW50SGVscGVyLnJlaW5pdGlhbGl6ZUFsbENvdW50cygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuZ2V0RmlsZUV4cGxvcmVyTGVhZigpO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMudXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJFcnJvciB3aGlsZSB1cGRhdGluZyBkaXNwbGF5ZWQgY291bnRzXCIpO1xyXG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZXJyb3IoZXJyKTtcclxuXHJcblx0XHRcdFx0Ly8gRmlsZSBFeHBsb3JlciBwYW5lIG1heSBub3QgYmUgbG9hZGVkIHlldFxyXG5cdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5pbml0aWFsaXplKGZhbHNlKTtcclxuXHRcdFx0XHR9LCAxMDAwKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgdXBkYXRlRGlzcGxheWVkQ291bnRzKGZpbGU6IFRBYnN0cmFjdEZpbGUgfCBudWxsID0gbnVsbCkge1xyXG5cdFx0Y29uc3QgZGVidWdFbmQgPSB0aGlzLmRlYnVnSGVscGVyLmRlYnVnU3RhcnQoXHJcblx0XHRcdGB1cGRhdGVEaXNwbGF5ZWRDb3VudHMgWyR7ZmlsZSA9PSBudWxsID8gXCJBTExcIiA6IGZpbGUucGF0aH1dYFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAoIU9iamVjdC5rZXlzKHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cykubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJObyBjYWNoZWQgZGF0YSBmb3VuZDsgc2tpcHBpbmcgdXBkYXRlLlwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBmaWxlRXhwbG9yZXJMZWFmOiBXb3Jrc3BhY2VMZWFmO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZUV4cGxvcmVyTGVhZiA9IGF3YWl0IHRoaXMuZ2V0RmlsZUV4cGxvcmVyTGVhZigpO1xyXG5cdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJGaWxlIGV4cGxvcmVyIGxlYWYgbm90IGZvdW5kOyBza2lwcGluZyB1cGRhdGUuXCIpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZXRDb250YWluZXJDbGFzcyhmaWxlRXhwbG9yZXJMZWFmKTtcclxuXHRcdGNvbnN0IGZpbGVFeHBsb3JlclZpZXcgPSBmaWxlRXhwbG9yZXJMZWFmLnZpZXcgYXMgYW55O1xyXG5cdFx0Y29uc3QgZmlsZUl0ZW1zOiB7IFtwYXRoOiBzdHJpbmddOiBGaWxlSXRlbSB9ID0gKFxyXG5cdFx0XHRmaWxlRXhwbG9yZXJWaWV3XHJcblx0XHQpLmZpbGVJdGVtcztcclxuXHJcblx0XHRpZiAoZmlsZUV4cGxvcmVyVmlldz8uaGVhZGVyRG9tPy5uYXZCdXR0b25zRWwpIHtcclxuXHRcdFx0Y29uc3QgY291bnRzID0gdGhpcy5maWxlSGVscGVyLmdldENhY2hlZERhdGFGb3JQYXRoKFxyXG5cdFx0XHRcdHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cyxcclxuXHRcdFx0XHRcIi9cIlxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0ZmlsZUV4cGxvcmVyVmlldy5oZWFkZXJEb20ubmF2QnV0dG9uc0VsLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcImRhdGEtbm92ZWwtd29yZC1jb3VudC1wbHVnaW5cIixcclxuXHRcdFx0XHR0aGlzLm5vZGVMYWJlbEhlbHBlci5nZXROb2RlTGFiZWwoY291bnRzKVxyXG5cdFx0XHQpXHJcblx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbm92ZWwtd29yZC1jb3VudC1vcGFjaXR5XCIsIGAke3RoaXMuc2V0dGluZ3MubGFiZWxPcGFjaXR5fWApXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGZpbGUpIHtcclxuXHRcdFx0Y29uc3QgcmVsZXZhbnRJdGVtcyA9IE9iamVjdC5rZXlzKGZpbGVJdGVtcykuZmlsdGVyKChwYXRoKSA9PlxyXG5cdFx0XHRcdGZpbGUucGF0aC5pbmNsdWRlcyhwYXRoKVxyXG5cdFx0XHQpO1xyXG5cdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdFwiU2V0dGluZyBkaXNwbGF5IGNvdW50cyBmb3JcIixcclxuXHRcdFx0XHRyZWxldmFudEl0ZW1zLmxlbmd0aCxcclxuXHRcdFx0XHRcImZpbGVJdGVtcyBtYXRjaGluZyBwYXRoXCIsXHJcblx0XHRcdFx0ZmlsZS5wYXRoXHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxyXG5cdFx0XHRcdGBTZXR0aW5nIGRpc3BsYXkgY291bnRzIGZvciAke09iamVjdC5rZXlzKGZpbGVJdGVtcykubGVuZ3RofSBmaWxlSXRlbXNgXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChjb25zdCBwYXRoIGluIGZpbGVJdGVtcykge1xyXG5cdFx0XHRpZiAoZmlsZSAmJiAoIWZpbGUucGF0aC5pbmNsdWRlcyhwYXRoKSB8fCBmaWxlLnBhdGggPT09ICcvJykpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgY291bnRzID0gdGhpcy5maWxlSGVscGVyLmdldENhY2hlZERhdGFGb3JQYXRoKFxyXG5cdFx0XHRcdHRoaXMuc2F2ZWREYXRhLmNhY2hlZENvdW50cyxcclxuXHRcdFx0XHRwYXRoXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtID0gZmlsZUl0ZW1zW3BhdGhdO1xyXG5cdFx0XHQoaXRlbS50aXRsZUVsID8/IGl0ZW0uc2VsZkVsKS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XCJkYXRhLW5vdmVsLXdvcmQtY291bnQtcGx1Z2luXCIsXHJcblx0XHRcdFx0dGhpcy5ub2RlTGFiZWxIZWxwZXIuZ2V0Tm9kZUxhYmVsKGNvdW50cylcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRkZWJ1Z0VuZCgpO1xyXG5cdH1cclxuXHJcblx0Ly8gRlVOQ1RJT05BTElUWVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgZ2V0RmlsZUV4cGxvcmVyTGVhZigpOiBQcm9taXNlPFdvcmtzcGFjZUxlYWY+IHtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdGxldCBmb3VuZExlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbDtcclxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLml0ZXJhdGVBbGxMZWF2ZXMoKGxlYWYpID0+IHtcclxuXHRcdFx0XHRpZiAoZm91bmRMZWFmKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCB2aWV3ID0gbGVhZi52aWV3IGFzIGFueTtcclxuXHRcdFx0XHRpZiAoIXZpZXcgfHwgIXZpZXcuZmlsZUl0ZW1zKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmb3VuZExlYWYgPSBsZWFmO1xyXG5cdFx0XHRcdHJlc29sdmUoZm91bmRMZWFmKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoIWZvdW5kTGVhZikge1xyXG5cdFx0XHRcdHJlamVjdChFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGZpbGUgZXhwbG9yZXIgbGVhZi5cIikpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0Q29udGFpbmVyQ2xhc3MobGVhZjogV29ya3NwYWNlTGVhZikge1xyXG5cdFx0Y29uc3QgY29udGFpbmVyID0gbGVhZi52aWV3LmNvbnRhaW5lckVsO1xyXG5cdFx0Y29udGFpbmVyLnRvZ2dsZUNsYXNzKGBub3ZlbC13b3JkLWNvdW50LS1hY3RpdmVgLCB0cnVlKTtcclxuXHJcblx0XHRjb25zdCBub3RlUHJlZml4ID0gYG5vdmVsLXdvcmQtY291bnQtLW5vdGUtYDtcclxuXHRcdGNvbnN0IGZvbGRlclByZWZpeCA9IGBub3ZlbC13b3JkLWNvdW50LS1mb2xkZXItYDtcclxuXHRcdGNvbnN0IGFsaWdubWVudENsYXNzZXMgPSBBTElHTk1FTlRfVFlQRVNcclxuXHRcdFx0Lm1hcCgoYXQpID0+IG5vdGVQcmVmaXggKyBhdClcclxuXHRcdFx0LmNvbmNhdChBTElHTk1FTlRfVFlQRVMubWFwKChhdCkgPT4gZm9sZGVyUHJlZml4ICsgYXQpKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGFjIG9mIGFsaWdubWVudENsYXNzZXMpIHtcclxuXHRcdFx0Y29udGFpbmVyLnRvZ2dsZUNsYXNzKGFjLCBmYWxzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29udGFpbmVyLnRvZ2dsZUNsYXNzKG5vdGVQcmVmaXggKyB0aGlzLnNldHRpbmdzLmFsaWdubWVudCwgdHJ1ZSk7XHJcblxyXG5cdFx0Y29uc3QgZm9sZGVyQWxpZ25tZW50ID0gdGhpcy5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uRm9sZGVyc1xyXG5cdFx0XHQ/IHRoaXMuc2V0dGluZ3MuYWxpZ25tZW50XHJcblx0XHRcdDogdGhpcy5zZXR0aW5ncy5mb2xkZXJBbGlnbm1lbnQ7XHJcblx0XHRjb250YWluZXIudG9nZ2xlQ2xhc3MoZm9sZGVyUHJlZml4ICsgZm9sZGVyQWxpZ25tZW50LCB0cnVlKTtcclxuXHR9XHJcbn1cclxuIiwgImV4cG9ydCBjbGFzcyBEZWJ1Z0hlbHBlciB7XG4gIHByaXZhdGUgZGVidWdNb2RlID0gZmFsc2U7XG5cdHByaXZhdGUgaWRDb3VudGVyID0gMDtcblxuICBwdWJsaWMgc2V0RGVidWdNb2RlKGRlYnVnOiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5kZWJ1Z01vZGUgPSBkZWJ1ZztcbiAgfVxuXG4gIHB1YmxpYyBkZWJ1ZyguLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5kZWJ1Z01vZGUpIHtcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKCdub3ZlbC13b3JkLWNvdW50OicsIC4uLmFyZ3MpO1xuXHR9XG5cblx0cHVibGljIGVycm9yKG1lc3NhZ2U6IGFueSk6IHZvaWQge1xuXHRcdGlmICghdGhpcy5kZWJ1Z01vZGUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuXHR9XG5cblx0cHVibGljIGRlYnVnU3RhcnQobmFtZTogc3RyaW5nKTogKCkgPT4gdm9pZCB7XG5cdFx0aWYgKCF0aGlzLmRlYnVnTW9kZSkge1xuXHRcdFx0cmV0dXJuICgpID0+IHt9XG5cdFx0fVxuXG5cdFx0dmFyIHF1YWxpZmllZE5hbWUgPSBgbm92ZWwtd29yZC1jb3VudHwke25hbWV9ICgkeysrdGhpcy5pZENvdW50ZXJ9KWBcblx0XHRjb25zb2xlLnRpbWUocXVhbGlmaWVkTmFtZSk7XG5cdFx0cmV0dXJuICgpID0+IGNvbnNvbGUudGltZUVuZChxdWFsaWZpZWROYW1lKTtcblx0fVxufVxuIiwgImltcG9ydCB0eXBlIE5vdmVsV29yZENvdW50UGx1Z2luIGZyb20gXCJtYWluXCI7XG5pbXBvcnQgeyBBcHAsIFRBYnN0cmFjdEZpbGUsIFRGb2xkZXIsIFdvcmtzcGFjZUxlYWYsIGRlYm91bmNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB9IGZyb20gXCIuL2NhbmNlbGxhdGlvblwiO1xuaW1wb3J0IHsgRGVidWdIZWxwZXIgfSBmcm9tIFwiLi9kZWJ1Z1wiO1xuaW1wb3J0IHsgRmlsZUhlbHBlciB9IGZyb20gXCIuL2ZpbGVcIjtcblxuZXhwb3J0IGNsYXNzIEV2ZW50SGVscGVyIHtcblx0cHJpdmF0ZSBjYW5jZWxsYXRpb25Tb3VyY2VzOiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZVtdID0gW107XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSBwbHVnaW46IE5vdmVsV29yZENvdW50UGx1Z2luLFxuXHRcdHByaXZhdGUgYXBwOiBBcHAsXG5cdFx0cHJpdmF0ZSBkZWJ1Z0hlbHBlcjogRGVidWdIZWxwZXIsXG5cdFx0cHJpdmF0ZSBmaWxlSGVscGVyOiBGaWxlSGVscGVyXG5cdCkge31cblxuXHRwdWJsaWMgYXN5bmMgaGFuZGxlRXZlbnRzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IGRlYm91bmNlZEZpbGVNb2RpZmllZCA9IGRlYm91bmNlKGFzeW5jIChmaWxlOiBUQWJzdHJhY3RGaWxlKSA9PiB7XG5cdFx0XHRjb25zdCBjb3VudFRva2VuID0gdGhpcy5yZWdpc3Rlck5ld0NvdW50VG9rZW4oKTtcblx0XHRcdGF3YWl0IHRoaXMuZmlsZUhlbHBlci51cGRhdGVGaWxlQ291bnRzKFxuXHRcdFx0XHRmaWxlLFxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlZERhdGEuY2FjaGVkQ291bnRzLFxuXHRcdFx0XHRjb3VudFRva2VuLnRva2VuXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5jYW5jZWxUb2tlbihjb3VudFRva2VuKTtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cyhmaWxlKTtcblx0XHRcdHRoaXMucGx1Z2luLnNhdmVTZXR0aW5nc0RlYm91bmNlZCgpO1xuXHRcdH0sIDUwMCk7XG5cblx0XHR0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAubWV0YWRhdGFDYWNoZS5vbihcImNoYW5nZWRcIiwgYXN5bmMgKGZpbGUpID0+IHtcblx0XHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1Zyhcblx0XHRcdFx0XHRcIltjaGFuZ2VkXSBtZXRhZGF0YUNhY2hlIGhvb2sgZmlyZWQsIHNjaGVkdWxpbmcgZmlsZSBmb3IgYW5hbHlzaXNcIixcblx0XHRcdFx0XHRmaWxlLnBhdGhcblx0XHRcdFx0KTtcblx0XHRcdFx0ZGVib3VuY2VkRmlsZU1vZGlmaWVkKGZpbGUpO1xuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuXHRcdFx0dGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcblx0XHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJjcmVhdGVcIiwgYXN5bmMgKGZpbGUpID0+IHtcblx0XHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxuXHRcdFx0XHRcdFx0XCJbY3JlYXRlXSB2YXVsdCBob29rIGZpcmVkLCBhbmFseXppbmcgZmlsZVwiLFxuXHRcdFx0XHRcdFx0ZmlsZS5wYXRoXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjb25zdCBjb3VudFRva2VuID0gdGhpcy5yZWdpc3Rlck5ld0NvdW50VG9rZW4oKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLmZpbGVIZWxwZXIudXBkYXRlRmlsZUNvdW50cyhcblx0XHRcdFx0XHRcdGZpbGUsXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlZERhdGEuY2FjaGVkQ291bnRzLFxuXHRcdFx0XHRcdFx0Y291bnRUb2tlbi50b2tlblxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0dGhpcy5jYW5jZWxUb2tlbihjb3VudFRva2VuKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoZmlsZSk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0XHR0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuXHRcdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXG5cdFx0XHRcdFx0XHRcIlttb2RpZnldIHZhdWx0IGhvb2sgZmlyZWQsIHNjaGVkdWxpbmcgZmlsZSBmb3IgYW5hbHlzaXNcIixcblx0XHRcdFx0XHRcdGZpbGUucGF0aFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0ZGVib3VuY2VkRmlsZU1vZGlmaWVkKGZpbGUpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbihcImRlbGV0ZVwiLCBhc3luYyAoZmlsZSkgPT4ge1xuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxuXHRcdFx0XHRcdFwiW2RlbGV0ZV0gdmF1bHQgaG9vayBmaXJlZCwgZm9yZ2V0dGluZyBmaWxlXCIsXG5cdFx0XHRcdFx0ZmlsZS5wYXRoXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHRoaXMuZmlsZUhlbHBlci5yZW1vdmVGaWxlQ291bnRzKFxuXHRcdFx0XHRcdGZpbGUucGF0aCxcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlZERhdGEuY2FjaGVkQ291bnRzXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cyhmaWxlKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHR0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAudmF1bHQub24oXCJyZW5hbWVcIiwgYXN5bmMgKGZpbGUsIG9sZFBhdGgpID0+IHtcblx0XHRcdFx0aWYgKGZpbGUgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdFx0Ly8gV2hlbiBhIGZvbGRlciBpcyByZW5hbWVkLCBhbGwgb2YgaXRzIGNoaWxkIGZvbGRlcnMvZmlsZXMgYXJlIHJlbmFtZWQgYXMgd2VsbC5cblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmRlYnVnSGVscGVyLmRlYnVnKFxuXHRcdFx0XHRcdFwiW3JlbmFtZV0gdmF1bHQgaG9vayBmaXJlZCwgcmVjb3VudGluZyBmaWxlXCIsXG5cdFx0XHRcdFx0ZmlsZS5wYXRoXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHRoaXMuZmlsZUhlbHBlci5yZW1vdmVGaWxlQ291bnRzKFxuXHRcdFx0XHRcdG9sZFBhdGgsXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZWREYXRhLmNhY2hlZENvdW50c1xuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb25zdCBjb3VudFRva2VuID0gdGhpcy5yZWdpc3Rlck5ld0NvdW50VG9rZW4oKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5maWxlSGVscGVyLnVwZGF0ZUZpbGVDb3VudHMoXG5cdFx0XHRcdFx0ZmlsZSxcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlZERhdGEuY2FjaGVkQ291bnRzLFxuXHRcdFx0XHRcdGNvdW50VG9rZW4udG9rZW5cblx0XHRcdFx0KTtcblx0XHRcdFx0dGhpcy5jYW5jZWxUb2tlbihjb3VudFRva2VuKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKGZpbGUpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdGNvbnN0IHJlc2hvd0NvdW50c0lmTmVlZGVkID0gYXN5bmMgKGhvb2tOYW1lOiBzdHJpbmcpID0+IHtcblx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoYFske2hvb2tOYW1lfV0gaG9vayBmaXJlZGApO1xuXG5cdFx0XHRjb25zdCBmaWxlRXhwbG9yZXJMZWFmID0gYXdhaXQgdGhpcy5wbHVnaW4uZ2V0RmlsZUV4cGxvcmVyTGVhZigpO1xuXHRcdFx0aWYgKHRoaXMuaXNDb250YWluZXJUb3VjaGVkKGZpbGVFeHBsb3JlckxlYWYpKSB7XG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXG5cdFx0XHRcdFx0XCJjb250YWluZXIgYWxyZWFkeSB0b3VjaGVkLCBza2lwcGluZyBkaXNwbGF5IHVwZGF0ZVwiXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5kZWJ1Z0hlbHBlci5kZWJ1ZyhcImNvbnRhaW5lciBpcyBjbGVhbiwgdXBkYXRpbmcgZGlzcGxheVwiKTtcblx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdH07XG5cblx0XHR0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFxuXHRcdFx0XHRcImxheW91dC1jaGFuZ2VcIixcblx0XHRcdFx0ZGVib3VuY2UocmVzaG93Q291bnRzSWZOZWVkZWQuYmluZCh0aGlzLCBcImxheW91dC1jaGFuZ2VcIiksIDEwMDApXG5cdFx0XHQpXG5cdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgaXNDb250YWluZXJUb3VjaGVkKGxlYWY6IFdvcmtzcGFjZUxlYWYpOiBib29sZWFuIHtcblx0XHRjb25zdCBjb250YWluZXIgPSBsZWFmLnZpZXcuY29udGFpbmVyRWw7XG5cdFx0cmV0dXJuIGNvbnRhaW5lci5jbGFzc05hbWUuaW5jbHVkZXMoXCJub3ZlbC13b3JkLWNvdW50LS1cIik7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgcmVpbml0aWFsaXplQWxsQ291bnRzKCkge1xuXHRcdHRoaXMuY2FuY2VsQWxsQ291bnRUb2tlbnMoKTtcblx0XHRjb25zdCBjb3VudFRva2VuID0gdGhpcy5yZWdpc3Rlck5ld0NvdW50VG9rZW4oKTtcblxuXHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXCJyZWZyZXNoQWxsQ291bnRzXCIpO1xuXHRcdHRoaXMucGx1Z2luLnNhdmVkRGF0YS5jYWNoZWRDb3VudHMgPSBhd2FpdCB0aGlzLmZpbGVIZWxwZXIuaW5pdGlhbGl6ZUFsbEZpbGVDb3VudHMoXG5cdFx0XHRjb3VudFRva2VuLnRva2VuXG5cdFx0KTtcblx0XHR0aGlzLmNhbmNlbFRva2VuKGNvdW50VG9rZW4pO1xuXHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHR9XG5cblx0LypcbiAgICBDQU5DRUxMQVRJT04gSEFORExJTkdcbiAgKi9cblxuXHRwcml2YXRlIHJlZ2lzdGVyTmV3Q291bnRUb2tlbigpOiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSB7XG5cdFx0Y29uc3QgY2FuY2VsbGF0aW9uU291cmNlID0gbmV3IENhbmNlbGxhdGlvblRva2VuU291cmNlKCk7XG5cdFx0dGhpcy5jYW5jZWxsYXRpb25Tb3VyY2VzLnB1c2goY2FuY2VsbGF0aW9uU291cmNlKTtcblx0XHRyZXR1cm4gY2FuY2VsbGF0aW9uU291cmNlO1xuXHR9XG5cblx0cHJpdmF0ZSBjYW5jZWxUb2tlbihzb3VyY2U6IENhbmNlbGxhdGlvblRva2VuU291cmNlKTogdm9pZCB7XG5cdFx0c291cmNlLmNhbmNlbCgpO1xuXHRcdGlmICh0aGlzLmNhbmNlbGxhdGlvblNvdXJjZXMuaW5jbHVkZXMoc291cmNlKSkge1xuXHRcdFx0dGhpcy5jYW5jZWxsYXRpb25Tb3VyY2VzLnNwbGljZShcblx0XHRcdFx0dGhpcy5jYW5jZWxsYXRpb25Tb3VyY2VzLmluZGV4T2Yoc291cmNlKSxcblx0XHRcdFx0MVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGNhbmNlbEFsbENvdW50VG9rZW5zKCk6IHZvaWQge1xuXHRcdGZvciAoY29uc3Qgc291cmNlIG9mIHRoaXMuY2FuY2VsbGF0aW9uU291cmNlcykge1xuXHRcdFx0c291cmNlLmNhbmNlbCgpO1xuXHRcdH1cblx0XHR0aGlzLmNhbmNlbGxhdGlvblNvdXJjZXMgPSBbXTtcblx0fVxufVxuIiwgImNvbnN0IENBTkNFTCA9IFN5bWJvbCgnQ2FuY2VsJyk7XG5cbmV4cG9ydCBjbGFzcyBDYW5jZWxsYXRpb25Ub2tlbiB7XG4gIHByaXZhdGUgX2lzQ2FuY2VsbGVkID0gZmFsc2U7XG5cbiAgZ2V0IGlzQ2FuY2VsbGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0NhbmNlbGxlZDtcbiAgfVxuXG4gIFtDQU5DRUxdKCkge1xuICAgIHRoaXMuX2lzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2Uge1xuICB0b2tlbiA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlbigpO1xuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLnRva2VuW0NBTkNFTF0oKTtcbiAgfVxufSIsICJpbXBvcnQgdHlwZSBOb3ZlbFdvcmRDb3VudFBsdWdpbiBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHtcblx0QXBwLFxuXHRDYWNoZWRNZXRhZGF0YSxcblx0RnJvbnRNYXR0ZXJDYWNoZSxcblx0VEFic3RyYWN0RmlsZSxcblx0VEZpbGUsXG5cdFRGb2xkZXIsXG5cdFZhdWx0LFxuXHRnZXRBbGxUYWdzLFxuXHRwYXJzZUZyb250TWF0dGVyQWxpYXNlcyxcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBEZWJ1Z0hlbHBlciB9IGZyb20gXCIuL2RlYnVnXCI7XG5pbXBvcnQgeyBOb3ZlbFdvcmRDb3VudFNldHRpbmdzLCBQYWdlQ291bnRUeXBlIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuIH0gZnJvbSBcIi4vY2FuY2VsbGF0aW9uXCI7XG5pbXBvcnQgeyBjb3VudE1hcmtkb3duIH0gZnJvbSBcIi4vcGFyc2VyXCI7XG5pbXBvcnQgeyBDYW52YXNIZWxwZXIgfSBmcm9tIFwiLi9jYW52YXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb3VudERhdGEge1xuXHRpc0NvdW50YWJsZTogYm9vbGVhbjtcblx0dGFyZ2V0Tm9kZVR5cGU6IFRhcmdldE5vZGU7XG5cdG5vdGVDb3VudDogbnVtYmVyO1xuXHRwYWdlQ291bnQ6IG51bWJlcjtcblx0d29yZENvdW50OiBudW1iZXI7XG5cdHdvcmRDb3VudFRvd2FyZEdvYWw6IG51bWJlcjtcblx0d29yZEdvYWw6IG51bWJlciB8IG51bGw7XG5cdGNoYXJhY3RlckNvdW50OiBudW1iZXI7XG5cdG5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudDogbnVtYmVyO1xuXHRuZXdsaW5lQ291bnQ6IG51bWJlcjtcblx0cmVhZGluZ1RpbWVJbk1pbnV0ZXM6IG51bWJlcjtcblx0bGlua0NvdW50OiBudW1iZXI7XG5cdGVtYmVkQ291bnQ6IG51bWJlcjtcblx0YWxpYXNlczogc3RyaW5nW10gfCBudWxsO1xuXHRzaXplSW5CeXRlczogbnVtYmVyO1xuXHRjcmVhdGVkRGF0ZTogbnVtYmVyO1xuXHRtb2RpZmllZERhdGU6IG51bWJlcjtcblx0ZnJvbnRtYXR0ZXI/OiBGcm9udE1hdHRlckNhY2hlO1xuXHRzZXNzaW9uU3RhcnQ6IFNlc3Npb25Db3VudERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkNvdW50RGF0YSB7XG5cdG5vdGVDb3VudDogbnVtYmVyO1xuXHRwYWdlQ291bnQ6IG51bWJlcjtcblx0d29yZENvdW50OiBudW1iZXI7XG5cdGNoYXJhY3RlckNvdW50OiBudW1iZXI7XG5cdG5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudDogbnVtYmVyO1xuXHRuZXdsaW5lQ291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gVGFyZ2V0Tm9kZSB7XG5cdFJvb3QgPSBcInJvb3RcIixcblx0RGlyZWN0b3J5ID0gXCJkaXJlY3RvcnlcIixcblx0RmlsZSA9IFwiZmlsZVwiLFxufVxuXG5leHBvcnQgdHlwZSBDb3VudHNCeUZpbGUgPSB7XG5cdFtwYXRoOiBzdHJpbmddOiBDb3VudERhdGE7XG59O1xuXG5leHBvcnQgY2xhc3MgRmlsZUhlbHBlciB7XG5cdHByaXZhdGUgZGVidWdIZWxwZXIgPSBuZXcgRGVidWdIZWxwZXIoKTtcblx0cHJpdmF0ZSBjYW52YXNIZWxwZXIgPSBuZXcgQ2FudmFzSGVscGVyKHRoaXMuZGVidWdIZWxwZXIpO1xuXHRwcml2YXRlIGdldCBzZXR0aW5ncygpOiBOb3ZlbFdvcmRDb3VudFNldHRpbmdzIHtcblx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uc2V0dGluZ3M7XG5cdH1cblx0cHJpdmF0ZSBnZXQgdmF1bHQoKTogVmF1bHQge1xuXHRcdHJldHVybiB0aGlzLmFwcC52YXVsdDtcblx0fVxuXG5cdHByaXZhdGUgcGF0aEluY2x1ZGVNYXRjaGVyczogc3RyaW5nW10gPSBbXTtcblx0cHJpdmF0ZSBwYXRoRXhjbHVkZU1hdGNoZXJzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwOiBBcHAsIHByaXZhdGUgcGx1Z2luOiBOb3ZlbFdvcmRDb3VudFBsdWdpbikge31cblxuXHRwdWJsaWMgYXN5bmMgaW5pdGlhbGl6ZUFsbEZpbGVDb3VudHMoXG5cdFx0Y2FuY2VsbGF0aW9uVG9rZW46IENhbmNlbGxhdGlvblRva2VuXG5cdCk6IFByb21pc2U8Q291bnRzQnlGaWxlPiB7XG5cdFx0Y29uc3QgZGVidWdFbmQgPSB0aGlzLmRlYnVnSGVscGVyLmRlYnVnU3RhcnQoXCJnZXRBbGxGaWxlQ291bnRzXCIpO1xuXG5cdFx0Y29uc3QgZmlsZXM6IFRGaWxlW10gPSB0aGlzLnZhdWx0LmdldEZpbGVzKCk7XG5cdFx0aWYgKFxuXHRcdFx0dHlwZW9mIHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVEaXJlY3RvcmllcyA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZURpcmVjdG9yaWVzLnRyaW0oKSAhPT0gXCIqXCIgJiZcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVEaXJlY3Rvcmllcy50cmltKCkgIT09IFwiXCJcblx0XHQpIHtcblx0XHRcdGNvbnN0IGFsbE1hdGNoZXJzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZURpcmVjdG9yaWVzXG5cdFx0XHRcdC50cmltKClcblx0XHRcdFx0LnNwbGl0KFwiLFwiKVxuXHRcdFx0XHQubWFwKChtYXRjaGVyKSA9PiBtYXRjaGVyLnRyaW0oKSk7XG5cdFx0XHRjb25zdCBpbmNsdWRlTWF0Y2hlcnMgPSBhbGxNYXRjaGVycy5maWx0ZXIoXG5cdFx0XHRcdChtYXRjaGVyKSA9PiAhbWF0Y2hlci5zdGFydHNXaXRoKFwiIVwiKVxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGV4Y2x1ZGVNYXRjaGVycyA9IGFsbE1hdGNoZXJzXG5cdFx0XHRcdC5maWx0ZXIoKG1hdGNoZXIpID0+IG1hdGNoZXIuc3RhcnRzV2l0aChcIiFcIikpXG5cdFx0XHRcdC5tYXAoKG1hdGNoZXIpID0+IG1hdGNoZXIuc2xpY2UoMSkpO1xuXG5cdFx0XHRjb25zdCBtYXRjaGVkRmlsZXMgPSBmaWxlcy5maWx0ZXIoXG5cdFx0XHRcdChmaWxlKSA9PlxuXHRcdFx0XHRcdChpbmNsdWRlTWF0Y2hlcnMubGVuZ3RoID09PSAwXG5cdFx0XHRcdFx0XHQ/IHRydWVcblx0XHRcdFx0XHRcdDogaW5jbHVkZU1hdGNoZXJzLnNvbWUoKG1hdGNoZXIpID0+IGZpbGUucGF0aC5pbmNsdWRlcyhtYXRjaGVyKSkpICYmXG5cdFx0XHRcdFx0IWV4Y2x1ZGVNYXRjaGVycy5zb21lKChtYXRjaGVyKSA9PiBmaWxlLnBhdGguaW5jbHVkZXMobWF0Y2hlcikpXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAobWF0Y2hlZEZpbGVzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0dGhpcy5wYXRoSW5jbHVkZU1hdGNoZXJzID0gaW5jbHVkZU1hdGNoZXJzO1xuXHRcdFx0XHR0aGlzLnBhdGhFeGNsdWRlTWF0Y2hlcnMgPSBleGNsdWRlTWF0Y2hlcnM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnBhdGhJbmNsdWRlTWF0Y2hlcnMgPSBbXTtcblx0XHRcdFx0dGhpcy5wYXRoRXhjbHVkZU1hdGNoZXJzID0gW107XG5cdFx0XHRcdHRoaXMuZGVidWdIZWxwZXIuZGVidWcoXG5cdFx0XHRcdFx0XCJObyBmaWxlcyBtYXRjaGVkIGJ5IGluY2x1ZGVEaXJlY3RvcmllcyBzZXR0aW5nLiBEZWZhdWx0aW5nIHRvIGFsbCBmaWxlcy5cIlxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGNvdW50czogQ291bnRzQnlGaWxlID0ge307XG5cblx0XHRmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcblx0XHRcdGlmIChjYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxlZCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5zZXRDb3VudHMoY291bnRzLCBmaWxlLCB0cnVlKTtcblx0XHR9XG5cblx0XHRkZWJ1Z0VuZCgpO1xuXHRcdHJldHVybiBjb3VudHM7XG5cdH1cblxuXHRwdWJsaWMgZ2V0Q2FjaGVkRGF0YUZvclBhdGgoY291bnRzOiBDb3VudHNCeUZpbGUsIHBhdGg6IHN0cmluZyk6IENvdW50RGF0YSB7XG5cdFx0aWYgKGNvdW50cy5oYXNPd25Qcm9wZXJ0eShwYXRoKSkge1xuXHRcdFx0cmV0dXJuIGNvdW50c1twYXRoXTtcblx0XHR9XG5cblx0XHRjb25zdCBjaGlsZFBhdGhzID0gdGhpcy5nZXRDaGlsZFBhdGhzKGNvdW50cywgcGF0aCk7XG5cblx0XHRjb25zdCBkaXJlY3RvcnlEZWZhdWx0OiBDb3VudERhdGEgPSB7XG5cdFx0XHRpc0NvdW50YWJsZTogZmFsc2UsXG5cdFx0XHR0YXJnZXROb2RlVHlwZTogdGhpcy5pc1Jvb3QocGF0aClcblx0XHRcdFx0PyBUYXJnZXROb2RlLlJvb3Rcblx0XHRcdFx0OiBUYXJnZXROb2RlLkRpcmVjdG9yeSxcblx0XHRcdG5vdGVDb3VudDogMCxcblx0XHRcdHdvcmRDb3VudDogMCxcblx0XHRcdHdvcmRDb3VudFRvd2FyZEdvYWw6IDAsXG5cdFx0XHR3b3JkR29hbDogMCxcblx0XHRcdHBhZ2VDb3VudDogMCxcblx0XHRcdGNoYXJhY3RlckNvdW50OiAwLFxuXHRcdFx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50OiAwLFxuXHRcdFx0bmV3bGluZUNvdW50OiAwLFxuXHRcdFx0cmVhZGluZ1RpbWVJbk1pbnV0ZXM6IDAsXG5cdFx0XHRsaW5rQ291bnQ6IDAsXG5cdFx0XHRlbWJlZENvdW50OiAwLFxuXHRcdFx0YWxpYXNlczogbnVsbCxcblx0XHRcdGNyZWF0ZWREYXRlOiAwLFxuXHRcdFx0bW9kaWZpZWREYXRlOiAwLFxuXHRcdFx0c2l6ZUluQnl0ZXM6IDAsXG5cdFx0XHRzZXNzaW9uU3RhcnQ6IHtcblx0XHRcdFx0bm90ZUNvdW50OiAwLFxuXHRcdFx0XHRwYWdlQ291bnQ6IDAsXG5cdFx0XHRcdHdvcmRDb3VudDogMCxcblx0XHRcdFx0Y2hhcmFjdGVyQ291bnQ6IDAsXG5cdFx0XHRcdG5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudDogMCxcblx0XHRcdFx0bmV3bGluZUNvdW50OiAwLFxuXHRcdFx0fSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIGNoaWxkUGF0aHMucmVkdWNlKCh0b3RhbCwgY2hpbGRQYXRoKTogQ291bnREYXRhID0+IHtcblx0XHRcdGNvbnN0IGNoaWxkQ291bnQgPSB0aGlzLmdldENhY2hlZERhdGFGb3JQYXRoKGNvdW50cywgY2hpbGRQYXRoKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGlzQ291bnRhYmxlOiB0b3RhbC5pc0NvdW50YWJsZSB8fCBjaGlsZENvdW50LmlzQ291bnRhYmxlLFxuXHRcdFx0XHR0YXJnZXROb2RlVHlwZTogdG90YWwudGFyZ2V0Tm9kZVR5cGUsXG5cdFx0XHRcdG5vdGVDb3VudDogdG90YWwubm90ZUNvdW50ICsgY2hpbGRDb3VudC5ub3RlQ291bnQsXG5cdFx0XHRcdGxpbmtDb3VudDogdG90YWwubGlua0NvdW50ICsgY2hpbGRDb3VudC5saW5rQ291bnQsXG5cdFx0XHRcdGVtYmVkQ291bnQ6IHRvdGFsLmVtYmVkQ291bnQgKyBjaGlsZENvdW50LmVtYmVkQ291bnQsXG5cdFx0XHRcdGFsaWFzZXM6IFtdLFxuXHRcdFx0XHR3b3JkQ291bnQ6IHRvdGFsLndvcmRDb3VudCArIGNoaWxkQ291bnQud29yZENvdW50LFxuXHRcdFx0XHR3b3JkQ291bnRUb3dhcmRHb2FsOlxuXHRcdFx0XHRcdHRvdGFsLndvcmRDb3VudFRvd2FyZEdvYWwgKyBjaGlsZENvdW50LndvcmRDb3VudFRvd2FyZEdvYWwsXG5cdFx0XHRcdHdvcmRHb2FsOiB0b3RhbC53b3JkR29hbCArIGNoaWxkQ291bnQud29yZEdvYWwsXG5cdFx0XHRcdHBhZ2VDb3VudDogdG90YWwucGFnZUNvdW50ICsgY2hpbGRDb3VudC5wYWdlQ291bnQsXG5cdFx0XHRcdGNoYXJhY3RlckNvdW50OiB0b3RhbC5jaGFyYWN0ZXJDb3VudCArIGNoaWxkQ291bnQuY2hhcmFjdGVyQ291bnQsXG5cdFx0XHRcdG5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudDpcblx0XHRcdFx0XHR0b3RhbC5ub25XaGl0ZXNwYWNlQ2hhcmFjdGVyQ291bnQgK1xuXHRcdFx0XHRcdGNoaWxkQ291bnQubm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50LFxuXHRcdFx0XHRuZXdsaW5lQ291bnQ6IHRvdGFsLm5ld2xpbmVDb3VudCArIGNoaWxkQ291bnQubmV3bGluZUNvdW50LFxuXHRcdFx0XHRyZWFkaW5nVGltZUluTWludXRlczpcblx0XHRcdFx0XHR0b3RhbC5yZWFkaW5nVGltZUluTWludXRlcyArIGNoaWxkQ291bnQucmVhZGluZ1RpbWVJbk1pbnV0ZXMsXG5cdFx0XHRcdGNyZWF0ZWREYXRlOlxuXHRcdFx0XHRcdHRvdGFsLmNyZWF0ZWREYXRlID09PSAwXG5cdFx0XHRcdFx0XHQ/IGNoaWxkQ291bnQuY3JlYXRlZERhdGVcblx0XHRcdFx0XHRcdDogTWF0aC5taW4odG90YWwuY3JlYXRlZERhdGUsIGNoaWxkQ291bnQuY3JlYXRlZERhdGUpLFxuXHRcdFx0XHRtb2RpZmllZERhdGU6IE1hdGgubWF4KHRvdGFsLm1vZGlmaWVkRGF0ZSwgY2hpbGRDb3VudC5tb2RpZmllZERhdGUpLFxuXHRcdFx0XHRzaXplSW5CeXRlczogdG90YWwuc2l6ZUluQnl0ZXMgKyBjaGlsZENvdW50LnNpemVJbkJ5dGVzLFxuXHRcdFx0XHRzZXNzaW9uU3RhcnQ6IHtcblx0XHRcdFx0XHRub3RlQ291bnQ6XG5cdFx0XHRcdFx0XHR0b3RhbC5zZXNzaW9uU3RhcnQubm90ZUNvdW50ICsgY2hpbGRDb3VudC5zZXNzaW9uU3RhcnQubm90ZUNvdW50LFxuXHRcdFx0XHRcdHBhZ2VDb3VudDpcblx0XHRcdFx0XHRcdHRvdGFsLnNlc3Npb25TdGFydC5wYWdlQ291bnQgKyBjaGlsZENvdW50LnNlc3Npb25TdGFydC5wYWdlQ291bnQsXG5cdFx0XHRcdFx0d29yZENvdW50OlxuXHRcdFx0XHRcdFx0dG90YWwuc2Vzc2lvblN0YXJ0LndvcmRDb3VudCArIGNoaWxkQ291bnQuc2Vzc2lvblN0YXJ0LndvcmRDb3VudCxcblx0XHRcdFx0XHRjaGFyYWN0ZXJDb3VudDpcblx0XHRcdFx0XHRcdHRvdGFsLnNlc3Npb25TdGFydC5jaGFyYWN0ZXJDb3VudCArXG5cdFx0XHRcdFx0XHRjaGlsZENvdW50LnNlc3Npb25TdGFydC5jaGFyYWN0ZXJDb3VudCxcblx0XHRcdFx0XHRub25XaGl0ZXNwYWNlQ2hhcmFjdGVyQ291bnQ6XG5cdFx0XHRcdFx0XHR0b3RhbC5zZXNzaW9uU3RhcnQubm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50ICtcblx0XHRcdFx0XHRcdGNoaWxkQ291bnQuc2Vzc2lvblN0YXJ0Lm5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudCxcblx0XHRcdFx0XHRuZXdsaW5lQ291bnQ6XG5cdFx0XHRcdFx0XHR0b3RhbC5zZXNzaW9uU3RhcnQubmV3bGluZUNvdW50ICsgY2hpbGRDb3VudC5zZXNzaW9uU3RhcnQubmV3bGluZUNvdW50LFxuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9LCBkaXJlY3RvcnlEZWZhdWx0KTtcblx0fVxuXG5cdHB1YmxpYyBzZXREZWJ1Z01vZGUoZGVidWc6IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLmRlYnVnSGVscGVyLnNldERlYnVnTW9kZShkZWJ1Zyk7XG5cdH1cblxuXHRwdWJsaWMgcmVtb3ZlRmlsZUNvdW50cyhwYXRoOiBzdHJpbmcsIGNvdW50czogQ291bnRzQnlGaWxlKTogdm9pZCB7XG5cdFx0dGhpcy5yZW1vdmVDb3VudHMoY291bnRzLCBwYXRoKTtcblxuXHRcdGZvciAoY29uc3QgY2hpbGRQYXRoIG9mIHRoaXMuZ2V0Q2hpbGRQYXRocyhjb3VudHMsIHBhdGgpKSB7XG5cdFx0XHR0aGlzLnJlbW92ZUNvdW50cyhjb3VudHMsIGNoaWxkUGF0aCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGFzeW5jIHVwZGF0ZUZpbGVDb3VudHMoXG5cdFx0YWJzdHJhY3RGaWxlOiBUQWJzdHJhY3RGaWxlLFxuXHRcdGNvdW50czogQ291bnRzQnlGaWxlLFxuXHRcdGNhbmNlbGxhdGlvblRva2VuOiBDYW5jZWxsYXRpb25Ub2tlblxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRpZiAoYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZvbGRlcikge1xuXHRcdFx0Zm9yIChjb25zdCBjaGlsZCBvZiBhYnN0cmFjdEZpbGUuY2hpbGRyZW4pIHtcblx0XHRcdFx0YXdhaXQgdGhpcy51cGRhdGVGaWxlQ291bnRzKGNoaWxkLCBjb3VudHMsIGNhbmNlbGxhdGlvblRva2VuKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoYWJzdHJhY3RGaWxlIGluc3RhbmNlb2YgVEZpbGUpIHtcblx0XHRcdGF3YWl0IHRoaXMuc2V0Q291bnRzKGNvdW50cywgYWJzdHJhY3RGaWxlLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBjb3VudEVtYmVkcyhtZXRhZGF0YT86IENhY2hlZE1ldGFkYXRhKTogbnVtYmVyIHtcblx0XHRyZXR1cm4gbWV0YWRhdGE/LmVtYmVkcz8ubGVuZ3RoID8/IDA7XG5cdH1cblxuXHRwcml2YXRlIGNvdW50TGlua3MobWV0YWRhdGE/OiBDYWNoZWRNZXRhZGF0YSk6IG51bWJlciB7XG5cdFx0cmV0dXJuIG1ldGFkYXRhPy5saW5rcz8ubGVuZ3RoID8/IDA7XG5cdH1cblxuXHRwcml2YXRlIGdldENoaWxkUGF0aHMoY291bnRzOiBDb3VudHNCeUZpbGUsIHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0XHRjb25zdCBjaGlsZFBhdGhzID0gT2JqZWN0LmtleXMoY291bnRzKS5maWx0ZXIoXG5cdFx0XHQoY291bnRQYXRoKSA9PiBwYXRoID09PSBcIi9cIiB8fCBjb3VudFBhdGguc3RhcnRzV2l0aChwYXRoICsgXCIvXCIpXG5cdFx0KTtcblx0XHRyZXR1cm4gY2hpbGRQYXRocztcblx0fVxuXG5cdHByaXZhdGUgaXNSb290KHBhdGg6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiAhcGF0aCB8fCBwYXRoID09PSBcIi9cIjtcblx0fVxuXG5cdHByaXZhdGUgcmVtb3ZlQ291bnRzKGNvdW50czogQ291bnRzQnlGaWxlLCBwYXRoOiBzdHJpbmcpOiB2b2lkIHtcblx0XHRkZWxldGUgY291bnRzW3BhdGhdO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBzZXRDb3VudHMoY291bnRzOiBDb3VudHNCeUZpbGUsIGZpbGU6IFRGaWxlLCBzdGFydE5ld1Nlc3Npb246IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBtZXRhZGF0YSA9IHRoaXMuYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0RmlsZUNhY2hlKFxuXHRcdFx0ZmlsZVxuXHRcdCkgYXMgQ2FjaGVkTWV0YWRhdGEgfCBudWxsO1xuXHRcdGNvbnN0IHNob3VsZENvdW50RmlsZSA9IHRoaXMuc2hvdWxkQ291bnRGaWxlKGZpbGUsIG1ldGFkYXRhKTtcblxuXHRcdGNvbnN0IGV4aXN0aW5nU2Vzc2lvbiA9IGNvdW50c1tmaWxlLnBhdGhdPy5zZXNzaW9uU3RhcnQ7XG5cdFx0Y291bnRzW2ZpbGUucGF0aF0gPSB7XG5cdFx0XHRpc0NvdW50YWJsZTogc2hvdWxkQ291bnRGaWxlLFxuXHRcdFx0dGFyZ2V0Tm9kZVR5cGU6IFRhcmdldE5vZGUuRmlsZSxcblx0XHRcdG5vdGVDb3VudDogMCxcblx0XHRcdHdvcmRDb3VudDogMCxcblx0XHRcdHdvcmRDb3VudFRvd2FyZEdvYWw6IDAsXG5cdFx0XHR3b3JkR29hbDogMCxcblx0XHRcdHBhZ2VDb3VudDogMCxcblx0XHRcdGNoYXJhY3RlckNvdW50OiAwLFxuXHRcdFx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50OiAwLFxuXHRcdFx0bmV3bGluZUNvdW50OiAwLFxuXHRcdFx0cmVhZGluZ1RpbWVJbk1pbnV0ZXM6IDAsXG5cdFx0XHRsaW5rQ291bnQ6IDAsXG5cdFx0XHRlbWJlZENvdW50OiAwLFxuXHRcdFx0YWxpYXNlczogW10sXG5cdFx0XHRjcmVhdGVkRGF0ZTogZmlsZS5zdGF0LmN0aW1lLFxuXHRcdFx0bW9kaWZpZWREYXRlOiBmaWxlLnN0YXQubXRpbWUsXG5cdFx0XHRzaXplSW5CeXRlczogZmlsZS5zdGF0LnNpemUsXG5cdFx0XHRzZXNzaW9uU3RhcnQ6IHN0YXJ0TmV3U2Vzc2lvbiB8fCAhZXhpc3RpbmdTZXNzaW9uID8ge1xuXHRcdFx0XHRub3RlQ291bnQ6IDAsXG5cdFx0XHRcdHBhZ2VDb3VudDogMCxcblx0XHRcdFx0d29yZENvdW50OiAwLFxuXHRcdFx0XHRjaGFyYWN0ZXJDb3VudDogMCxcblx0XHRcdFx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50OiAwLFxuXHRcdFx0XHRuZXdsaW5lQ291bnQ6IDAsXG5cdFx0XHR9IDogZXhpc3RpbmdTZXNzaW9uLFxuXHRcdH07XG5cblx0XHRpZiAoIXNob3VsZENvdW50RmlsZSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBjb250ZW50ID0gYXdhaXQgdGhpcy52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXG5cdFx0aWYgKGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkgPT09IFwiY2FudmFzXCIpIHtcblx0XHRcdGNvbnRlbnQgPSB0aGlzLmNhbnZhc0hlbHBlci5nZXRDYW52YXNUZXh0KGZpbGUsIGNvbnRlbnQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZW50ID0gdGhpcy50cmltRnJvbnRtYXR0ZXIoY29udGVudCwgbWV0YWRhdGEpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvdW50UmVzdWx0ID0gY291bnRNYXJrZG93bihjb250ZW50LCB7XG5cdFx0XHRleGNsdWRlQ29kZUJsb2NrczogdGhpcy5zZXR0aW5ncy5leGNsdWRlQ29kZUJsb2Nrcyxcblx0XHRcdGV4Y2x1ZGVDb21tZW50czogdGhpcy5zZXR0aW5ncy5leGNsdWRlQ29tbWVudHMsXG5cdFx0XHRleGNsdWRlTm9uVmlzaWJsZUxpbmtQb3J0aW9uczpcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5leGNsdWRlTm9uVmlzaWJsZUxpbmtQb3J0aW9ucyxcblx0XHRcdGV4Y2x1ZGVGb290bm90ZXM6IHRoaXMuc2V0dGluZ3MuZXhjbHVkZUZvb3Rub3Rlcyxcblx0XHR9KTtcblx0XHRjb25zdCBjb21iaW5lZFdvcmRDb3VudCA9XG5cdFx0XHRjb3VudFJlc3VsdC5jamtXb3JkQ291bnQgKyBjb3VudFJlc3VsdC5zcGFjZURlbGltaXRlZFdvcmRDb3VudDtcblx0XHRjb25zdCB3b3JkR29hbDogbnVtYmVyID0gdGhpcy5nZXRXb3JkR29hbChtZXRhZGF0YSk7XG5cblx0XHRjb25zdCBjamtSZWFkaW5nVGltZSA9XG5cdFx0XHRjb3VudFJlc3VsdC5jamtXb3JkQ291bnQgLyAodGhpcy5zZXR0aW5ncy5jaGFyc1Blck1pbnV0ZSB8fCA1MDApO1xuXHRcdGNvbnN0IHNwYWNlRGVsaW1pdGVkUmVhZGluZ1RpbWUgPVxuXHRcdFx0Y291bnRSZXN1bHQuc3BhY2VEZWxpbWl0ZWRXb3JkQ291bnQgL1xuXHRcdFx0KHRoaXMuc2V0dGluZ3Mud29yZHNQZXJNaW51dGUgfHwgMjY1KTtcblx0XHRjb25zdCByZWFkaW5nVGltZUluTWludXRlcyA9IGNqa1JlYWRpbmdUaW1lICsgc3BhY2VEZWxpbWl0ZWRSZWFkaW5nVGltZTtcblxuXHRcdGxldCBwYWdlQ291bnQgPSAwO1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLnBhZ2VDb3VudFR5cGUgPT09IFBhZ2VDb3VudFR5cGUuQnlXb3Jkcykge1xuXHRcdFx0Y29uc3Qgd29yZHNQZXJQYWdlID0gTnVtYmVyKHRoaXMuc2V0dGluZ3Mud29yZHNQZXJQYWdlKTtcblx0XHRcdGNvbnN0IHdvcmRzUGVyUGFnZVZhbGlkID0gIWlzTmFOKHdvcmRzUGVyUGFnZSkgJiYgd29yZHNQZXJQYWdlID4gMDtcblx0XHRcdHBhZ2VDb3VudCA9IGNvbWJpbmVkV29yZENvdW50IC8gKHdvcmRzUGVyUGFnZVZhbGlkID8gd29yZHNQZXJQYWdlIDogMzAwKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dGhpcy5zZXR0aW5ncy5wYWdlQ291bnRUeXBlID09PSBQYWdlQ291bnRUeXBlLkJ5Q2hhcnMgJiZcblx0XHRcdCF0aGlzLnNldHRpbmdzLmNoYXJzUGVyUGFnZUluY2x1ZGVzV2hpdGVzcGFjZVxuXHRcdCkge1xuXHRcdFx0Y29uc3QgY2hhcnNQZXJQYWdlID0gTnVtYmVyKHRoaXMuc2V0dGluZ3MuY2hhcnNQZXJQYWdlKTtcblx0XHRcdGNvbnN0IGNoYXJzUGVyUGFnZVZhbGlkID0gIWlzTmFOKGNoYXJzUGVyUGFnZSkgJiYgY2hhcnNQZXJQYWdlID4gMDtcblx0XHRcdHBhZ2VDb3VudCA9XG5cdFx0XHRcdGNvdW50UmVzdWx0Lm5vbldoaXRlc3BhY2VDaGFyQ291bnQgL1xuXHRcdFx0XHQoY2hhcnNQZXJQYWdlVmFsaWQgPyBjaGFyc1BlclBhZ2UgOiAxNTAwKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dGhpcy5zZXR0aW5ncy5wYWdlQ291bnRUeXBlID09PSBQYWdlQ291bnRUeXBlLkJ5Q2hhcnMgJiZcblx0XHRcdHRoaXMuc2V0dGluZ3MuY2hhcnNQZXJQYWdlSW5jbHVkZXNXaGl0ZXNwYWNlXG5cdFx0KSB7XG5cdFx0XHRjb25zdCBjaGFyc1BlclBhZ2UgPSBOdW1iZXIodGhpcy5zZXR0aW5ncy5jaGFyc1BlclBhZ2UpO1xuXHRcdFx0Y29uc3QgY2hhcnNQZXJQYWdlVmFsaWQgPSAhaXNOYU4oY2hhcnNQZXJQYWdlKSAmJiBjaGFyc1BlclBhZ2UgPiAwO1xuXHRcdFx0cGFnZUNvdW50ID1cblx0XHRcdFx0Y291bnRSZXN1bHQuY2hhckNvdW50IC8gKGNoYXJzUGVyUGFnZVZhbGlkID8gY2hhcnNQZXJQYWdlIDogMTUwMCk7XG5cdFx0fVxuXG5cdFx0T2JqZWN0LmFzc2lnbihjb3VudHNbZmlsZS5wYXRoXSwge1xuXHRcdFx0bm90ZUNvdW50OiAxLFxuXHRcdFx0d29yZENvdW50OiBjb21iaW5lZFdvcmRDb3VudCxcblx0XHRcdHdvcmRDb3VudFRvd2FyZEdvYWw6IHdvcmRHb2FsICE9PSBudWxsID8gY29tYmluZWRXb3JkQ291bnQgOiAwLFxuXHRcdFx0d29yZEdvYWwsXG5cdFx0XHRwYWdlQ291bnQsXG5cdFx0XHRjaGFyYWN0ZXJDb3VudDogY291bnRSZXN1bHQuY2hhckNvdW50LFxuXHRcdFx0bm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50OiBjb3VudFJlc3VsdC5ub25XaGl0ZXNwYWNlQ2hhckNvdW50LFxuXHRcdFx0bmV3bGluZUNvdW50OiBjb3VudFJlc3VsdC5uZXdsaW5lQ291bnQsXG5cdFx0XHRyZWFkaW5nVGltZUluTWludXRlcyxcblx0XHRcdGxpbmtDb3VudDogdGhpcy5jb3VudExpbmtzKG1ldGFkYXRhKSxcblx0XHRcdGVtYmVkQ291bnQ6IHRoaXMuY291bnRFbWJlZHMobWV0YWRhdGEpLFxuXHRcdFx0YWxpYXNlczogcGFyc2VGcm9udE1hdHRlckFsaWFzZXMobWV0YWRhdGE/LmZyb250bWF0dGVyKSxcblx0XHRcdGZyb250bWF0dGVyOiBtZXRhZGF0YT8uZnJvbnRtYXR0ZXIsXG5cdFx0XHRzZXNzaW9uU3RhcnQ6IHtcblx0XHRcdFx0Li4uY291bnRzW2ZpbGUucGF0aF0/LnNlc3Npb25TdGFydCxcblx0XHRcdFx0Li4uKHN0YXJ0TmV3U2Vzc2lvbiA/IHtcblx0XHRcdFx0XHRub3RlQ291bnQ6IDEsXG5cdFx0XHRcdFx0cGFnZUNvdW50LFxuXHRcdFx0XHRcdHdvcmRDb3VudDogY29tYmluZWRXb3JkQ291bnQsXG5cdFx0XHRcdFx0Y2hhcmFjdGVyQ291bnQ6IGNvdW50UmVzdWx0LmNoYXJDb3VudCxcblx0XHRcdFx0XHRub25XaGl0ZXNwYWNlQ2hhcmFjdGVyQ291bnQ6IGNvdW50UmVzdWx0Lm5vbldoaXRlc3BhY2VDaGFyQ291bnQsXG5cdFx0XHRcdFx0bmV3bGluZUNvdW50OiBjb3VudFJlc3VsdC5uZXdsaW5lQ291bnRcblx0XHRcdFx0fSA6IHt9KSxcblx0XHRcdH1cblx0XHR9IGFzIENvdW50RGF0YSk7XG5cdH1cblxuXHRwcml2YXRlIGdldFdvcmRHb2FsKG1ldGFkYXRhPzogQ2FjaGVkTWV0YWRhdGEpOiBudW1iZXIgfCBudWxsIHtcblx0XHRjb25zdCBnb2FsID1cblx0XHRcdG1ldGFkYXRhICYmIG1ldGFkYXRhLmZyb250bWF0dGVyICYmIG1ldGFkYXRhLmZyb250bWF0dGVyW1wid29yZC1nb2FsXCJdO1xuXHRcdGlmICghZ29hbCB8fCBpc05hTihOdW1iZXIoZ29hbCkpKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gTnVtYmVyKGdvYWwpO1xuXHR9XG5cblx0cHJpdmF0ZSB0cmltRnJvbnRtYXR0ZXIoY29udGVudDogc3RyaW5nLCBtZXRhZGF0YT86IENhY2hlZE1ldGFkYXRhKTogc3RyaW5nIHtcblx0XHRsZXQgbWVhbmluZ2Z1bENvbnRlbnQgPSBjb250ZW50O1xuXG5cdFx0Y29uc3QgaGFzRnJvbnRtYXR0ZXIgPSAhIW1ldGFkYXRhICYmICEhbWV0YWRhdGEuZnJvbnRtYXR0ZXI7XG5cdFx0aWYgKGhhc0Zyb250bWF0dGVyKSB7XG5cdFx0XHRjb25zdCBmcm9udG1hdHRlclBvcyA9XG5cdFx0XHRcdChtZXRhZGF0YSBhcyBhbnkpLmZyb250bWF0dGVyUG9zaXRpb24gfHwgbWV0YWRhdGEuZnJvbnRtYXR0ZXIucG9zaXRpb247XG5cdFx0XHRtZWFuaW5nZnVsQ29udGVudCA9XG5cdFx0XHRcdGZyb250bWF0dGVyUG9zICYmIGZyb250bWF0dGVyUG9zLnN0YXJ0ICYmIGZyb250bWF0dGVyUG9zLmVuZFxuXHRcdFx0XHRcdD8gbWVhbmluZ2Z1bENvbnRlbnQuc2xpY2UoMCwgZnJvbnRtYXR0ZXJQb3Muc3RhcnQub2Zmc2V0KSArXG5cdFx0XHRcdFx0XHRtZWFuaW5nZnVsQ29udGVudC5zbGljZShmcm9udG1hdHRlclBvcy5lbmQub2Zmc2V0KVxuXHRcdFx0XHRcdDogbWVhbmluZ2Z1bENvbnRlbnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1lYW5pbmdmdWxDb250ZW50O1xuXHR9XG5cblx0cHJpdmF0ZSByZWFkb25seSBGaWxlVHlwZUFsbG93bGlzdCA9IG5ldyBTZXQoW1xuXHRcdFwiXCIsXG5cdFx0Ly8gTWFya2Rvd24gZXh0ZW5zaW9uc1xuXHRcdFwibWFya2Rvd25cIixcblx0XHRcIm1kXCIsXG5cdFx0XCJtZG1sXCIsXG5cdFx0XCJtZG93blwiLFxuXHRcdFwibWR0ZXh0XCIsXG5cdFx0XCJtZHR4dFwiLFxuXHRcdFwibWR3blwiLFxuXHRcdFwibWtkXCIsXG5cdFx0XCJta2RuXCIsXG5cdFx0Ly8gT2JzaWRpYW4gY2FudmFzXG5cdFx0XCJjYW52YXNcIixcblx0XHQvLyBUZXh0IGZpbGVzXG5cdFx0XCJ0eHRcIixcblx0XHRcInRleHRcIixcblx0XHRcInJ0ZlwiLFxuXHRcdC8vIE1EIHdpdGggZW1iZWRkZWQgY29kZVxuXHRcdFwicW1kXCIsXG5cdFx0XCJybWRcIixcblx0XHQvLyBNRCBmb3Igc2NyZWVud3JpdGVyc1xuXHRcdFwiZm91bnRhaW5cIixcblx0XHQvLyBMYVRlWCBmaWxlc1xuXHRcdFwidGV4XCJcblx0XSk7XG5cblx0cHJpdmF0ZSBzaG91bGRDb3VudEZpbGUoZmlsZTogVEZpbGUsIG1ldGFkYXRhPzogQ2FjaGVkTWV0YWRhdGEpOiBib29sZWFuIHtcblx0XHRpZiAoXG5cdFx0XHR0aGlzLnBhdGhJbmNsdWRlTWF0Y2hlcnMubGVuZ3RoID4gMCAmJlxuXHRcdFx0IXRoaXMucGF0aEluY2x1ZGVNYXRjaGVycy5zb21lKChtYXRjaGVyKSA9PiBmaWxlLnBhdGguaW5jbHVkZXMobWF0Y2hlcikpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0dGhpcy5wYXRoRXhjbHVkZU1hdGNoZXJzLmxlbmd0aCA+IDAgJiZcblx0XHRcdHRoaXMucGF0aEV4Y2x1ZGVNYXRjaGVycy5zb21lKChtYXRjaGVyKSA9PiBmaWxlLnBhdGguaW5jbHVkZXMobWF0Y2hlcikpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLkZpbGVUeXBlQWxsb3dsaXN0LmhhcyhmaWxlLmV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICghbWV0YWRhdGEpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdG1ldGFkYXRhLmZyb250bWF0dGVyICYmXG5cdFx0XHRtZXRhZGF0YS5mcm9udG1hdHRlci5oYXNPd25Qcm9wZXJ0eShcIndvcmRjb3VudFwiKSAmJlxuXHRcdFx0KG1ldGFkYXRhLmZyb250bWF0dGVyLndvcmRjb3VudCA9PT0gbnVsbCB8fFxuXHRcdFx0XHRtZXRhZGF0YS5mcm9udG1hdHRlci53b3JkY291bnQgPT09IGZhbHNlIHx8XG5cdFx0XHRcdG1ldGFkYXRhLmZyb250bWF0dGVyLndvcmRjb3VudCA9PT0gXCJmYWxzZVwiKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHRhZ3MgPSBnZXRBbGxUYWdzKG1ldGFkYXRhKS5tYXAoKHRhZykgPT4gdGFnLnRvTG93ZXJDYXNlKCkpO1xuXHRcdGlmIChcblx0XHRcdHRhZ3MubGVuZ3RoICYmXG5cdFx0XHQodGFncy5pbmNsdWRlcyhcIiNleGNhbGlkcmF3XCIpIHx8XG5cdFx0XHRcdHRhZ3Ncblx0XHRcdFx0XHQuZmlsdGVyKCh0YWcpID0+IHRhZy5zdGFydHNXaXRoKFwiI2V4Y2x1ZGVcIikpXG5cdFx0XHRcdFx0Lm1hcCgodGFnKSA9PiB0YWcucmVwbGFjZSgvWy1fXS9nLCBcIlwiKSlcblx0XHRcdFx0XHQuaW5jbHVkZXMoXCIjZXhjbHVkZWZyb213b3JkY291bnRcIikpXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cbiIsICJleHBvcnQgZW51bSAkQ291bnRUeXBlIHtcblx0Tm9uZSA9IFwibm9uZVwiLFxuXHRXb3JkID0gXCJ3b3JkXCIsXG5cdFBhZ2UgPSBcInBhZ2VcIixcblx0UGFnZURlY2ltYWwgPSBcInBhZ2VkZWNpbWFsXCIsXG5cdExpbmVicmVhayA9IFwibGluZWJyZWFrXCIsXG5cdFJlYWRUaW1lID0gXCJyZWFkdGltZVwiLFxuXHRQZXJjZW50R29hbCA9IFwicGVyY2VudGdvYWxcIixcblx0Tm90ZSA9IFwibm90ZVwiLFxuXHRDaGFyYWN0ZXIgPSBcImNoYXJhY3RlclwiLFxuXHRMaW5rID0gXCJsaW5rXCIsXG5cdEVtYmVkID0gXCJlbWJlZFwiLFxuXHRBbGlhcyA9IFwiYWxpYXNcIixcblx0Q3JlYXRlZCA9IFwiY3JlYXRlZFwiLFxuXHRNb2RpZmllZCA9IFwibW9kaWZpZWRcIixcblx0RmlsZVNpemUgPSBcImZpbGVzaXplXCIsXG5cdEZyb250bWF0dGVyS2V5ID0gXCJmcm9udG1hdHRlcktleVwiLFxuXHRUcmFja1Nlc3Npb24gPSBcInRyYWNrc2Vzc2lvblwiLFxufVxuXG5leHBvcnQgY29uc3QgQ09VTlRfVFlQRVM6ICRDb3VudFR5cGVbXSA9IE9iamVjdC52YWx1ZXMoJENvdW50VHlwZSk7XG5cbmV4cG9ydCB0eXBlICRTZXNzaW9uQ291bnRUeXBlID0gRXh0cmFjdDxcblx0JENvdW50VHlwZSxcblx0fCAkQ291bnRUeXBlLldvcmRcblx0fCAkQ291bnRUeXBlLlBhZ2Vcblx0fCAkQ291bnRUeXBlLlBhZ2VEZWNpbWFsXG5cdHwgJENvdW50VHlwZS5MaW5lYnJlYWtcblx0fCAkQ291bnRUeXBlLk5vdGVcblx0fCAkQ291bnRUeXBlLkNoYXJhY3RlclxuPjtcblxuZXhwb3J0IGNvbnN0IFNFU1NJT05fQ09VTlRfVFlQRVM6ICRTZXNzaW9uQ291bnRUeXBlW10gPSBbXG5cdCRDb3VudFR5cGUuV29yZCxcblx0JENvdW50VHlwZS5QYWdlLFxuXHQkQ291bnRUeXBlLlBhZ2VEZWNpbWFsLFxuXHQkQ291bnRUeXBlLkxpbmVicmVhayxcblx0JENvdW50VHlwZS5Ob3RlLFxuXHQkQ291bnRUeXBlLkNoYXJhY3Rlcixcbl07XG5cbmV4cG9ydCB0eXBlIENvdW50VHlwZUNvbmZpZ3VyYXRpb24gPSBQYXJ0aWFsPHtcblx0Y3VzdG9tU3VmZml4OiBzdHJpbmc7XG5cdGZyb250bWF0dGVyS2V5OiBzdHJpbmc7XG5cdCRzZXNzaW9uQ291bnRUeXBlOiAkU2Vzc2lvbkNvdW50VHlwZTtcbn0+O1xuXG5leHBvcnQgY29uc3QgQ09VTlRfVFlQRV9ESVNQTEFZX1NUUklOR1M6IHsgW2NvdW50VHlwZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG5cdFskQ291bnRUeXBlLk5vbmVdOiBcIk5vbmVcIixcblx0WyRDb3VudFR5cGUuV29yZF06IFwiV29yZCBDb3VudFwiLFxuXHRbJENvdW50VHlwZS5QYWdlXTogXCJQYWdlIENvdW50XCIsXG5cdFskQ291bnRUeXBlLlBhZ2VEZWNpbWFsXTogXCJQYWdlIENvdW50IChkZWNpbWFsKVwiLFxuXHRbJENvdW50VHlwZS5MaW5lYnJlYWtdOiBcIkxpbmUgQnJlYWsgQ291bnRcIixcblx0WyRDb3VudFR5cGUuUmVhZFRpbWVdOiBcIlJlYWRpbmcgVGltZVwiLFxuXHRbJENvdW50VHlwZS5QZXJjZW50R29hbF06IFwiJSBvZiBXb3JkIEdvYWxcIixcblx0WyRDb3VudFR5cGUuTm90ZV06IFwiTm90ZSBDb3VudFwiLFxuXHRbJENvdW50VHlwZS5DaGFyYWN0ZXJdOiBcIkNoYXJhY3RlciBDb3VudFwiLFxuXHRbJENvdW50VHlwZS5MaW5rXTogXCJMaW5rIENvdW50XCIsXG5cdFskQ291bnRUeXBlLkVtYmVkXTogXCJFbWJlZCBDb3VudFwiLFxuXHRbJENvdW50VHlwZS5BbGlhc106IFwiRmlyc3QgQWxpYXNcIixcblx0WyRDb3VudFR5cGUuQ3JlYXRlZF06IFwiQ3JlYXRlZCBEYXRlXCIsXG5cdFskQ291bnRUeXBlLk1vZGlmaWVkXTogXCJMYXN0IFVwZGF0ZWQgRGF0ZVwiLFxuXHRbJENvdW50VHlwZS5GaWxlU2l6ZV06IFwiRmlsZSBTaXplXCIsXG5cdFskQ291bnRUeXBlLkZyb250bWF0dGVyS2V5XTogXCJGcm9udG1hdHRlciBLZXlcIixcblx0WyRDb3VudFR5cGUuVHJhY2tTZXNzaW9uXTogXCJUcmFjayBTZXNzaW9uXCIsXG59O1xuXG5leHBvcnQgY29uc3QgQ09VTlRfVFlQRV9ERVNDUklQVElPTlM6IHsgW2NvdW50VHlwZTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG5cdFskQ291bnRUeXBlLk5vbmVdOiBcIkhpZGRlbi5cIixcblx0WyRDb3VudFR5cGUuV29yZF06IFwiVG90YWwgd29yZHMuXCIsXG5cdFskQ291bnRUeXBlLlBhZ2VdOiBcIlRvdGFsIHBhZ2VzLCByb3VuZGVkIHVwLlwiLFxuXHRbJENvdW50VHlwZS5QYWdlRGVjaW1hbF06XG5cdFx0XCJUb3RhbCBwYWdlcywgcHJlY2lzZSB0byAyIGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbC5cIixcblx0WyRDb3VudFR5cGUuTGluZWJyZWFrXTogXCJOZXdsaW5lcyAoXHUwMEI2KSwgaW5jbHVkaW5nIGVtcHR5IGxpbmVzLlwiLFxuXHRbJENvdW50VHlwZS5SZWFkVGltZV06IFwiRXN0aW1hdGVkIHRpbWUgdG8gcmVhZCB0aGUgbm90ZS5cIixcblx0WyRDb3VudFR5cGUuUGVyY2VudEdvYWxdOlxuXHRcdFwiU2V0IGEgd29yZCBnb2FsIGJ5IGFkZGluZyB0aGUgJ3dvcmQtZ29hbCcgcHJvcGVydHkgdG8gYSBub3RlLlwiLFxuXHRbJENvdW50VHlwZS5Ob3RlXTogXCJUb3RhbCBub3Rlcy5cIixcblx0WyRDb3VudFR5cGUuQ2hhcmFjdGVyXTpcblx0XHRcIlRvdGFsIGNoYXJhY3RlcnMgKGxldHRlcnMsIHN5bWJvbHMsIG51bWJlcnMsIGFuZCBzcGFjZXMpLlwiLFxuXHRbJENvdW50VHlwZS5MaW5rXTogXCJUb3RhbCBsaW5rcyB0byBvdGhlciBub3Rlcy5cIixcblx0WyRDb3VudFR5cGUuRW1iZWRdOiBcIlRvdGFsIGVtYmVkZGVkIGltYWdlcywgZmlsZXMsIGFuZCBub3Rlcy5cIixcblx0WyRDb3VudFR5cGUuQWxpYXNdOiBcIlRoZSBmaXJzdCBhbGlhcyBwcm9wZXJ0eSBvZiBlYWNoIG5vdGUuXCIsXG5cdFskQ291bnRUeXBlLkNyZWF0ZWRdOlxuXHRcdFwiQ3JlYXRpb24gZGF0ZS4gKE9uIGZvbGRlcnM6IGVhcmxpZXN0IGNyZWF0aW9uIGRhdGUgb2YgYW55IG5vdGUuKVwiLFxuXHRbJENvdW50VHlwZS5Nb2RpZmllZF06XG5cdFx0XCJEYXRlIG9mIGxhc3QgZWRpdC4gKE9uIGZvbGRlcnM6IGxhdGVzdCBlZGl0IGRhdGUgb2YgYW55IG5vdGUuKVwiLFxuXHRbJENvdW50VHlwZS5GaWxlU2l6ZV06IFwiVG90YWwgc2l6ZSBvbiBoYXJkIGRyaXZlLlwiLFxuXHRbJENvdW50VHlwZS5Gcm9udG1hdHRlcktleV06IFwiS2V5IGluIHRoZSBmcm9udG1hdHRlciBibG9jay5cIixcblx0WyRDb3VudFR5cGUuVHJhY2tTZXNzaW9uXTpcblx0XHRcIlRyYWNrIHByb2dyZXNzIHNpbmNlIGxhc3QgT2JzaWRpYW4gc3RhcnR1cCwgcGx1Z2luIGluaXQsIHNldHRpbmdzIGNoYW5nZSwgb3IgcmVjb3VudFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IFVORk9STUFUVEFCTEVfQ09VTlRfVFlQRVMgPSBbXG5cdCRDb3VudFR5cGUuTm9uZSxcblx0JENvdW50VHlwZS5BbGlhcyxcblx0JENvdW50VHlwZS5GaWxlU2l6ZSxcblx0JENvdW50VHlwZS5SZWFkVGltZSxcbl07XG5cbmV4cG9ydCBjb25zdCBDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVM6IHtcblx0W2NvdW50VHlwZTogc3RyaW5nXTogc3RyaW5nO1xufSA9IHtcblx0WyRDb3VudFR5cGUuV29yZF06IFwid1wiLFxuXHRbJENvdW50VHlwZS5QYWdlXTogXCJwXCIsXG5cdFskQ291bnRUeXBlLlBhZ2VEZWNpbWFsXTogXCJwXCIsXG5cdFskQ291bnRUeXBlLkxpbmVicmVha106IFwiXHUwMEI2XCIsXG5cdFskQ291bnRUeXBlLlBlcmNlbnRHb2FsXTogXCIlXCIsXG5cdFskQ291bnRUeXBlLk5vdGVdOiBcIm5cIixcblx0WyRDb3VudFR5cGUuQ2hhcmFjdGVyXTogXCJjaFwiLFxuXHRbJENvdW50VHlwZS5MaW5rXTogXCJ4XCIsXG5cdFskQ291bnRUeXBlLkVtYmVkXTogXCJlbVwiLFxuXHRbJENvdW50VHlwZS5DcmVhdGVkXTogXCIvY1wiLFxuXHRbJENvdW50VHlwZS5Nb2RpZmllZF06IFwiL3VcIixcblx0WyRDb3VudFR5cGUuRnJvbnRtYXR0ZXJLZXldOiBcIlwiLFxuXHRbJENvdW50VHlwZS5UcmFja1Nlc3Npb25dOiBcIi9zXCIsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oY291bnRUeXBlOiAkQ291bnRUeXBlKTogc3RyaW5nIHtcblx0cmV0dXJuIGBbJHtDT1VOVF9UWVBFX0RJU1BMQVlfU1RSSU5HU1tjb3VudFR5cGVdfV0gJHtDT1VOVF9UWVBFX0RFU0NSSVBUSU9OU1tjb3VudFR5cGVdfWA7XG59XG5cbmV4cG9ydCBlbnVtIEFsaWdubWVudFR5cGUge1xuXHRJbmxpbmUgPSBcImlubGluZVwiLFxuXHRSaWdodCA9IFwicmlnaHRcIixcblx0QmVsb3cgPSBcImJlbG93XCIsXG59XG5cbmV4cG9ydCBjb25zdCBBTElHTk1FTlRfVFlQRVMgPSBbXG5cdEFsaWdubWVudFR5cGUuSW5saW5lLFxuXHRBbGlnbm1lbnRUeXBlLlJpZ2h0LFxuXHRBbGlnbm1lbnRUeXBlLkJlbG93LFxuXTtcblxuZXhwb3J0IGVudW0gQ2hhcmFjdGVyQ291bnRUeXBlIHtcblx0U3RyaW5nTGVuZ3RoID0gXCJBbGxDaGFyYWN0ZXJzXCIsXG5cdEV4Y2x1ZGVXaGl0ZXNwYWNlID0gXCJFeGNsdWRlV2hpdGVzcGFjZVwiLFxufVxuXG5leHBvcnQgZW51bSBQYWdlQ291bnRUeXBlIHtcblx0QnlXb3JkcyA9IFwiQnlXb3Jkc1wiLFxuXHRCeUNoYXJzID0gXCJCeUNoYXJzXCIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm92ZWxXb3JkQ291bnRTZXR0aW5ncyB7XG5cdC8vIEZPUk1BVFRJTkdcblx0dXNlQWR2YW5jZWRGb3JtYXR0aW5nOiBib29sZWFuO1xuXHQvLyBOT1RFU1xuXHRjb3VudFR5cGU6ICRDb3VudFR5cGU7XG5cdGNvdW50Q29uZmlnOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyBjb3VudFR5cGVTdWZmaXg6IHN0cmluZztcblx0Ly8gZnJvbnRtYXR0ZXJLZXk6IHN0cmluZztcblx0Y291bnRUeXBlMjogJENvdW50VHlwZTtcblx0Y291bnRDb25maWcyOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyBjb3VudFR5cGUyU3VmZml4OiBzdHJpbmc7XG5cdC8vIGZyb250bWF0dGVyS2V5Mjogc3RyaW5nO1xuXHRjb3VudFR5cGUzOiAkQ291bnRUeXBlO1xuXHRjb3VudENvbmZpZzM6IENvdW50VHlwZUNvbmZpZ3VyYXRpb247XG5cdC8vIGNvdW50VHlwZTNTdWZmaXg6IHN0cmluZztcblx0Ly8gZnJvbnRtYXR0ZXJLZXkzOiBzdHJpbmc7XG5cdHBpcGVTZXBhcmF0b3I6IHN0cmluZztcblx0YWJicmV2aWF0ZURlc2NyaXB0aW9uczogYm9vbGVhbjtcblx0YWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlO1xuXHQvLyBGT0xERVJTXG5cdHNob3dTYW1lQ291bnRzT25Gb2xkZXJzOiBib29sZWFuO1xuXHRmb2xkZXJDb3VudFR5cGU6ICRDb3VudFR5cGU7XG5cdGZvbGRlckNvdW50Q29uZmlnOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyBmb2xkZXJDb3VudFR5cGVTdWZmaXg6IHN0cmluZztcblx0Zm9sZGVyQ291bnRUeXBlMjogJENvdW50VHlwZTtcblx0Zm9sZGVyQ291bnRDb25maWcyOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyBmb2xkZXJDb3VudFR5cGUyU3VmZml4OiBzdHJpbmc7XG5cdGZvbGRlckNvdW50VHlwZTM6ICRDb3VudFR5cGU7XG5cdGZvbGRlckNvdW50Q29uZmlnMzogQ291bnRUeXBlQ29uZmlndXJhdGlvbjtcblx0Ly8gZm9sZGVyQ291bnRUeXBlM1N1ZmZpeDogc3RyaW5nO1xuXHRmb2xkZXJQaXBlU2VwYXJhdG9yOiBzdHJpbmc7XG5cdGZvbGRlckFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGJvb2xlYW47XG5cdGZvbGRlckFsaWdubWVudDogQWxpZ25tZW50VHlwZTtcblx0Ly8gUk9PVFxuXHRzaG93U2FtZUNvdW50c09uUm9vdDogYm9vbGVhbjtcblx0cm9vdENvdW50VHlwZTogJENvdW50VHlwZTtcblx0cm9vdENvdW50Q29uZmlnOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyByb290Q291bnRUeXBlU3VmZml4OiBzdHJpbmc7XG5cdHJvb3RDb3VudFR5cGUyOiAkQ291bnRUeXBlO1xuXHRyb290Q291bnRDb25maWcyOiBDb3VudFR5cGVDb25maWd1cmF0aW9uO1xuXHQvLyByb290Q291bnRUeXBlMlN1ZmZpeDogc3RyaW5nO1xuXHRyb290Q291bnRUeXBlMzogJENvdW50VHlwZTtcblx0cm9vdENvdW50Q29uZmlnMzogQ291bnRUeXBlQ29uZmlndXJhdGlvbjtcblx0Ly8gcm9vdENvdW50VHlwZTNTdWZmaXg6IHN0cmluZztcblx0cm9vdFBpcGVTZXBhcmF0b3I6IHN0cmluZztcblx0cm9vdEFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGJvb2xlYW47XG5cdC8vIEFEVkFOQ0VEXG5cdHNob3dBZHZhbmNlZDogYm9vbGVhbjtcblx0bGFiZWxPcGFjaXR5OiBudW1iZXI7XG5cdHdvcmRzUGVyTWludXRlOiBudW1iZXI7XG5cdGNoYXJzUGVyTWludXRlOiBudW1iZXI7XG5cdHdvcmRzUGVyUGFnZTogbnVtYmVyO1xuXHRjaGFyc1BlclBhZ2U6IG51bWJlcjtcblx0Y2hhcnNQZXJQYWdlSW5jbHVkZXNXaGl0ZXNwYWNlOiBib29sZWFuO1xuXHRjaGFyYWN0ZXJDb3VudFR5cGU6IENoYXJhY3RlckNvdW50VHlwZTtcblx0cGFnZUNvdW50VHlwZTogUGFnZUNvdW50VHlwZTtcblx0aW5jbHVkZURpcmVjdG9yaWVzOiBzdHJpbmc7XG5cdGV4Y2x1ZGVDb21tZW50czogYm9vbGVhbjtcblx0ZXhjbHVkZUNvZGVCbG9ja3M6IGJvb2xlYW47XG5cdGV4Y2x1ZGVOb25WaXNpYmxlTGlua1BvcnRpb25zOiBib29sZWFuO1xuXHRleGNsdWRlRm9vdG5vdGVzOiBib29sZWFuO1xuXHRtb21lbnREYXRlRm9ybWF0OiBzdHJpbmc7XG5cdGRlYnVnTW9kZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE5vdmVsV29yZENvdW50U2V0dGluZ3MgPSB7XG5cdC8vIEZPUk1BVFRJTkdcblx0dXNlQWR2YW5jZWRGb3JtYXR0aW5nOiBmYWxzZSxcblx0Ly8gTk9URVNcblx0Y291bnRUeXBlOiAkQ291bnRUeXBlLldvcmQsXG5cdGNvdW50Q29uZmlnOiB7XG5cdFx0Y3VzdG9tU3VmZml4OiBcIndcIixcblx0XHQkc2Vzc2lvbkNvdW50VHlwZTogJENvdW50VHlwZS5Xb3JkLFxuXHR9LFxuXHRjb3VudFR5cGUyOiAkQ291bnRUeXBlLk5vbmUsXG5cdGNvdW50Q29uZmlnMjoge1xuXHRcdCRzZXNzaW9uQ291bnRUeXBlOiAkQ291bnRUeXBlLldvcmQsXG5cdH0sXG5cdGNvdW50VHlwZTM6ICRDb3VudFR5cGUuTm9uZSxcblx0Y291bnRDb25maWczOiB7XG5cdFx0JHNlc3Npb25Db3VudFR5cGU6ICRDb3VudFR5cGUuV29yZCxcblx0fSxcblx0cGlwZVNlcGFyYXRvcjogXCJ8XCIsXG5cdGFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGZhbHNlLFxuXHRhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuSW5saW5lLFxuXHQvLyBGT0xERVJTXG5cdHNob3dTYW1lQ291bnRzT25Gb2xkZXJzOiB0cnVlLFxuXHRmb2xkZXJDb3VudFR5cGU6ICRDb3VudFR5cGUuV29yZCxcblx0Zm9sZGVyQ291bnRDb25maWc6IHtcblx0XHRjdXN0b21TdWZmaXg6IFwid1wiLFxuXHRcdCRzZXNzaW9uQ291bnRUeXBlOiAkQ291bnRUeXBlLldvcmQsXG5cdH0sXG5cdGZvbGRlckNvdW50VHlwZTI6ICRDb3VudFR5cGUuTm9uZSxcblx0Zm9sZGVyQ291bnRDb25maWcyOiB7XG5cdFx0JHNlc3Npb25Db3VudFR5cGU6ICRDb3VudFR5cGUuV29yZCxcblx0fSxcblx0Zm9sZGVyQ291bnRUeXBlMzogJENvdW50VHlwZS5Ob25lLFxuXHRmb2xkZXJDb3VudENvbmZpZzM6IHtcblx0XHQkc2Vzc2lvbkNvdW50VHlwZTogJENvdW50VHlwZS5Xb3JkLFxuXHR9LFxuXHRmb2xkZXJQaXBlU2VwYXJhdG9yOiBcInxcIixcblx0Zm9sZGVyQWJicmV2aWF0ZURlc2NyaXB0aW9uczogZmFsc2UsXG5cdGZvbGRlckFsaWdubWVudDogQWxpZ25tZW50VHlwZS5JbmxpbmUsXG5cdC8vIFJPT1Rcblx0c2hvd1NhbWVDb3VudHNPblJvb3Q6IHRydWUsXG5cdHJvb3RDb3VudFR5cGU6ICRDb3VudFR5cGUuV29yZCxcblx0cm9vdENvdW50Q29uZmlnOiB7XG5cdFx0Y3VzdG9tU3VmZml4OiBcIndcIixcblx0XHQkc2Vzc2lvbkNvdW50VHlwZTogJENvdW50VHlwZS5Xb3JkLFxuXHR9LFxuXHRyb290Q291bnRUeXBlMjogJENvdW50VHlwZS5Ob25lLFxuXHRyb290Q291bnRDb25maWcyOiB7XG5cdFx0JHNlc3Npb25Db3VudFR5cGU6ICRDb3VudFR5cGUuV29yZCxcblx0fSxcblx0cm9vdENvdW50VHlwZTM6ICRDb3VudFR5cGUuTm9uZSxcblx0cm9vdENvdW50Q29uZmlnMzoge1xuXHRcdCRzZXNzaW9uQ291bnRUeXBlOiAkQ291bnRUeXBlLldvcmQsXG5cdH0sXG5cdHJvb3RQaXBlU2VwYXJhdG9yOiBcInxcIixcblx0cm9vdEFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGZhbHNlLFxuXHQvLyBBRFZBTkNFRFxuXHRzaG93QWR2YW5jZWQ6IGZhbHNlLFxuXHRsYWJlbE9wYWNpdHk6IDAuNzUsXG5cdHdvcmRzUGVyTWludXRlOiAyNjUsXG5cdGNoYXJzUGVyTWludXRlOiA1MDAsXG5cdHdvcmRzUGVyUGFnZTogMzAwLFxuXHRjaGFyc1BlclBhZ2U6IDE1MDAsXG5cdGNoYXJzUGVyUGFnZUluY2x1ZGVzV2hpdGVzcGFjZTogZmFsc2UsXG5cdGNoYXJhY3RlckNvdW50VHlwZTogQ2hhcmFjdGVyQ291bnRUeXBlLlN0cmluZ0xlbmd0aCxcblx0cGFnZUNvdW50VHlwZTogUGFnZUNvdW50VHlwZS5CeVdvcmRzLFxuXHRpbmNsdWRlRGlyZWN0b3JpZXM6IFwiXCIsXG5cdGV4Y2x1ZGVDb21tZW50czogZmFsc2UsXG5cdGV4Y2x1ZGVDb2RlQmxvY2tzOiBmYWxzZSxcblx0ZXhjbHVkZU5vblZpc2libGVMaW5rUG9ydGlvbnM6IGZhbHNlLFxuXHRleGNsdWRlRm9vdG5vdGVzOiBmYWxzZSxcblx0bW9tZW50RGF0ZUZvcm1hdDogXCJcIixcblx0ZGVidWdNb2RlOiBmYWxzZSxcbn07XG4iLCAiZXhwb3J0IGludGVyZmFjZSBNYXJrZG93blBhcnNlQ29uZmlnIHtcblx0ZXhjbHVkZUNvbW1lbnRzOiBib29sZWFuO1xuXHRleGNsdWRlQ29kZUJsb2NrczogYm9vbGVhbjtcblx0ZXhjbHVkZU5vblZpc2libGVMaW5rUG9ydGlvbnM6IGJvb2xlYW47XG5cdGV4Y2x1ZGVGb290bm90ZXM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFya2Rvd25QYXJzZVJlc3VsdCB7XG5cdGNoYXJDb3VudDogbnVtYmVyO1xuXHRub25XaGl0ZXNwYWNlQ2hhckNvdW50OiBudW1iZXI7XG5cdHNwYWNlRGVsaW1pdGVkV29yZENvdW50OiBudW1iZXI7XG5cdGNqa1dvcmRDb3VudDogbnVtYmVyO1xuXHRuZXdsaW5lQ291bnQ6IG51bWJlcjtcbn1cblxuY29uc3QgY2prUmVnZXggPVxuXHQvW1xccHtTY3JpcHQ9SGFufVxccHtTY3JpcHQ9SGlyYWdhbmF9XFxwe1NjcmlwdD1LYXRha2FuYX1cXHB7U2NyaXB0PUhhbmd1bH1dL2d1O1xuY29uc3QgYWxsU3ltYm9sc1JlZ2V4ID0gL1tcXHB7U31cXHB7UH1dL2d1O1xuXG5leHBvcnQgZnVuY3Rpb24gY291bnRNYXJrZG93bihcblx0Y29udGVudDogc3RyaW5nLFxuXHRjb25maWc6IE1hcmtkb3duUGFyc2VDb25maWdcbik6IE1hcmtkb3duUGFyc2VSZXN1bHQge1xuXHRjb250ZW50ID0gcmVtb3ZlTm9uQ291bnRlZENvbnRlbnQoY29udGVudCwgY29uZmlnKTtcblxuXHRsZXQgd29yZFNlcXVlbmNlcyA9IGNvbnRlbnRcblx0XHQucmVwbGFjZShjamtSZWdleCwgXCIgXCIpXG5cdFx0LnJlcGxhY2UoYWxsU3ltYm9sc1JlZ2V4LCBcIlwiKVxuXHRcdC50cmltKClcblx0XHQuc3BsaXQoL1xccysvKTtcblxuXHQvLyBUaGVyZSBhcmUgbW9yZSBpZGlvbWF0aWMgd2F5cyB0byBoYW5kbGUgYW4gZW1wdHkgc3RyaW5nLCBidXQgdGhpcyBpcyB0aGUgZmFzdGVzdC5cblx0aWYgKHdvcmRTZXF1ZW5jZXMubGVuZ3RoID09PSAxICYmIHdvcmRTZXF1ZW5jZXNbMF0gPT09IFwiXCIpIHtcblx0XHR3b3JkU2VxdWVuY2VzID0gW107XG5cdH1cblxuXHRsZXQgbGluZVNlcXVlbmNlcyA9IGNvbnRlbnQuc3BsaXQoJ1xcbicpO1xuXG5cdGlmIChsaW5lU2VxdWVuY2VzLmxlbmd0aCA9PT0gMSAmJiBsaW5lU2VxdWVuY2VzWzBdID09PSBcIlwiKSB7XG5cdFx0bGluZVNlcXVlbmNlcyA9IFtdO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0OiBNYXJrZG93blBhcnNlUmVzdWx0ID0ge1xuXHRcdGNoYXJDb3VudDogY29udGVudC5sZW5ndGgsXG5cdFx0bm9uV2hpdGVzcGFjZUNoYXJDb3VudDogY291bnROb25XaGl0ZXNwYWNlQ2hhcmFjdGVycyhjb250ZW50KSxcblx0XHRzcGFjZURlbGltaXRlZFdvcmRDb3VudDogd29yZFNlcXVlbmNlcy5sZW5ndGgsXG5cdFx0Y2prV29yZENvdW50OiAoY29udGVudC5tYXRjaChjamtSZWdleCkgfHwgW10pLmxlbmd0aCxcblx0XHRuZXdsaW5lQ291bnQ6IGxpbmVTZXF1ZW5jZXMubGVuZ3RoLFxuXHR9O1xuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IHdoaXRlc3BhY2VSZWdleCA9IC9cXHMvZztcbmV4cG9ydCBmdW5jdGlvbiBjb3VudE5vbldoaXRlc3BhY2VDaGFyYWN0ZXJzKGNvbnRlbnQ6IHN0cmluZyk6IG51bWJlciB7XG5cdHJldHVybiBjb250ZW50LnJlcGxhY2Uod2hpdGVzcGFjZVJlZ2V4LCBcIlwiKS5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb25Db3VudGVkQ29udGVudChcblx0Y29udGVudDogc3RyaW5nLFxuXHRjb25maWc6IE1hcmtkb3duUGFyc2VDb25maWdcbik6IHN0cmluZyB7XG5cdGlmIChjb25maWcuZXhjbHVkZUNvZGVCbG9ja3MpIHtcblx0XHRjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC8oYGBgLis/YGBgKS9naW1zLCBcIlwiKTtcblx0fVxuXG5cdGlmIChjb25maWcuZXhjbHVkZUNvbW1lbnRzKSB7XG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvKCUlLis/JSV8PCEtLS4rPy0tPikvZ2ltcywgXCJcIik7XG5cdH1cblxuXHRpZiAoY29uZmlnLmV4Y2x1ZGVOb25WaXNpYmxlTGlua1BvcnRpb25zKSB7XG5cdFx0Ly8gRXhjbHVkZSB0aGUgVVJMIG9mIGV4dGVybmFsIGxpbmtzXG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxbKFteXFxdXSo/KVxcXVxcKFteXFwpXSo/XFwpL2dpbSwgXCIkMVwiKTtcblxuXHRcdC8vIEV4Y2x1ZGUgdGhlIG5vdGUgbmFtZSBvZiBpbnRlcm5hbCBsaW5rcyB3aXRoIGFuIGFsaWFzXG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxbXFxbKC4qPylcXF1cXF0vZ2ltLCAoXywgJDEpID0+IHtcblx0XHRcdHJldHVybiAhJDEgPyBcIlwiIDogJDEuaW5jbHVkZXMoXCJ8XCIpID8gJDEuc2xpY2UoJDEuaW5kZXhPZihcInxcIikgKyAxKSA6ICQxO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGNvbmZpZy5leGNsdWRlRm9vdG5vdGVzKSB7XG5cdFx0Ly8gUmVwbGFjZSB0aGUgZm9vdG5vdGVzXG5cdFx0Y29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXFxbXFxeLis/XFxdOiAuKi9naW0sIFwiXCIpO1xuXG5cdFx0Ly8gUmVwbGFjZSB0aGUgZm9vdG5vdGUgbWFya3Ncblx0XHRjb250ZW50ID0gY29udGVudC5yZXBsYWNlKC9cXFtcXF4uKz9cXF0vZ2ltLCBcIlwiKTtcblx0fVxuXG5cdHJldHVybiBjb250ZW50O1xufVxuIiwgImltcG9ydCB7IFRGaWxlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDYW52YXNEYXRhIH0gZnJvbSBcIm9ic2lkaWFuL2NhbnZhc1wiO1xuaW1wb3J0IHsgRGVidWdIZWxwZXIgfSBmcm9tIFwiLi9kZWJ1Z1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FudmFzSGVscGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkZWJ1ZzogRGVidWdIZWxwZXIpIHt9XG5cbiAgZ2V0Q2FudmFzVGV4dChmaWxlOiBURmlsZSwgY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FudmFzOiBDYW52YXNEYXRhID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgIGNvbnN0IHRleHRzID0gY2FudmFzLm5vZGVzLm1hcChub2RlID0+IG5vZGUudGV4dCkuZmlsdGVyKHRleHQgPT4gISF0ZXh0KTtcbiAgICAgIHJldHVybiB0ZXh0cy5qb2luKCdcXG4nKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgdGhpcy5kZWJ1Zy5lcnJvcihgVW5hYmxlIHRvIHBhcnNlIGNhbnZhcyBmaWxlIFske2ZpbGUubmFtZX1dOiAke2V4fWApO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxufVxuIiwgImNvbnN0IGxvY2FsZXMgPSBbLi4ubmF2aWdhdG9yLmxhbmd1YWdlcywgXCJlbi1VU1wiXTtcblxuZXhwb3J0IGNvbnN0IE51bWJlckZvcm1hdERlZmF1bHQgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlcyk7XG5leHBvcnQgY29uc3QgTnVtYmVyRm9ybWF0RGVjaW1hbCA9IG5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGVzLCB7XG5cdG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMSxcblx0bWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyLFxufSk7XG5leHBvcnQgY29uc3QgTnVtYmVyRm9ybWF0RmlsZVNpemUgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlcywge1xuXHRtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDAsXG5cdG1heGltdW1GcmFjdGlvbkRpZ2l0czogMixcbn0pO1xuIiwgImltcG9ydCB7IE51bWJlckZvcm1hdEZpbGVTaXplIH0gZnJvbSBcIi4vbG9jYWxlX2Zvcm1hdFwiO1xuXG5pbnRlcmZhY2UgRm9ybWF0VGhyZXNob2xkIHtcbiAgc3VmZml4OiBzdHJpbmc7XG4gIHN1ZmZpeExvbmc6IHN0cmluZztcbiAgZGl2aXNvcjogbnVtYmVyO1xufVxuXG5jb25zdCBmb3JtYXRUaHJlc2hvbGRzOiBGb3JtYXRUaHJlc2hvbGRbXSA9IFt7XG4gIHN1ZmZpeDogJ0InLFxuICBzdWZmaXhMb25nOiAnIEInLFxuICBkaXZpc29yOiAxLFxufSx7XG4gIHN1ZmZpeDogJ2tCJyxcbiAgc3VmZml4TG9uZzogJyBrQicsXG4gIGRpdmlzb3I6IDFfMDAwLFxufSx7XG4gIHN1ZmZpeDogJ01CJyxcbiAgc3VmZml4TG9uZzogJyBNQicsXG4gIGRpdmlzb3I6IDFfMDAwXzAwMCxcbn0se1xuICBzdWZmaXg6ICdHQicsXG4gIHN1ZmZpeExvbmc6ICcgR0InLFxuICBkaXZpc29yOiAxXzAwMF8wMDBfMDAwLFxufSx7XG4gIHN1ZmZpeDogJ1RCJyxcbiAgc3VmZml4TG9uZzogJyBUQicsXG4gIGRpdmlzb3I6IDFfMDAwXzAwMF8wMDBfMDAwLFxufV1cblxuZXhwb3J0IGNsYXNzIEZpbGVTaXplSGVscGVyIHtcbiAgZm9ybWF0RmlsZVNpemUoYnl0ZXM6IG51bWJlciwgc2hvdWxkQWJicmV2aWF0ZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgY29uc3QgbGFyZ2VzdFRocmVzaG9sZCA9IGZvcm1hdFRocmVzaG9sZHMubGFzdCgpO1xuICAgIGZvciAoY29uc3QgZm9ybWF0VGhyZXNob2xkIG9mIGZvcm1hdFRocmVzaG9sZHMpIHtcbiAgICAgIGlmIChieXRlcyA8IChmb3JtYXRUaHJlc2hvbGQuZGl2aXNvciAqIDFfMDAwKSB8fCBmb3JtYXRUaHJlc2hvbGQgPT09IGxhcmdlc3RUaHJlc2hvbGQpIHtcbiAgICAgICAgY29uc3QgdW5pdHMgPSBieXRlcyAvIGZvcm1hdFRocmVzaG9sZC5kaXZpc29yO1xuICAgICAgICBjb25zdCBzdWZmaXggPSBzaG91bGRBYmJyZXZpYXRlID8gZm9ybWF0VGhyZXNob2xkLnN1ZmZpeCA6IGZvcm1hdFRocmVzaG9sZC5zdWZmaXhMb25nO1xuICAgICAgICByZXR1cm4gYCR7TnVtYmVyRm9ybWF0RmlsZVNpemUuZm9ybWF0KHVuaXRzKX0ke3N1ZmZpeH1gO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBgP0JgO1xuICB9XG59IiwgImltcG9ydCB7IE51bWJlckZvcm1hdERlZmF1bHQgfSBmcm9tIFwiLi9sb2NhbGVfZm9ybWF0XCI7XG5cbmV4cG9ydCBjbGFzcyBSZWFkVGltZUhlbHBlciB7XG4gIGZvcm1hdFJlYWRUaW1lKG1pbnV0ZXM6IG51bWJlciwgc2hvdWxkQWJicmV2aWF0ZTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgY29uc3QgZmluYWwgPSBzaG91bGRBYmJyZXZpYXRlID8gJycgOiAnIHJlYWQnO1xuXG4gICAgaWYgKChtaW51dGVzICogNjApIDwgMSkge1xuICAgICAgcmV0dXJuIGAwbSR7ZmluYWx9YFxuICAgIH1cblxuICAgIGlmIChtaW51dGVzIDwgMSkge1xuICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGgucm91bmQobWludXRlcyAqIDYwKTtcbiAgICAgIHJldHVybiBgJHtzZWNvbmRzfXMke2ZpbmFsfWA7XG4gICAgfVxuXG4gICAgaWYgKG1pbnV0ZXMgPCA2MCkge1xuICAgICAgcmV0dXJuIGAke01hdGgucm91bmQobWludXRlcyl9bSR7ZmluYWx9YDtcbiAgICB9XG5cbiAgICBjb25zdCBob3VycyA9IE51bWJlckZvcm1hdERlZmF1bHQuZm9ybWF0KE1hdGguZmxvb3IobWludXRlcyAvIDYwKSk7XG4gICAgY29uc3QgcmVtYWluZGVyID0gTWF0aC5mbG9vcihtaW51dGVzKSAlIDYwO1xuICAgIHJldHVybiByZW1haW5kZXIgPT09IDAgPyBgJHtob3Vyc31oJHtmaW5hbH1gIDogYCR7aG91cnN9aCR7cmVtYWluZGVyfW0ke2ZpbmFsfWA7XG4gIH1cbn0iLCAiaW1wb3J0IHR5cGUgTm92ZWxXb3JkQ291bnRQbHVnaW4gZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7IENvdW50RGF0YSwgVGFyZ2V0Tm9kZSB9IGZyb20gXCIuL2ZpbGVcIjtcbmltcG9ydCB7XG5cdENoYXJhY3RlckNvdW50VHlwZSxcblx0JENvdW50VHlwZSxcblx0Tm92ZWxXb3JkQ291bnRTZXR0aW5ncyxcblx0Q291bnRUeXBlQ29uZmlndXJhdGlvbixcblx0JFNlc3Npb25Db3VudFR5cGUsXG5cdENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFUyxcbn0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEZpbGVTaXplSGVscGVyIH0gZnJvbSBcIi4vZmlsZXNpemVcIjtcbmltcG9ydCB7IFJlYWRUaW1lSGVscGVyIH0gZnJvbSBcIi4vcmVhZHRpbWVcIjtcbmltcG9ydCB7IE51bWJlckZvcm1hdERlY2ltYWwsIE51bWJlckZvcm1hdERlZmF1bHQgfSBmcm9tIFwiLi9sb2NhbGVfZm9ybWF0XCI7XG5pbXBvcnQgeyBtb21lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW50ZXJmYWNlIENvdW50VHlwZVdpdGhPdmVycmlkZXMgZXh0ZW5kcyBDb3VudFR5cGVDb25maWd1cmF0aW9uIHtcblx0JGNvdW50VHlwZTogJENvdW50VHlwZTtcbn1cblxuZXhwb3J0IGNsYXNzIE5vZGVMYWJlbEhlbHBlciB7XG5cdHByaXZhdGUgZmlsZVNpemVIZWxwZXIgPSBuZXcgRmlsZVNpemVIZWxwZXIoKTtcblx0cHJpdmF0ZSByZWFkVGltZUhlbHBlciA9IG5ldyBSZWFkVGltZUhlbHBlcigpO1xuXG5cdHByaXZhdGUgZ2V0IHNldHRpbmdzKCk6IE5vdmVsV29yZENvdW50U2V0dGluZ3Mge1xuXHRcdHJldHVybiB0aGlzLnBsdWdpbi5zZXR0aW5ncztcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBOb3ZlbFdvcmRDb3VudFBsdWdpbikge31cblxuXHRnZXROb2RlTGFiZWwoY291bnRzOiBDb3VudERhdGEpOiBzdHJpbmcge1xuXHRcdGxldCBjb3VudFR5cGVzOiBDb3VudFR5cGVXaXRoT3ZlcnJpZGVzW107XG5cdFx0bGV0IGFiYnJldmlhdGVEZXNjcmlwdGlvbnM6IGJvb2xlYW47XG5cdFx0bGV0IHNlcGFyYXRvcjogc3RyaW5nO1xuXG5cdFx0Y29uc3Qgbm90ZUNvdW50VHlwZXMgPSBbXG5cdFx0XHR0aGlzLmdldENvdW50VHlwZVdpdGhTdWZmaXgoXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuY291bnRUeXBlLFxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNvdW50Q29uZmlnLFxuXHRcdFx0KSxcblx0XHRcdHRoaXMuZ2V0Q291bnRUeXBlV2l0aFN1ZmZpeChcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jb3VudFR5cGUyLFxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmNvdW50Q29uZmlnMixcblx0XHRcdCksXG5cdFx0XHR0aGlzLmdldENvdW50VHlwZVdpdGhTdWZmaXgoXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuY291bnRUeXBlMyxcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jb3VudENvbmZpZzMsXG5cdFx0XHQpLFxuXHRcdF07XG5cdFx0Y29uc3Qgbm90ZUFiYnJldmlhdGVEZXNjcmlwdGlvbnMgPSB0aGlzLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnM7XG5cdFx0Y29uc3Qgbm90ZVNlcGFyYXRvciA9IHRoaXMuc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nXG5cdFx0XHQ/IHRoaXMuc2V0dGluZ3MucGlwZVNlcGFyYXRvclxuXHRcdFx0OiBcInxcIjtcblxuXHRcdHN3aXRjaCAoY291bnRzLnRhcmdldE5vZGVUeXBlKSB7XG5cdFx0XHRjYXNlIFRhcmdldE5vZGUuUm9vdDpcblx0XHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd1NhbWVDb3VudHNPblJvb3QpIHtcblx0XHRcdFx0XHRjb3VudFR5cGVzID0gbm90ZUNvdW50VHlwZXM7XG5cdFx0XHRcdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9ucyA9IG5vdGVBYmJyZXZpYXRlRGVzY3JpcHRpb25zO1xuXHRcdFx0XHRcdHNlcGFyYXRvciA9IG5vdGVTZXBhcmF0b3I7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb3VudFR5cGVzID0gW1xuXHRcdFx0XHRcdHRoaXMuZ2V0Q291bnRUeXBlV2l0aFN1ZmZpeChcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Mucm9vdENvdW50VHlwZSxcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0dGhpcy5nZXRDb3VudFR5cGVXaXRoU3VmZml4KFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5yb290Q291bnRUeXBlMixcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnMixcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHRoaXMuZ2V0Q291bnRUeXBlV2l0aFN1ZmZpeChcblx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3Mucm9vdENvdW50VHlwZTMsXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLnJvb3RDb3VudENvbmZpZzMsXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XTtcblx0XHRcdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9ucyA9IHRoaXMuc2V0dGluZ3Mucm9vdEFiYnJldmlhdGVEZXNjcmlwdGlvbnM7XG5cdFx0XHRcdHNlcGFyYXRvciA9IHRoaXMuc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nID8gdGhpcy5zZXR0aW5ncy5yb290UGlwZVNlcGFyYXRvciA6IG5vdGVTZXBhcmF0b3I7XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFRhcmdldE5vZGUuRGlyZWN0b3J5OlxuXHRcdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uRm9sZGVycykge1xuXHRcdFx0XHRcdGNvdW50VHlwZXMgPSBub3RlQ291bnRUeXBlcztcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zID0gbm90ZUFiYnJldmlhdGVEZXNjcmlwdGlvbnM7XG5cdFx0XHRcdFx0c2VwYXJhdG9yID0gbm90ZVNlcGFyYXRvcjtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvdW50VHlwZXMgPSBbXG5cdFx0XHRcdFx0dGhpcy5nZXRDb3VudFR5cGVXaXRoU3VmZml4KFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUsXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLFxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0dGhpcy5nZXRDb3VudFR5cGVXaXRoU3VmZml4KFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUyLFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIsXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0XHR0aGlzLmdldENvdW50VHlwZVdpdGhTdWZmaXgoXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZTMsXG5cdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnMyxcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRdO1xuXHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zID0gdGhpcy5zZXR0aW5ncy5mb2xkZXJBYmJyZXZpYXRlRGVzY3JpcHRpb25zO1xuXHRcdFx0XHRzZXBhcmF0b3IgPSB0aGlzLnNldHRpbmdzLnVzZUFkdmFuY2VkRm9ybWF0dGluZyA/IHRoaXMuc2V0dGluZ3MuZm9sZGVyUGlwZVNlcGFyYXRvciA6IG5vdGVTZXBhcmF0b3I7XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb3VudFR5cGVzID0gbm90ZUNvdW50VHlwZXM7XG5cdFx0XHRcdGFiYnJldmlhdGVEZXNjcmlwdGlvbnMgPSBub3RlQWJicmV2aWF0ZURlc2NyaXB0aW9ucztcblx0XHRcdFx0c2VwYXJhdG9yID0gbm90ZVNlcGFyYXRvcjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvdW50VHlwZXNcblx0XHRcdC5maWx0ZXIoKGN0KSA9PiBjdC4kY291bnRUeXBlICE9PSAkQ291bnRUeXBlLk5vbmUpXG5cdFx0XHQubWFwKChjdCkgPT5cblx0XHRcdFx0dGhpcy5nZXREYXRhVHlwZUxhYmVsKFxuXHRcdFx0XHRcdGNvdW50cyxcblx0XHRcdFx0XHRjdCxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zLFxuXHRcdFx0XHQpXG5cdFx0XHQpXG5cdFx0XHQuZmlsdGVyKChkaXNwbGF5KSA9PiBkaXNwbGF5ICE9PSBudWxsKVxuXHRcdFx0LmpvaW4oYCAke3NlcGFyYXRvcn0gYCk7XG5cdH1cblxuXHRwcml2YXRlIGdldENvdW50VHlwZVdpdGhTdWZmaXgoXG5cdFx0JGNvdW50VHlwZTogJENvdW50VHlwZSxcblx0XHRjb3VudENvbmZpZzogQ291bnRUeXBlQ29uZmlndXJhdGlvbixcblx0KTogQ291bnRUeXBlV2l0aE92ZXJyaWRlcyB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdCRjb3VudFR5cGUsXG5cdFx0XHRjdXN0b21TdWZmaXg6IHRoaXMuc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nID8gY291bnRDb25maWcuY3VzdG9tU3VmZml4IDogbnVsbCxcblx0XHRcdGZyb250bWF0dGVyS2V5OiBjb3VudENvbmZpZy5mcm9udG1hdHRlcktleSxcblx0XHRcdCRzZXNzaW9uQ291bnRUeXBlOiBjb3VudENvbmZpZy4kc2Vzc2lvbkNvdW50VHlwZVxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGdldEJhc2ljQ291bnRTdHJpbmcoY29uZmlnOiB7XG5cdFx0Y291bnQ6IHN0cmluZztcblx0XHRub3VuOiBzdHJpbmc7XG5cdFx0YWJicmV2aWF0ZWROb3VuOiBzdHJpbmc7XG5cdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9uczogYm9vbGVhbjtcblx0XHRjdXN0b21TdWZmaXg6IHN0cmluZyB8IG51bGw7XG5cdH0pOiBzdHJpbmcge1xuXHRcdGNvbnN0IGRlZmF1bHRTdWZmaXggPSBjb25maWcuYWJicmV2aWF0ZURlc2NyaXB0aW9uc1xuXHRcdFx0PyBjb25maWcuYWJicmV2aWF0ZWROb3VuXG5cdFx0XHQ6IGAgJHtjb25maWcubm91bn0ke2NvbmZpZy5jb3VudCA9PSBcIjFcIiA/IFwiXCIgOiBcInNcIn1gO1xuXHRcdGNvbnN0IHN1ZmZpeCA9IGNvbmZpZy5jdXN0b21TdWZmaXggPz8gZGVmYXVsdFN1ZmZpeDtcblxuXHRcdHJldHVybiBgJHtjb25maWcuY291bnR9JHtzdWZmaXh9YDtcblx0fVxuXG5cdHByaXZhdGUgcmVhZG9ubHkgdW5jb25kaXRpb25hbENvdW50VHlwZXM6ICRDb3VudFR5cGVbXSA9IFtcblx0XHQkQ291bnRUeXBlLkNyZWF0ZWQsXG5cdFx0JENvdW50VHlwZS5GaWxlU2l6ZSxcblx0XHQkQ291bnRUeXBlLk1vZGlmaWVkLFxuXHRdO1xuXG5cdHByaXZhdGUgZ2V0RGF0YVR5cGVMYWJlbChcblx0XHRjb3VudHM6IENvdW50RGF0YSxcblx0XHRjb25maWc6IENvdW50VHlwZVdpdGhPdmVycmlkZXMsXG5cdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9uczogYm9vbGVhbixcblx0KTogc3RyaW5nIHwgbnVsbCB7XG5cdFx0aWYgKCFjb3VudHMgfHwgdHlwZW9mIGNvdW50cy53b3JkQ291bnQgIT09IFwibnVtYmVyXCIpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChcblx0XHRcdCFjb3VudHMuaXNDb3VudGFibGUgJiZcblx0XHRcdCF0aGlzLnVuY29uZGl0aW9uYWxDb3VudFR5cGVzLmluY2x1ZGVzKGNvbmZpZy4kY291bnRUeXBlKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChjb25maWcuJGNvdW50VHlwZSkge1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLk5vbmU6XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLldvcmQ6XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldEJhc2ljQ291bnRTdHJpbmcoe1xuXHRcdFx0XHRcdGNvdW50OiBOdW1iZXJGb3JtYXREZWZhdWx0LmZvcm1hdChNYXRoLmNlaWwoY291bnRzLndvcmRDb3VudCkpLFxuXHRcdFx0XHRcdG5vdW46IFwid29yZFwiLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVkTm91bjogQ09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTWyRDb3VudFR5cGUuV29yZF0sXG5cdFx0XHRcdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9ucyxcblx0XHRcdFx0XHRjdXN0b21TdWZmaXg6IGNvbmZpZy5jdXN0b21TdWZmaXgsXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLlBhZ2U6XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldEJhc2ljQ291bnRTdHJpbmcoe1xuXHRcdFx0XHRcdGNvdW50OiBOdW1iZXJGb3JtYXREZWZhdWx0LmZvcm1hdChNYXRoLmNlaWwoY291bnRzLnBhZ2VDb3VudCkpLFxuXHRcdFx0XHRcdG5vdW46IFwicGFnZVwiLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVkTm91bjogQ09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTWyRDb3VudFR5cGUuUGFnZV0sXG5cdFx0XHRcdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9ucyxcblx0XHRcdFx0XHRjdXN0b21TdWZmaXg6IGNvbmZpZy5jdXN0b21TdWZmaXgsXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLlBhZ2VEZWNpbWFsOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRCYXNpY0NvdW50U3RyaW5nKHtcblx0XHRcdFx0XHRjb3VudDogTnVtYmVyRm9ybWF0RGVjaW1hbC5mb3JtYXQoY291bnRzLnBhZ2VDb3VudCksXG5cdFx0XHRcdFx0bm91bjogXCJwYWdlXCIsXG5cdFx0XHRcdFx0YWJicmV2aWF0ZWROb3VuOiBDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVNbJENvdW50VHlwZS5QYWdlRGVjaW1hbF0sXG5cdFx0XHRcdFx0YWJicmV2aWF0ZURlc2NyaXB0aW9ucyxcblx0XHRcdFx0XHRjdXN0b21TdWZmaXg6IGNvbmZpZy5jdXN0b21TdWZmaXgsXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLkxpbmVicmVhazpcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0QmFzaWNDb3VudFN0cmluZyh7XG5cdFx0XHRcdFx0Y291bnQ6IE51bWJlckZvcm1hdERlZmF1bHQuZm9ybWF0KGNvdW50cy5uZXdsaW5lQ291bnQpLFxuXHRcdFx0XHRcdG5vdW46IFwibGluZVwiLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVkTm91bjogQ09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTWyRDb3VudFR5cGUuTGluZWJyZWFrXSxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zLFxuXHRcdFx0XHRcdGN1c3RvbVN1ZmZpeDogY29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0fSk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuUGVyY2VudEdvYWw6IHtcblx0XHRcdFx0aWYgKGNvdW50cy53b3JkR29hbCA8PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBmcmFjdGlvbiA9IGNvdW50cy53b3JkQ291bnRUb3dhcmRHb2FsIC8gY291bnRzLndvcmRHb2FsO1xuXHRcdFx0XHRjb25zdCBwZXJjZW50ID0gTnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoTWF0aC5yb3VuZChmcmFjdGlvbiAqIDEwMCkpO1xuXHRcdFx0XHRjb25zdCBkZWZhdWx0U3VmZml4ID0gYWJicmV2aWF0ZURlc2NyaXB0aW9uc1xuXHRcdFx0XHRcdD8gXCIlXCJcblx0XHRcdFx0XHQ6IGAlIG9mICR7TnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoY291bnRzLndvcmRHb2FsKX1gO1xuXHRcdFx0XHRjb25zdCBzdWZmaXggPSBjb25maWcuY3VzdG9tU3VmZml4ID8/IGRlZmF1bHRTdWZmaXg7XG5cblx0XHRcdFx0cmV0dXJuIGAke3BlcmNlbnR9JHtzdWZmaXh9YDtcblx0XHRcdH1cblx0XHRcdGNhc2UgJENvdW50VHlwZS5Ob3RlOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRCYXNpY0NvdW50U3RyaW5nKHtcblx0XHRcdFx0XHRjb3VudDogTnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoY291bnRzLm5vdGVDb3VudCksXG5cdFx0XHRcdFx0bm91bjogXCJub3RlXCIsXG5cdFx0XHRcdFx0YWJicmV2aWF0ZWROb3VuOiBDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVNbJENvdW50VHlwZS5Ob3RlXSxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zLFxuXHRcdFx0XHRcdGN1c3RvbVN1ZmZpeDogY29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0fSk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuQ2hhcmFjdGVyOiB7XG5cdFx0XHRcdGNvbnN0IGNoYXJhY3RlckNvdW50ID1cblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmNoYXJhY3RlckNvdW50VHlwZSA9PT1cblx0XHRcdFx0XHRDaGFyYWN0ZXJDb3VudFR5cGUuRXhjbHVkZVdoaXRlc3BhY2Vcblx0XHRcdFx0XHRcdD8gY291bnRzLm5vbldoaXRlc3BhY2VDaGFyYWN0ZXJDb3VudFxuXHRcdFx0XHRcdFx0OiBjb3VudHMuY2hhcmFjdGVyQ291bnQ7XG5cblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0QmFzaWNDb3VudFN0cmluZyh7XG5cdFx0XHRcdFx0Y291bnQ6IE51bWJlckZvcm1hdERlZmF1bHQuZm9ybWF0KGNoYXJhY3RlckNvdW50KSxcblx0XHRcdFx0XHRub3VuOiBcImNoYXJhY3RlclwiLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVkTm91bjogQ09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTWyRDb3VudFR5cGUuQ2hhcmFjdGVyXSxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zLFxuXHRcdFx0XHRcdGN1c3RvbVN1ZmZpeDogY29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuUmVhZFRpbWU6XG5cdFx0XHRcdHJldHVybiB0aGlzLnJlYWRUaW1lSGVscGVyLmZvcm1hdFJlYWRUaW1lKFxuXHRcdFx0XHRcdGNvdW50cy5yZWFkaW5nVGltZUluTWludXRlcyxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zXG5cdFx0XHRcdCk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuTGluazpcblx0XHRcdFx0aWYgKGNvdW50cy5saW5rQ291bnQgPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldEJhc2ljQ291bnRTdHJpbmcoe1xuXHRcdFx0XHRcdGNvdW50OiBOdW1iZXJGb3JtYXREZWZhdWx0LmZvcm1hdChjb3VudHMubGlua0NvdW50KSxcblx0XHRcdFx0XHRub3VuOiBcImxpbmtcIixcblx0XHRcdFx0XHRhYmJyZXZpYXRlZE5vdW46IENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFU1skQ291bnRUeXBlLkxpbmtdLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVEZXNjcmlwdGlvbnMsXG5cdFx0XHRcdFx0Y3VzdG9tU3VmZml4OiBjb25maWcuY3VzdG9tU3VmZml4LFxuXHRcdFx0XHR9KTtcblx0XHRcdGNhc2UgJENvdW50VHlwZS5FbWJlZDpcblx0XHRcdFx0aWYgKGNvdW50cy5lbWJlZENvdW50ID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRCYXNpY0NvdW50U3RyaW5nKHtcblx0XHRcdFx0XHRjb3VudDogTnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoY291bnRzLmVtYmVkQ291bnQpLFxuXHRcdFx0XHRcdG5vdW46IFwiZW1iZWRcIixcblx0XHRcdFx0XHRhYmJyZXZpYXRlZE5vdW46IENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFU1skQ291bnRUeXBlLkVtYmVkXSxcblx0XHRcdFx0XHRhYmJyZXZpYXRlRGVzY3JpcHRpb25zLFxuXHRcdFx0XHRcdGN1c3RvbVN1ZmZpeDogY29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0fSk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuQWxpYXM6XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhY291bnRzLmFsaWFzZXMgfHxcblx0XHRcdFx0XHQhQXJyYXkuaXNBcnJheShjb3VudHMuYWxpYXNlcykgfHxcblx0XHRcdFx0XHQhY291bnRzLmFsaWFzZXMubGVuZ3RoXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFiYnJldmlhdGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0XHQ/IGAke2NvdW50cy5hbGlhc2VzWzBdfWBcblx0XHRcdFx0XHQ6IGBhbGlhczogJHtjb3VudHMuYWxpYXNlc1swXX0ke1xuXHRcdFx0XHRcdFx0XHRjb3VudHMuYWxpYXNlcy5sZW5ndGggPiAxID8gYCArJHtjb3VudHMuYWxpYXNlcy5sZW5ndGggLSAxfWAgOiBcIlwiXG5cdFx0XHRcdFx0fWA7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuQ3JlYXRlZDoge1xuXHRcdFx0XHRpZiAoY291bnRzLmNyZWF0ZWREYXRlID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjRGF0ZSA9IG1vbWVudChjb3VudHMuY3JlYXRlZERhdGUpLmZvcm1hdCh0aGlzLnNldHRpbmdzLm1vbWVudERhdGVGb3JtYXQgfHwgXCJZWVlZL01NL0REXCIpO1xuXHRcdFx0XHRpZiAoY29uZmlnLmN1c3RvbVN1ZmZpeCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBgJHtjRGF0ZX0ke2NvbmZpZy5jdXN0b21TdWZmaXh9YDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBhYmJyZXZpYXRlRGVzY3JpcHRpb25zID8gYCR7Y0RhdGV9L2NgIDogYENyZWF0ZWQgJHtjRGF0ZX1gO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLk1vZGlmaWVkOiB7XG5cdFx0XHRcdGlmIChjb3VudHMubW9kaWZpZWREYXRlID09PSAwKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCB1RGF0ZSA9IG1vbWVudChjb3VudHMubW9kaWZpZWREYXRlKS5mb3JtYXQodGhpcy5zZXR0aW5ncy5tb21lbnREYXRlRm9ybWF0IHx8IFwiWVlZWS9NTS9ERFwiKTtcblx0XHRcdFx0aWYgKGNvbmZpZy5jdXN0b21TdWZmaXggIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gYCR7dURhdGV9JHtjb25maWcuY3VzdG9tU3VmZml4fWA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYWJicmV2aWF0ZURlc2NyaXB0aW9ucyA/IGAke3VEYXRlfS91YCA6IGBVcGRhdGVkICR7dURhdGV9YDtcblx0XHRcdH1cblx0XHRcdGNhc2UgJENvdW50VHlwZS5GaWxlU2l6ZTpcblx0XHRcdFx0cmV0dXJuIHRoaXMuZmlsZVNpemVIZWxwZXIuZm9ybWF0RmlsZVNpemUoXG5cdFx0XHRcdFx0Y291bnRzLnNpemVJbkJ5dGVzLFxuXHRcdFx0XHRcdGFiYnJldmlhdGVEZXNjcmlwdGlvbnNcblx0XHRcdFx0KTtcblx0XHRcdGNhc2UgJENvdW50VHlwZS5Gcm9udG1hdHRlcktleToge1xuXHRcdFx0XHRpZiAoIWNvbmZpZy5mcm9udG1hdHRlcktleSkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBjb3VudHM/LmZyb250bWF0dGVyPy5bY29uZmlnLmZyb250bWF0dGVyS2V5XTtcblx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjb25maWcuY3VzdG9tU3VmZml4ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGAke3ZhbHVlfSR7Y29uZmlnLmN1c3RvbVN1ZmZpeH1gO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLlRyYWNrU2Vzc2lvbjoge1xuXHRcdFx0XHRpZiAoIWNvbmZpZy4kc2Vzc2lvbkNvdW50VHlwZSkge1xuXHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgcXVhbnRpdHkgPSB0aGlzLmdldFNlc3Npb25RdWFudGl0eShjb3VudHMsIGNvbmZpZy4kc2Vzc2lvbkNvdW50VHlwZSk7XG5cblx0XHRcdFx0aWYgKGNvbmZpZy5jdXN0b21TdWZmaXggIT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gYCR7cXVhbnRpdHl9JHtjb25maWcuY3VzdG9tU3VmZml4fWA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYWJicmV2aWF0ZURlc2NyaXB0aW9ucyA/IGAke3F1YW50aXR5fS9zYCA6IGBTZXNzaW9uOiAke3F1YW50aXR5fWA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwcml2YXRlIGdldFNlc3Npb25RdWFudGl0eShjb3VudHM6IENvdW50RGF0YSwgJGNvdW50VHlwZTogJFNlc3Npb25Db3VudFR5cGUpOiBzdHJpbmcge1xuXHRcdHN3aXRjaCAoJGNvdW50VHlwZSkge1xuXHRcdFx0Y2FzZSAkQ291bnRUeXBlLldvcmQ6XG5cdFx0XHRcdHJldHVybiBOdW1iZXJGb3JtYXREZWZhdWx0LmZvcm1hdChNYXRoLmNlaWwoY291bnRzLndvcmRDb3VudCAtIGNvdW50cy5zZXNzaW9uU3RhcnQud29yZENvdW50KSk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuUGFnZTpcblx0XHRcdFx0cmV0dXJuIE51bWJlckZvcm1hdERlZmF1bHQuZm9ybWF0KE1hdGguY2VpbChjb3VudHMucGFnZUNvdW50IC0gY291bnRzLnNlc3Npb25TdGFydC5wYWdlQ291bnQpKTtcblx0XHRcdGNhc2UgJENvdW50VHlwZS5QYWdlRGVjaW1hbDpcblx0XHRcdFx0cmV0dXJuIE51bWJlckZvcm1hdERlY2ltYWwuZm9ybWF0KGNvdW50cy5wYWdlQ291bnQgLSBjb3VudHMuc2Vzc2lvblN0YXJ0LnBhZ2VDb3VudCk7XG5cdFx0XHRjYXNlICRDb3VudFR5cGUuTGluZWJyZWFrOlxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoY291bnRzLm5ld2xpbmVDb3VudCAtIGNvdW50cy5zZXNzaW9uU3RhcnQubmV3bGluZUNvdW50KTtcblx0XHRcdGNhc2UgJENvdW50VHlwZS5Ob3RlOlxuXHRcdFx0XHRyZXR1cm4gTnVtYmVyRm9ybWF0RGVmYXVsdC5mb3JtYXQoY291bnRzLm5vdGVDb3VudCAtIGNvdW50cy5zZXNzaW9uU3RhcnQubm90ZUNvdW50KTtcblx0XHRcdGNhc2UgJENvdW50VHlwZS5DaGFyYWN0ZXI6IHtcblx0XHRcdFx0Y29uc3QgY2hhcmFjdGVyQ291bnQgPVxuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuY2hhcmFjdGVyQ291bnRUeXBlID09PVxuXHRcdFx0XHRcdENoYXJhY3RlckNvdW50VHlwZS5FeGNsdWRlV2hpdGVzcGFjZVxuXHRcdFx0XHRcdFx0PyBjb3VudHMubm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50XG5cdFx0XHRcdFx0XHQ6IGNvdW50cy5jaGFyYWN0ZXJDb3VudDtcblx0XHRcdFx0Y29uc3Qgc3RhcnRpbmdDaGFyYWN0ZXJDb3VudCA9XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5jaGFyYWN0ZXJDb3VudFR5cGUgPT09XG5cdFx0XHRcdFx0Q2hhcmFjdGVyQ291bnRUeXBlLkV4Y2x1ZGVXaGl0ZXNwYWNlXG5cdFx0XHRcdFx0XHQ/IGNvdW50cy5zZXNzaW9uU3RhcnQubm9uV2hpdGVzcGFjZUNoYXJhY3RlckNvdW50XG5cdFx0XHRcdFx0XHQ6IGNvdW50cy5zZXNzaW9uU3RhcnQuY2hhcmFjdGVyQ291bnQ7XG5cblx0XHRcdFx0cmV0dXJuIE51bWJlckZvcm1hdERlZmF1bHQuZm9ybWF0KGNoYXJhY3RlckNvdW50IC0gc3RhcnRpbmdDaGFyYWN0ZXJDb3VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgTm92ZWxXb3JkQ291bnRQbHVnaW4gZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7IENvdW50c0J5RmlsZSB9IGZyb20gXCIuL2ZpbGVcIjtcbmltcG9ydCB7XG5cdCRDb3VudFR5cGUsXG5cdENPVU5UX1RZUEVTLFxuXHRERUZBVUxUX1NFVFRJTkdTLFxuXHROb3ZlbFdvcmRDb3VudFNldHRpbmdzLFxufSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vdmVsV29yZENvdW50U2F2ZWREYXRhIHtcblx0Y2FjaGVkQ291bnRzOiBDb3VudHNCeUZpbGU7XG5cdHNldHRpbmdzOiBOb3ZlbFdvcmRDb3VudFNldHRpbmdzO1xufVxuXG5leHBvcnQgY2xhc3MgU2F2ZWREYXRhSGVscGVyIHtcblx0Y29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IE5vdmVsV29yZENvdW50UGx1Z2luKSB7fVxuXG5cdGFzeW5jIGdldFNhdmVkRGF0YSgpOiBQcm9taXNlPE5vdmVsV29yZENvdW50U2F2ZWREYXRhPiB7XG5cdFx0Y29uc3QgbG9hZGVkOiBOb3ZlbFdvcmRDb3VudFNhdmVkRGF0YSA9IGF3YWl0IHRoaXMucGx1Z2luLmxvYWREYXRhKCk7XG5cblx0XHRjb25zdCBkZW51bGxlZCA9IE9iamVjdC5hc3NpZ24oe30sIGxvYWRlZCk7XG5cdFx0ZGVudWxsZWQuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBkZW51bGxlZC5zZXR0aW5ncyk7XG5cblx0XHRjb25zdCBtaWdyYXRlZCA9IG1pZ3JhdGVTYXZlZERhdGEoZGVudWxsZWQpO1xuXG5cdFx0cmV0dXJuIG1pZ3JhdGVkO1xuXHR9XG59XG5cbi8vIFNBVkVEIERBVEEgTUlHUkFUSU9OU1xuXG5leHBvcnQgZnVuY3Rpb24gbWlncmF0ZVNhdmVkRGF0YShcblx0c2F2ZWQ6IE5vdmVsV29yZENvdW50U2F2ZWREYXRhXG4pOiBOb3ZlbFdvcmRDb3VudFNhdmVkRGF0YSB7XG5cdGNvbnN0IG1pZ3JhdGlvbnM6IE1pZ3JhdGlvbkZ1bmN0aW9uW10gPSBbXG5cdFx0b3ZlcndyaXRlSW52YWxpZENvdW50VHlwZXMsXG5cdFx0bWlncmF0ZVRvQ291bnRDb25maWd1cmF0aW9uT2JqZWN0LFxuXHRdO1xuXG5cdGZvciAoY29uc3QgbWlncmF0ZSBvZiBtaWdyYXRpb25zKSB7XG5cdFx0c2F2ZWQgPSBtaWdyYXRlKHNhdmVkKTtcblx0fVxuXG5cdHJldHVybiBzYXZlZDtcbn1cblxudHlwZSBNaWdyYXRpb25GdW5jdGlvbiA9IChcblx0c2F2ZWQ6IE5vdmVsV29yZENvdW50U2F2ZWREYXRhXG4pID0+IE5vdmVsV29yZENvdW50U2F2ZWREYXRhO1xuXG50eXBlIEtleXNPZlR5cGU8VCwgVFByb3A+ID0ge1xuXHRbUCBpbiBrZXlvZiBUXTogVFtQXSBleHRlbmRzIFRQcm9wID8gUCA6IG5ldmVyO1xufVtrZXlvZiBUXTtcblxuY29uc3Qgb3ZlcndyaXRlSW52YWxpZENvdW50VHlwZXM6IE1pZ3JhdGlvbkZ1bmN0aW9uID0gKHNhdmVkKSA9PiB7XG5cdGlmICghc2F2ZWQ/LnNldHRpbmdzPy5jb3VudFR5cGUpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBmaWVsZHNUb0NoZWNrOiBLZXlzT2ZUeXBlPE5vdmVsV29yZENvdW50U2V0dGluZ3MsICRDb3VudFR5cGU+W10gPSBbXG5cdFx0XCJjb3VudFR5cGVcIixcblx0XHRcImNvdW50VHlwZTJcIixcblx0XHRcImNvdW50VHlwZTNcIixcblx0XHRcImZvbGRlckNvdW50VHlwZVwiLFxuXHRcdFwiZm9sZGVyQ291bnRUeXBlMlwiLFxuXHRcdFwiZm9sZGVyQ291bnRUeXBlM1wiLFxuXHRcdFwicm9vdENvdW50VHlwZVwiLFxuXHRcdFwicm9vdENvdW50VHlwZTJcIixcblx0XHRcInJvb3RDb3VudFR5cGUzXCIsXG5cdF07XG5cblx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHNUb0NoZWNrKSB7XG5cdFx0aWYgKCFDT1VOVF9UWVBFUy5pbmNsdWRlcyhzYXZlZC5zZXR0aW5nc1tmaWVsZF0pKSB7XG5cdFx0XHRzYXZlZC5zZXR0aW5nc1tmaWVsZF0gPVxuXHRcdFx0XHRmaWVsZCA9PT0gXCJjb3VudFR5cGVcIiA/ICRDb3VudFR5cGUuV29yZCA6ICRDb3VudFR5cGUuTm9uZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc2F2ZWQ7XG59O1xuXG5jb25zdCBtaWdyYXRlVG9Db3VudENvbmZpZ3VyYXRpb25PYmplY3Q6IE1pZ3JhdGlvbkZ1bmN0aW9uID0gKHNhdmVkKSA9PiB7XG5cdGNvbnN0IHNldHRpbmdzID0gc2F2ZWQuc2V0dGluZ3M7XG5cdGNvbnN0IG9sZFNldHRpbmdzID0gc2F2ZWQuc2V0dGluZ3MgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuXHQvLyBOT1RFU1xuXG5cdHNldHRpbmdzLmNvdW50Q29uZmlnID8/PSB7fTtcblx0aWYgKHR5cGVvZiBvbGRTZXR0aW5ncy5jb3VudFR5cGVTdWZmaXggPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5jb3VudENvbmZpZy5jdXN0b21TdWZmaXggPSBvbGRTZXR0aW5ncy5jb3VudFR5cGVTdWZmaXg7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLmNvdW50VHlwZVN1ZmZpeDtcblx0fVxuXG5cdGlmICh0eXBlb2Ygb2xkU2V0dGluZ3MuZnJvbnRtYXR0ZXJLZXkgPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5jb3VudENvbmZpZy5mcm9udG1hdHRlcktleSA9IG9sZFNldHRpbmdzLmZyb250bWF0dGVyS2V5O1xuXHRcdGRlbGV0ZSBvbGRTZXR0aW5ncy5mcm9udG1hdHRlcktleTtcblx0fVxuXG5cdHNldHRpbmdzLmNvdW50Q29uZmlnMiA/Pz0ge307XG5cdGlmICh0eXBlb2Ygb2xkU2V0dGluZ3MuY291bnRUeXBlMlN1ZmZpeCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHNldHRpbmdzLmNvdW50Q29uZmlnMi5jdXN0b21TdWZmaXggPSBvbGRTZXR0aW5ncy5jb3VudFR5cGUyU3VmZml4O1xuXHRcdGRlbGV0ZSBvbGRTZXR0aW5ncy5jb3VudFR5cGUyU3VmZml4O1xuXHR9XG5cblx0aWYgKHR5cGVvZiBvbGRTZXR0aW5ncy5mcm9udG1hdHRlcktleTIgPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5jb3VudENvbmZpZzIuZnJvbnRtYXR0ZXJLZXkgPSBvbGRTZXR0aW5ncy5mcm9udG1hdHRlcktleTI7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLmZyb250bWF0dGVyS2V5Mjtcblx0fVxuXG5cdHNldHRpbmdzLmNvdW50Q29uZmlnMyA/Pz0ge307XG5cdGlmICh0eXBlb2Ygb2xkU2V0dGluZ3MuY291bnRUeXBlM1N1ZmZpeCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHNldHRpbmdzLmNvdW50Q29uZmlnMy5jdXN0b21TdWZmaXggPSBvbGRTZXR0aW5ncy5jb3VudFR5cGUzU3VmZml4O1xuXHRcdGRlbGV0ZSBvbGRTZXR0aW5ncy5jb3VudFR5cGUzU3VmZml4O1xuXHR9XG5cblx0aWYgKHR5cGVvZiBvbGRTZXR0aW5ncy5mcm9udG1hdHRlcktleTMgPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5jb3VudENvbmZpZzMuZnJvbnRtYXR0ZXJLZXkgPSBvbGRTZXR0aW5ncy5mcm9udG1hdHRlcktleTM7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLmZyb250bWF0dGVyS2V5Mztcblx0fVxuXG5cdC8vIEZPTERFUlNcblxuXHRzZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZyA/Pz0ge307XG5cdGlmICh0eXBlb2Ygb2xkU2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlU3VmZml4ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0c2V0dGluZ3MuZm9sZGVyQ291bnRDb25maWcuY3VzdG9tU3VmZml4ID0gb2xkU2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlU3VmZml4O1xuXHRcdGRlbGV0ZSBvbGRTZXR0aW5ncy5mb2xkZXJDb3VudFR5cGVTdWZmaXg7XG5cdH1cblxuXHRzZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIgPz89IHt9O1xuXHRpZiAodHlwZW9mIG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTJTdWZmaXggPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIuY3VzdG9tU3VmZml4ID1cblx0XHRcdG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTJTdWZmaXg7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTJTdWZmaXg7XG5cdH1cblxuXHRzZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzMgPz89IHt9O1xuXHRpZiAodHlwZW9mIG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTNTdWZmaXggPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzMuY3VzdG9tU3VmZml4ID1cblx0XHRcdG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTNTdWZmaXg7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLmZvbGRlckNvdW50VHlwZTNTdWZmaXg7XG5cdH1cblxuXHQvLyBST09UXG5cblx0c2V0dGluZ3Mucm9vdENvdW50Q29uZmlnID8/PSB7fTtcblx0aWYgKHR5cGVvZiBvbGRTZXR0aW5ncy5yb290Q291bnRUeXBlU3VmZml4ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0c2V0dGluZ3Mucm9vdENvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCA9IG9sZFNldHRpbmdzLnJvb3RDb3VudFR5cGVTdWZmaXg7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLnJvb3RDb3VudFR5cGVTdWZmaXg7XG5cdH1cblxuXHRzZXR0aW5ncy5yb290Q291bnRDb25maWcyID8/PSB7fTtcblx0aWYgKHR5cGVvZiBvbGRTZXR0aW5ncy5yb290Q291bnRUeXBlMlN1ZmZpeCA9PT0gXCJzdHJpbmdcIikge1xuXHRcdHNldHRpbmdzLnJvb3RDb3VudENvbmZpZzIuY3VzdG9tU3VmZml4ID0gb2xkU2V0dGluZ3Mucm9vdENvdW50VHlwZTJTdWZmaXg7XG5cdFx0ZGVsZXRlIG9sZFNldHRpbmdzLnJvb3RDb3VudFR5cGUyU3VmZml4O1xuXHR9XG5cblx0c2V0dGluZ3Mucm9vdENvdW50Q29uZmlnMyA/Pz0ge307XG5cdGlmICh0eXBlb2Ygb2xkU2V0dGluZ3Mucm9vdENvdW50VHlwZTNTdWZmaXggPT09IFwic3RyaW5nXCIpIHtcblx0XHRzZXR0aW5ncy5yb290Q291bnRDb25maWczLmN1c3RvbVN1ZmZpeCA9IG9sZFNldHRpbmdzLnJvb3RDb3VudFR5cGUzU3VmZml4O1xuXHRcdGRlbGV0ZSBvbGRTZXR0aW5ncy5yb290Q291bnRUeXBlM1N1ZmZpeDtcblx0fVxuXG5cdHJldHVybiBzYXZlZDtcbn07XG4iLCAiaW1wb3J0IHR5cGUgTm92ZWxXb3JkQ291bnRQbHVnaW4gZnJvbSBcIm1haW5cIjtcbmltcG9ydCB7XG5cdEFwcCxcblx0UGx1Z2luU2V0dGluZ1RhYixcblx0U2V0dGluZyxcblx0VGV4dENvbXBvbmVudCxcblx0ZGVib3VuY2UsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtcblx0JENvdW50VHlwZSxcblx0JFNlc3Npb25Db3VudFR5cGUsXG5cdEFsaWdubWVudFR5cGUsXG5cdENoYXJhY3RlckNvdW50VHlwZSxcblx0Q09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTLFxuXHRDT1VOVF9UWVBFX0RJU1BMQVlfU1RSSU5HUyxcblx0Q09VTlRfVFlQRVMsXG5cdGdldERlc2NyaXB0aW9uLFxuXHRQYWdlQ291bnRUeXBlLFxuXHRTRVNTSU9OX0NPVU5UX1RZUEVTLFxuXHRVTkZPUk1BVFRBQkxFX0NPVU5UX1RZUEVTLFxufSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgTm92ZWxXb3JkQ291bnRTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogTm92ZWxXb3JkQ291bnRQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogTm92ZWxXb3JkQ291bnRQbHVnaW4pIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0dGhpcy5yZW5kZXJOb3RlU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMucmVuZGVyRm9sZGVyU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMucmVuZGVyUm9vdFNldHRpbmdzKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLnJlbmRlckFkdmFuY2VkU2V0dGluZ3MoY29udGFpbmVyRWwpO1xuXHRcdHRoaXMucmVuZGVyUmVhbmFseXplQnV0dG9uKGNvbnRhaW5lckVsKTtcblx0XHR0aGlzLnJlbmRlckRvbmF0aW9uQnV0dG9uKGNvbnRhaW5lckVsKTtcblx0fVxuXG5cdC8vXG5cdC8vIE5PVEVTXG5cdC8vXG5cblx0cHJpdmF0ZSByZW5kZXJOb3RlU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29uc3QgbWFpbkhlYWRlciA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdGNsczogW1xuXHRcdFx0XHRcInNldHRpbmctaXRlbVwiLFxuXHRcdFx0XHRcInNldHRpbmctaXRlbS1oZWFkaW5nXCIsXG5cdFx0XHRcdFwibm92ZWwtd29yZC1jb3VudC1zZXR0aW5ncy1oZWFkZXJcIixcblx0XHRcdF0sXG5cdFx0fSk7XG5cdFx0bWFpbkhlYWRlci5jcmVhdGVFbChcImRpdlwiLCB7IHRleHQ6IFwiTm90ZXNcIiB9KTtcblx0XHRtYWluSGVhZGVyLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdHRleHQ6IFwiWW91IGNhbiBkaXNwbGF5IHVwIHRvIHRocmVlIGRhdGEgdHlwZXMgc2lkZSBieSBzaWRlLlwiLFxuXHRcdFx0Y2xzOiBcInNldHRpbmctaXRlbS1kZXNjcmlwdGlvblwiLFxuXHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0RGVzYyhcIlVzZSBhZHZhbmNlZCBmb3JtYXR0aW5nXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VBZHZhbmNlZEZvcm1hdHRpbmcpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHQvLyBOT1RFIC0gREFUQSBUWVBFIDFcblxuXHRcdHRoaXMucmVuZGVyQ291bnRUeXBlU2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0bmFtZTogXCIxc3QgZGF0YSB0eXBlIHRvIHNob3dcIixcblx0XHRcdG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlLFxuXHRcdFx0c2V0TmV3Q291bnRUeXBlOiAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlID0gdmFsdWU7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCA9XG5cdFx0XHRcdFx0Q09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTW3RoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZV07XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG4gICAgdGhpcy5yZW5kZXJTZXNzaW9uQ291bnRUeXBlU2V0dGluZyhjb250YWluZXJFbCwge1xuICAgICAgcGFyZW50Q291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUsXG4gICAgICBvbGRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnLiRzZXNzaW9uQ291bnRUeXBlLFxuICAgICAgc2V0TmV3Q291bnRUeXBlOiAodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWcuJHNlc3Npb25Db3VudFR5cGUgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgfSk7XG5cblx0XHR0aGlzLnJlbmRlckZyb250bWF0dGVyS2V5U2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0Y291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUsXG5cdFx0XHRvbGRLZXk6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnLmZyb250bWF0dGVyS2V5LFxuXHRcdFx0c2V0TmV3S2V5OiAodmFsdWUpID0+XG5cdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudENvbmZpZy5mcm9udG1hdHRlcktleSA9IHZhbHVlKSxcblx0XHR9KTtcblxuXHRcdHRoaXMucmVuZGVyQ3VzdG9tRm9ybWF0U2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0Y291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUsXG5cdFx0XHRvbGRTdWZmaXg6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdHNldE5ld1N1ZmZpeDogKHZhbHVlKSA9PlxuXHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWcuY3VzdG9tU3VmZml4ID0gdmFsdWUpLFxuXHRcdH0pO1xuXG5cdFx0Ly8gTk9URSAtIERBVEEgVFlQRSAyXG5cblx0XHR0aGlzLnJlbmRlckNvdW50VHlwZVNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdG5hbWU6IFwiMm5kIGRhdGEgdHlwZSB0byBzaG93XCIsXG5cdFx0XHRvbGRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTIsXG5cdFx0XHRzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUyID0gdmFsdWU7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi5jdXN0b21TdWZmaXggPVxuXHRcdFx0XHRcdENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFU1t0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudFR5cGUyXTtcblx0XHRcdH0sXG5cdFx0fSk7XG5cbiAgICB0aGlzLnJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG4gICAgICBwYXJlbnRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTIsXG4gICAgICBvbGRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi4kc2Vzc2lvbkNvdW50VHlwZSxcbiAgICAgIHNldE5ld0NvdW50VHlwZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi4kc2Vzc2lvbkNvdW50VHlwZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICB9KTtcblxuXHRcdHRoaXMucmVuZGVyRnJvbnRtYXR0ZXJLZXlTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRjb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTIsXG5cdFx0XHRvbGRLZXk6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi5mcm9udG1hdHRlcktleSxcblx0XHRcdHNldE5ld0tleTogKHZhbHVlKSA9PlxuXHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWcyLmZyb250bWF0dGVyS2V5ID0gdmFsdWUpLFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZW5kZXJDdXN0b21Gb3JtYXRTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRjb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTIsXG5cdFx0XHRvbGRTdWZmaXg6IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi5jdXN0b21TdWZmaXgsXG5cdFx0XHRzZXROZXdTdWZmaXg6ICh2YWx1ZSkgPT5cblx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50Q29uZmlnMi5jdXN0b21TdWZmaXggPSB2YWx1ZSksXG5cdFx0fSk7XG5cblx0XHQvLyBOT1RFIC0gREFUQSBUWVBFIDNcblxuXHRcdHRoaXMucmVuZGVyQ291bnRUeXBlU2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0bmFtZTogXCIzcmQgZGF0YSB0eXBlIHRvIHNob3dcIixcblx0XHRcdG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlMyxcblx0XHRcdHNldE5ld0NvdW50VHlwZTogKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTMgPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLmN1c3RvbVN1ZmZpeCA9XG5cdFx0XHRcdFx0Q09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTW3RoaXMucGx1Z2luLnNldHRpbmdzLmNvdW50VHlwZTNdO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuICAgIHRoaXMucmVuZGVyU2Vzc2lvbkNvdW50VHlwZVNldHRpbmcoY29udGFpbmVyRWwsIHtcbiAgICAgIHBhcmVudENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlMyxcbiAgICAgIG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLiRzZXNzaW9uQ291bnRUeXBlLFxuICAgICAgc2V0TmV3Q291bnRUeXBlOiAodmFsdWUpID0+IHtcbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLiRzZXNzaW9uQ291bnRUeXBlID0gdmFsdWU7XG4gICAgICB9LFxuICAgIH0pO1xuXG5cdFx0dGhpcy5yZW5kZXJGcm9udG1hdHRlcktleVNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlMyxcblx0XHRcdG9sZEtleTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLmZyb250bWF0dGVyS2V5LFxuXHRcdFx0c2V0TmV3S2V5OiAodmFsdWUpID0+XG5cdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb3VudENvbmZpZzMuZnJvbnRtYXR0ZXJLZXkgPSB2YWx1ZSksXG5cdFx0fSk7XG5cblx0XHR0aGlzLnJlbmRlckN1c3RvbUZvcm1hdFNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRUeXBlMyxcblx0XHRcdG9sZFN1ZmZpeDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLmN1c3RvbVN1ZmZpeCxcblx0XHRcdHNldE5ld1N1ZmZpeDogKHZhbHVlKSA9PlxuXHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MuY291bnRDb25maWczLmN1c3RvbVN1ZmZpeCA9IHZhbHVlKSxcblx0XHR9KTtcblxuXHRcdC8vIE5PVEUgLSBTRVBBUkFUT1Jcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nKSB7XG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0TmFtZShcIkRhdGEgdHlwZSBzZXBhcmF0b3JcIikuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5waXBlU2VwYXJhdG9yKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnBpcGVTZXBhcmF0b3IgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gTk9URSAtIEFCQlJFVklBVEUgREVTQ1JJUFRJT05TXG5cblx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLnVzZUFkdmFuY2VkRm9ybWF0dGluZykge1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiQWJicmV2aWF0ZSBkZXNjcmlwdGlvbnNcIilcblx0XHRcdFx0LnNldERlc2MoXCJFLmcuIHNob3cgJzEyMHcnIGluc3RlYWQgb2YgJzEyMCB3b3JkcydcIilcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnMpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmFiYnJldmlhdGVEZXNjcmlwdGlvbnMgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBOT1RFIC0gQUxJR05NRU5UXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiQWxpZ25tZW50XCIpXG5cdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XCJTaG93IGRhdGEgaW5saW5lIHdpdGggZmlsZS9mb2xkZXIgbmFtZXMsIHJpZ2h0LWFsaWduZWQsIG9yIHVuZGVybmVhdGhcIlxuXHRcdFx0KVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XG5cdFx0XHRcdGRyb3Bcblx0XHRcdFx0XHQuYWRkT3B0aW9uKEFsaWdubWVudFR5cGUuSW5saW5lLCBcIklubGluZVwiKVxuXHRcdFx0XHRcdC5hZGRPcHRpb24oQWxpZ25tZW50VHlwZS5SaWdodCwgXCJSaWdodC1hbGlnbmVkXCIpXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihBbGlnbm1lbnRUeXBlLkJlbG93LCBcIkJlbG93XCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmFsaWdubWVudClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBBbGlnbm1lbnRUeXBlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGlnbm1lbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyRm9sZGVyU2V0dGluZ3MoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0dGhpcy5yZW5kZXJTZXBhcmF0b3IoY29udGFpbmVyRWwpO1xuXG5cdFx0Ly8gU0hPVyBTQU1FIERBVEEgT04gRk9MREVSU1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0SGVhZGluZygpXG5cdFx0XHQuc2V0TmFtZShcIkZvbGRlcnM6IFNhbWUgZGF0YSBhcyBOb3Rlc1wiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1NhbWVDb3VudHNPbkZvbGRlcnMpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd1NhbWVDb3VudHNPbkZvbGRlcnMgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0aWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uRm9sZGVycykge1xuXHRcdFx0Ly8gRk9MREVSIC0gREFUQSBUWVBFIDFcblxuXHRcdFx0dGhpcy5yZW5kZXJDb3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdG5hbWU6IFwiMXN0IGRhdGEgdHlwZSB0byBzaG93XCIsXG5cdFx0XHRcdG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlLFxuXHRcdFx0XHRzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZSA9IHZhbHVlO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCA9XG5cdFx0XHRcdFx0XHRDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVNbXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZVxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG4gICAgICB0aGlzLnJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG4gICAgICAgIHBhcmVudENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlLFxuICAgICAgICBvbGRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLiRzZXNzaW9uQ291bnRUeXBlLFxuICAgICAgICBzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLiRzZXNzaW9uQ291bnRUeXBlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuXHRcdFx0dGhpcy5yZW5kZXJDdXN0b21Gb3JtYXRTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlLFxuXHRcdFx0XHRvbGRTdWZmaXg6IHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0c2V0TmV3U3VmZml4OiAodmFsdWUpID0+XG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCA9IHZhbHVlKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBGT0xERVIgLSBEQVRBIFRZUEUgMlxuXG5cdFx0XHR0aGlzLnJlbmRlckNvdW50VHlwZVNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdFx0bmFtZTogXCIybmQgZGF0YSB0eXBlIHRvIHNob3dcIixcblx0XHRcdFx0b2xkQ291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUyLFxuXHRcdFx0XHRzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZTIgPSB2YWx1ZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIuY3VzdG9tU3VmZml4ID1cblx0XHRcdFx0XHRcdENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFU1tcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMlxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG4gICAgICB0aGlzLnJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG4gICAgICAgIHBhcmVudENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMixcbiAgICAgICAgb2xkQ291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIuJHNlc3Npb25Db3VudFR5cGUsXG4gICAgICAgIHNldE5ld0NvdW50VHlwZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRDb25maWcyLiRzZXNzaW9uQ291bnRUeXBlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuXHRcdFx0dGhpcy5yZW5kZXJDdXN0b21Gb3JtYXRTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMixcblx0XHRcdFx0b2xkU3VmZml4OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzIuY3VzdG9tU3VmZml4LFxuXHRcdFx0XHRzZXROZXdTdWZmaXg6ICh2YWx1ZSkgPT5cblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRDb25maWcyLmN1c3RvbVN1ZmZpeCA9IHZhbHVlKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBGT0xERVIgLSBEQVRBIFRZUEUgM1xuXG5cdFx0XHR0aGlzLnJlbmRlckNvdW50VHlwZVNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdFx0bmFtZTogXCIzcmQgZGF0YSB0eXBlIHRvIHNob3dcIixcblx0XHRcdFx0b2xkQ291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudFR5cGUzLFxuXHRcdFx0XHRzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckNvdW50VHlwZTMgPSB2YWx1ZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzMuY3VzdG9tU3VmZml4ID1cblx0XHRcdFx0XHRcdENPVU5UX1RZUEVfREVGQVVMVF9TSE9SVF9TVUZGSVhFU1tcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlM1xuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG4gICAgICB0aGlzLnJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG4gICAgICAgIHBhcmVudENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMyxcbiAgICAgICAgb2xkQ291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzMuJHNlc3Npb25Db3VudFR5cGUsXG4gICAgICAgIHNldE5ld0NvdW50VHlwZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRDb25maWczLiRzZXNzaW9uQ291bnRUeXBlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuXHRcdFx0dGhpcy5yZW5kZXJDdXN0b21Gb3JtYXRTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRUeXBlMyxcblx0XHRcdFx0b2xkU3VmZml4OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJDb3VudENvbmZpZzMuY3VzdG9tU3VmZml4LFxuXHRcdFx0XHRzZXROZXdTdWZmaXg6ICh2YWx1ZSkgPT5cblx0XHRcdFx0XHQodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyQ291bnRDb25maWczLmN1c3RvbVN1ZmZpeCA9IHZhbHVlKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBGT0xERVIgLSBTRVBBUkFUT1Jcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VBZHZhbmNlZEZvcm1hdHRpbmcpIHtcblx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdFx0LnNldE5hbWUoXCJEYXRhIHR5cGUgc2VwYXJhdG9yXCIpXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJQaXBlU2VwYXJhdG9yKVxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9sZGVyUGlwZVNlcGFyYXRvciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZPTERFUiAtIEFCQlJFVklBVEUgREVTQ1JJUFRJT05TXG5cblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nKSB7XG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQWJicmV2aWF0ZSBkZXNjcmlwdGlvbnNcIilcblx0XHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckFiYnJldmlhdGVEZXNjcmlwdGlvbnMpXG5cdFx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJBYmJyZXZpYXRlRGVzY3JpcHRpb25zID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRk9MREVSIC0gQUxJR05NRU5UXG5cblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKS5zZXROYW1lKFwiQWxpZ25tZW50XCIpLmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XG5cdFx0XHRcdGRyb3Bcblx0XHRcdFx0XHQuYWRkT3B0aW9uKEFsaWdubWVudFR5cGUuSW5saW5lLCBcIklubGluZVwiKVxuXHRcdFx0XHRcdC5hZGRPcHRpb24oQWxpZ25tZW50VHlwZS5SaWdodCwgXCJSaWdodC1hbGlnbmVkXCIpXG5cdFx0XHRcdFx0LmFkZE9wdGlvbihBbGlnbm1lbnRUeXBlLkJlbG93LCBcIkJlbG93XCIpXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZvbGRlckFsaWdubWVudClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBBbGlnbm1lbnRUeXBlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2xkZXJBbGlnbm1lbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlclJvb3RTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlclNlcGFyYXRvcihjb250YWluZXJFbCk7XG5cblx0XHQvLyBTSE9XIFNBTUUgREFUQSBPTiBST09UXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXRIZWFkaW5nKClcblx0XHRcdC5zZXROYW1lKFwiUm9vdDogU2FtZSBkYXRhIGFzIE5vdGVzXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uUm9vdClcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93U2FtZUNvdW50c09uUm9vdCA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdCk7XG5cblx0XHRpZiAoIXRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dTYW1lQ291bnRzT25Sb290KSB7XG5cdFx0XHQvLyBST09UIC0gREFUQSBUWVBFIDFcblxuXHRcdFx0dGhpcy5yZW5kZXJDb3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdG5hbWU6IFwiMXN0IGRhdGEgdHlwZSB0byBzaG93XCIsXG5cdFx0XHRcdG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50VHlwZSxcblx0XHRcdFx0c2V0TmV3Q291bnRUeXBlOiAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRUeXBlID0gdmFsdWU7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCA9XG5cdFx0XHRcdFx0XHRDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVNbXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGVcblx0XHRcdFx0XHRcdF07XG5cdFx0XHRcdH0sXG5cdFx0XHR9KTtcblxuICAgICAgdGhpcy5yZW5kZXJTZXNzaW9uQ291bnRUeXBlU2V0dGluZyhjb250YWluZXJFbCwge1xuICAgICAgICBwYXJlbnRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGUsXG4gICAgICAgIG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnLiRzZXNzaW9uQ291bnRUeXBlLFxuICAgICAgICBzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudENvbmZpZy4kc2Vzc2lvbkNvdW50VHlwZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgfSk7XG5cblx0XHRcdHRoaXMucmVuZGVyQ3VzdG9tRm9ybWF0U2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0XHRjb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGUsXG5cdFx0XHRcdG9sZFN1ZmZpeDogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0c2V0TmV3U3VmZml4OiAodmFsdWUpID0+XG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudENvbmZpZy5jdXN0b21TdWZmaXggPSB2YWx1ZSksXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gUk9PVCAtIERBVEEgVFlQRSAyXG5cblx0XHRcdHRoaXMucmVuZGVyQ291bnRUeXBlU2V0dGluZyhjb250YWluZXJFbCwge1xuXHRcdFx0XHRuYW1lOiBcIjJuZCBkYXRhIHR5cGUgdG8gc2hvd1wiLFxuXHRcdFx0XHRvbGRDb3VudFR5cGU6IHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGUyLFxuXHRcdFx0XHRzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGUyID0gdmFsdWU7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnMi5jdXN0b21TdWZmaXggPVxuXHRcdFx0XHRcdFx0Q09VTlRfVFlQRV9ERUZBVUxUX1NIT1JUX1NVRkZJWEVTW1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRUeXBlMlxuXHRcdFx0XHRcdFx0XTtcblx0XHRcdFx0fSxcblx0XHRcdH0pO1xuXG4gICAgICB0aGlzLnJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG4gICAgICAgIHBhcmVudENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50VHlwZTIsXG4gICAgICAgIG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnMi4kc2Vzc2lvbkNvdW50VHlwZSxcbiAgICAgICAgc2V0TmV3Q291bnRUeXBlOiAodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRDb25maWcyLiRzZXNzaW9uQ291bnRUeXBlID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuXHRcdFx0dGhpcy5yZW5kZXJDdXN0b21Gb3JtYXRTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdGNvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50VHlwZTIsXG5cdFx0XHRcdG9sZFN1ZmZpeDogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50Q29uZmlnMi5jdXN0b21TdWZmaXgsXG5cdFx0XHRcdHNldE5ld1N1ZmZpeDogKHZhbHVlKSA9PlxuXHRcdFx0XHRcdCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRDb25maWcyLmN1c3RvbVN1ZmZpeCA9IHZhbHVlKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBST09UIC0gREFUQSBUWVBFIDNcblxuXHRcdFx0dGhpcy5yZW5kZXJDb3VudFR5cGVTZXR0aW5nKGNvbnRhaW5lckVsLCB7XG5cdFx0XHRcdG5hbWU6IFwiM3JkIGRhdGEgdHlwZSB0byBzaG93XCIsXG5cdFx0XHRcdG9sZENvdW50VHlwZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50VHlwZTMsXG5cdFx0XHRcdHNldE5ld0NvdW50VHlwZTogKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdENvdW50VHlwZTMgPSB2YWx1ZTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRDb25maWczLmN1c3RvbVN1ZmZpeCA9XG5cdFx0XHRcdFx0XHRDT1VOVF9UWVBFX0RFRkFVTFRfU0hPUlRfU1VGRklYRVNbXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudFR5cGUzXG5cdFx0XHRcdFx0XHRdO1xuXHRcdFx0XHR9LFxuXHRcdFx0fSk7XG5cbiAgICAgIHRoaXMucmVuZGVyU2Vzc2lvbkNvdW50VHlwZVNldHRpbmcoY29udGFpbmVyRWwsIHtcbiAgICAgICAgcGFyZW50Q291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRUeXBlMyxcbiAgICAgICAgb2xkQ291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRDb25maWczLiRzZXNzaW9uQ291bnRUeXBlLFxuICAgICAgICBzZXROZXdDb3VudFR5cGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudENvbmZpZzMuJHNlc3Npb25Db3VudFR5cGUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG5cdFx0XHR0aGlzLnJlbmRlckN1c3RvbUZvcm1hdFNldHRpbmcoY29udGFpbmVyRWwsIHtcblx0XHRcdFx0Y291bnRUeXBlOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRUeXBlMyxcblx0XHRcdFx0b2xkU3VmZml4OiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290Q291bnRDb25maWczLmN1c3RvbVN1ZmZpeCxcblx0XHRcdFx0c2V0TmV3U3VmZml4OiAodmFsdWUpID0+XG5cdFx0XHRcdFx0KHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RDb3VudENvbmZpZzMuY3VzdG9tU3VmZml4ID0gdmFsdWUpLFxuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFJPT1QgLSBTRVBBUkFUT1Jcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VBZHZhbmNlZEZvcm1hdHRpbmcpIHtcblx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdFx0LnNldE5hbWUoXCJEYXRhIHR5cGUgc2VwYXJhdG9yXCIpXG5cdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yb290UGlwZVNlcGFyYXRvcilcblx0XHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RQaXBlU2VwYXJhdG9yID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUk9PVCAtIEFCQlJFVklBVEUgREVTQ1JJUFRJT05TXG5cblx0XHRcdGlmICghdGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlQWR2YW5jZWRGb3JtYXR0aW5nKSB7XG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQWJicmV2aWF0ZSBkZXNjcmlwdGlvbnNcIilcblx0XHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJvb3RBYmJyZXZpYXRlRGVzY3JpcHRpb25zKVxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mucm9vdEFiYnJldmlhdGVEZXNjcmlwdGlvbnMgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyQWR2YW5jZWRTZXR0aW5ncyhjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlclNlcGFyYXRvcihjb250YWluZXJFbCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXRIZWFkaW5nKClcblx0XHRcdC5zZXROYW1lKFwiU2hvdyBhZHZhbmNlZCBvcHRpb25zXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkxhbmd1YWdlIGNvbXBhdGliaWxpdHkgYW5kIGZpbmUtdHVuaW5nXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93QWR2YW5jZWQpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0FkdmFuY2VkID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dBZHZhbmNlZCkge1xuXHRcdFx0Ly8gQ09VTlQgTEFCRUwgVFJBTlNQQVJFTkNZXG5cblx0XHRcdGNvbnN0IG9wYWNpdHlDaGFuZ2VkID0gYXN5bmMgKHZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubGFiZWxPcGFjaXR5ID0gTWF0aC5jbGFtcCh2YWx1ZSwgMCwgMSk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcblx0XHRcdH1cblxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiTGFiZWwgb3BhY2l0eVwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcIkluY3JlYXNlIHRoaXMgdmFsdWUgdG8gbWFrZSBhbGwgY291bnQgbGFiZWxzIGluIHRoZSBGaWxlIEV4cGxvcmVyIG1vcmUgdmlzaWJsZS5cIilcblx0XHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PiB7XG5cdFx0XHRcdFx0c2xpZGVyXG5cdFx0XHRcdFx0XHQuc2V0TGltaXRzKDAsIDEsIDAuMDUpXG5cdFx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxhYmVsT3BhY2l0eSlcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShkZWJvdW5jZShvcGFjaXR5Q2hhbmdlZC5iaW5kKHRoaXMpLCA1MDApKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdC8vIElOQ0xVREUgRklMRS9GT0xERVIgTkFNRVNcblxuXHRcdFx0Y29uc3QgaW5jbHVkZVBhdGhzQ2hhbmdlZCA9IGFzeW5jICh0eHQ6IFRleHRDb21wb25lbnQsIHZhbHVlOiBzdHJpbmcpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZURpcmVjdG9yaWVzID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoXCJJbmNsdWRlIGZpbGUvZm9sZGVyIG5hbWVzXCIpXG5cdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdFwiT25seSBjb3VudCBwYXRocyBtYXRjaGluZyB0aGUgaW5kaWNhdGVkIHRlcm0ocykuIENhc2Utc2Vuc2l0aXZlLCBjb21tYS1zZXBhcmF0ZWQuIERlZmF1bHRzIHRvIGFsbCBmaWxlcy4gXCIgK1xuXHRcdFx0XHRcdFx0XCJBbnkgdGVybSBzdGFydGluZyB3aXRoICEgd2lsbCBiZSBleGNsdWRlZCBpbnN0ZWFkIG9mIGluY2x1ZGVkLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRleHQoKHR4dCkgPT4ge1xuXHRcdFx0XHRcdHR4dFxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiXCIpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZURpcmVjdG9yaWVzKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGRlYm91bmNlKGluY2x1ZGVQYXRoc0NoYW5nZWQuYmluZCh0aGlzLCB0eHQpLCAxMDAwKSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHQvLyBFWENMVURFIENPTU1FTlRTXG5cblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShcIkV4Y2x1ZGUgY29tbWVudHNcIilcblx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XCJFeGNsdWRlICUlT2JzaWRpYW4lJSBhbmQgPCEtLUhUTUwtLT4gY29tbWVudHMgZnJvbSBjb3VudHMuIE1heSBhZmZlY3QgcGVyZm9ybWFuY2Ugb24gbGFyZ2UgdmF1bHRzLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVDb21tZW50cylcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUNvbW1lbnRzID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHQvLyBFWENMVURFIENPREUgQkxPQ0tTXG5cblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShcIkV4Y2x1ZGUgY29kZSBibG9ja3NcIilcblx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XCJFeGNsdWRlIGBgYGNvZGUgYmxvY2tzYGBgIChlLmcuIERhdGFWaWV3IHNuaXBwZXRzKSBmcm9tIGFsbCBjb3VudHMuIE1heSBhZmZlY3QgcGVyZm9ybWFuY2Ugb24gbGFyZ2UgdmF1bHRzLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVDb2RlQmxvY2tzKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlQ29kZUJsb2NrcyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uaW5pdGlhbGl6ZSgpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiRXhjbHVkZSBub24tdmlzaWJsZSBwb3J0aW9ucyBvZiBsaW5rc1wiKVxuXHRcdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XHRcIkZvciBleHRlcm5hbCBsaW5rcywgZXhjbHVkZSB0aGUgVVJJIGZyb20gYWxsIGNvdW50cy4gRm9yIGludGVybmFsIGxpbmtzIHdpdGggYWxpYXNlcywgb25seSBjb3VudCB0aGUgYWxpYXMuIFwiICtcblx0XHRcdFx0XHRcdFwiTWF5IGFmZmVjdCBwZXJmb3JtYW5jZSBvbiBsYXJnZSB2YXVsdHMuXCJcblx0XHRcdFx0KVxuXHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZU5vblZpc2libGVMaW5rUG9ydGlvbnMpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVOb25WaXNpYmxlTGlua1BvcnRpb25zID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoXCJFeGNsdWRlIGZvb3Rub3Rlc1wiKVxuXHRcdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XHRcIkV4Y2x1ZGUgZm9vdG5vdGVzW14xXSBmcm9tIGNvdW50cy4gTWF5IGFmZmVjdCBwZXJmb3JtYW5jZSBvbiBsYXJnZSB2YXVsdHMuXCJcblx0XHRcdFx0KVxuXHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZvb3Rub3Rlcylcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZvb3Rub3RlcyA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uaW5pdGlhbGl6ZSgpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQ0hBUkFDVEVSIENPVU5UIE1FVEhPRFxuXG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoXCJDaGFyYWN0ZXIgY291bnQgbWV0aG9kXCIpXG5cdFx0XHRcdC5zZXREZXNjKFwiRm9yIGxhbmd1YWdlIGNvbXBhdGliaWxpdHlcIilcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XG5cdFx0XHRcdFx0ZHJvcFxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihDaGFyYWN0ZXJDb3VudFR5cGUuU3RyaW5nTGVuZ3RoLCBcIkFsbCBjaGFyYWN0ZXJzXCIpXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFxuXHRcdFx0XHRcdFx0XHRDaGFyYWN0ZXJDb3VudFR5cGUuRXhjbHVkZVdoaXRlc3BhY2UsXG5cdFx0XHRcdFx0XHRcdFwiRXhjbHVkZSB3aGl0ZXNwYWNlXCJcblx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jaGFyYWN0ZXJDb3VudFR5cGUpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBDaGFyYWN0ZXJDb3VudFR5cGUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hhcmFjdGVyQ291bnRUeXBlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdC8vIFBBR0UgQ09VTlQgTUVUSE9EXG5cblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShcIlBhZ2UgY291bnQgbWV0aG9kXCIpXG5cdFx0XHRcdC5zZXREZXNjKFwiRm9yIGxhbmd1YWdlIGNvbXBhdGliaWxpdHlcIilcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XG5cdFx0XHRcdFx0ZHJvcFxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihQYWdlQ291bnRUeXBlLkJ5V29yZHMsIFwiV29yZHMgcGVyIHBhZ2VcIilcblx0XHRcdFx0XHRcdC5hZGRPcHRpb24oUGFnZUNvdW50VHlwZS5CeUNoYXJzLCBcIkNoYXJhY3RlcnMgcGVyIHBhZ2VcIilcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYWdlQ291bnRUeXBlKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogUGFnZUNvdW50VHlwZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYWdlQ291bnRUeXBlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblxuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi51cGRhdGVEaXNwbGF5ZWRDb3VudHMoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Ly8gUkVBRElORyBUSU1FXG5cblx0XHRcdGNvbnN0IHdvcmRzUGVyTWludXRlQ2hhbmdlZCA9IGFzeW5jIChcblx0XHRcdFx0dHh0OiBUZXh0Q29tcG9uZW50LFxuXHRcdFx0XHR2YWx1ZTogc3RyaW5nXG5cdFx0XHQpID0+IHtcblx0XHRcdFx0Y29uc3QgYXNOdW1iZXIgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRjb25zdCBpc1ZhbGlkID0gIWlzTmFOKGFzTnVtYmVyKSAmJiBhc051bWJlciA+IDA7XG5cblx0XHRcdFx0dHh0LmlucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBpc1ZhbGlkID8gbnVsbCA6IFwicmVkXCI7XG5cblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNQZXJNaW51dGUgPSBpc1ZhbGlkID8gTnVtYmVyKHZhbHVlKSA6IDI2NTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmluaXRpYWxpemUoKTtcblx0XHRcdH07XG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0LnNldE5hbWUoXCJXb3JkcyBwZXIgbWludXRlXCIpXG5cdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdFwiVXNlZCB0byBjYWxjdWxhdGUgUmVhZGluZyBUaW1lLiAyNjUgaXMgdGhlIGF2ZXJhZ2Ugc3BlZWQgb2YgYW4gRW5nbGlzaC1zcGVha2luZyBhZHVsdC5cIlxuXHRcdFx0XHQpXG5cdFx0XHRcdC5hZGRUZXh0KCh0eHQpID0+IHtcblx0XHRcdFx0XHR0eHRcblx0XHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIjI2NVwiKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLndvcmRzUGVyTWludXRlLnRvU3RyaW5nKCkpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoZGVib3VuY2Uod29yZHNQZXJNaW51dGVDaGFuZ2VkLmJpbmQodGhpcywgdHh0KSwgMTAwMCkpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Y29uc3QgY2hhcnNQZXJNaW51dGVDaGFuZ2VkID0gYXN5bmMgKFxuXHRcdFx0XHR0eHQ6IFRleHRDb21wb25lbnQsXG5cdFx0XHRcdHZhbHVlOiBzdHJpbmdcblx0XHRcdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBhc051bWJlciA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdGNvbnN0IGlzVmFsaWQgPSAhaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID4gMDtcblxuXHRcdFx0XHR0eHQuaW5wdXRFbC5zdHlsZS5ib3JkZXJDb2xvciA9IGlzVmFsaWQgPyBudWxsIDogXCJyZWRcIjtcblxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jaGFyc1Blck1pbnV0ZSA9IGlzVmFsaWQgPyBOdW1iZXIodmFsdWUpIDogNTAwO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uaW5pdGlhbGl6ZSgpO1xuXHRcdFx0fTtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZShcIkNKSyBjaGFyYWN0ZXJzIHBlciBtaW51dGVcIilcblx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XCJVc2VkIHRvIGNhbGN1bGF0ZSBSZWFkaW5nIFRpbWUuIDUwMCBpcyB0aGUgYXZlcmFnZSBzcGVlZCBmb3IgQ0pLIHRleHRzLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRleHQoKHR4dCkgPT4ge1xuXHRcdFx0XHRcdHR4dFxuXHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiNTAwXCIpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hhcnNQZXJNaW51dGUudG9TdHJpbmcoKSlcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShkZWJvdW5jZShjaGFyc1Blck1pbnV0ZUNoYW5nZWQuYmluZCh0aGlzLCB0eHQpLCAxMDAwKSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHQvLyBXT1JEUyBQRVIgUEFHRVxuXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeVdvcmRzKSB7XG5cdFx0XHRcdGNvbnN0IHdvcmRzUGVyUGFnZUNoYW5nZWQgPSBhc3luYyAoXG5cdFx0XHRcdFx0dHh0OiBUZXh0Q29tcG9uZW50LFxuXHRcdFx0XHRcdHZhbHVlOiBzdHJpbmdcblx0XHRcdFx0KSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgYXNOdW1iZXIgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRcdGNvbnN0IGlzVmFsaWQgPSAhaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID4gMDtcblxuXHRcdFx0XHRcdHR4dC5pbnB1dEVsLnN0eWxlLmJvcmRlckNvbG9yID0gaXNWYWxpZCA/IG51bGwgOiBcInJlZFwiO1xuXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNQZXJQYWdlID0gaXNWYWxpZCA/IE51bWJlcih2YWx1ZSkgOiAzMDA7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uaW5pdGlhbGl6ZSgpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0XHQuc2V0TmFtZShcIldvcmRzIHBlciBwYWdlXCIpXG5cdFx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XHRcIlVzZWQgZm9yIHBhZ2UgY291bnQuIDMwMCBpcyBzdGFuZGFyZCBpbiBFbmdsaXNoIGxhbmd1YWdlIHB1Ymxpc2hpbmcuXCJcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmFkZFRleHQoKHR4dCkgPT4ge1xuXHRcdFx0XHRcdFx0dHh0XG5cdFx0XHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIjMwMFwiKVxuXHRcdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mud29yZHNQZXJQYWdlLnRvU3RyaW5nKCkpXG5cdFx0XHRcdFx0XHRcdC5vbkNoYW5nZShkZWJvdW5jZSh3b3Jkc1BlclBhZ2VDaGFuZ2VkLmJpbmQodGhpcywgdHh0KSwgMTAwMCkpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJTkNMVURFIFdISVRFU1BBQ0UgSU4gUEFHRSBDT1VOVFxuXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFnZUNvdW50VHlwZSA9PT0gUGFnZUNvdW50VHlwZS5CeUNoYXJzKSB7XG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHRcdC5zZXROYW1lKFwiSW5jbHVkZSB3aGl0ZXNwYWNlIGNoYXJhY3RlcnMgaW4gcGFnZSBjb3VudFwiKVxuXHRcdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hhcnNQZXJQYWdlSW5jbHVkZXNXaGl0ZXNwYWNlKVxuXHRcdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hhcnNQZXJQYWdlSW5jbHVkZXNXaGl0ZXNwYWNlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBDSEFSQUNURVJTIFBFUiBQQUdFXG5cblx0XHRcdFx0Y29uc3QgY2hhcnNQZXJQYWdlQ2hhbmdlZCA9IGFzeW5jIChcblx0XHRcdFx0XHR0eHQ6IFRleHRDb21wb25lbnQsXG5cdFx0XHRcdFx0dmFsdWU6IHN0cmluZ1xuXHRcdFx0XHQpID0+IHtcblx0XHRcdFx0XHRjb25zdCBhc051bWJlciA9IE51bWJlcih2YWx1ZSk7XG5cdFx0XHRcdFx0Y29uc3QgaXNWYWxpZCA9ICFpc05hTihhc051bWJlcikgJiYgYXNOdW1iZXIgPiAwO1xuXG5cdFx0XHRcdFx0dHh0LmlucHV0RWwuc3R5bGUuYm9yZGVyQ29sb3IgPSBpc1ZhbGlkID8gbnVsbCA6IFwicmVkXCI7XG5cblx0XHRcdFx0XHRjb25zdCBkZWZhdWx0Q2hhcnNQZXJQYWdlID0gMTUwMDtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jaGFyc1BlclBhZ2UgPSBpc1ZhbGlkXG5cdFx0XHRcdFx0XHQ/IE51bWJlcih2YWx1ZSlcblx0XHRcdFx0XHRcdDogZGVmYXVsdENoYXJzUGVyUGFnZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHRcdC5zZXROYW1lKFwiQ2hhcmFjdGVycyBwZXIgcGFnZVwiKVxuXHRcdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdFx0YFVzZWQgZm9yIHBhZ2UgY291bnQuICR7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNoYXJzUGVyUGFnZUluY2x1ZGVzV2hpdGVzcGFjZVxuXHRcdFx0XHRcdFx0XHRcdD8gXCIyNDAwIGlzIGNvbW1vbiBpbiBEYW5pc2guXCJcblx0XHRcdFx0XHRcdFx0XHQ6IFwiMTUwMCBpcyBjb21tb24gaW4gR2VybWFuIChOb3Jtc2VpdGUpLlwiXG5cdFx0XHRcdFx0XHR9YFxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHQuYWRkVGV4dCgodHh0KSA9PiB7XG5cdFx0XHRcdFx0XHR0eHRcblx0XHRcdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiMTUwMFwiKVxuXHRcdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2hhcnNQZXJQYWdlLnRvU3RyaW5nKCkpXG5cdFx0XHRcdFx0XHRcdC5vbkNoYW5nZShkZWJvdW5jZShjaGFyc1BlclBhZ2VDaGFuZ2VkLmJpbmQodGhpcywgdHh0KSwgMTAwMCkpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNT01FTlQgREFURSBGT1JNQVRcblx0XHRcdGNvbnN0IGRhdGVGb3JtYXRDaGFuZ2VkID0gYXN5bmMgKFxuXHRcdFx0XHR0eHQ6IFRleHRDb21wb25lbnQsXG5cdFx0XHRcdHZhbHVlOiBzdHJpbmdcblx0XHRcdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBpc1ZhbGlkID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhIXZhbHVlLnRyaW0oKTtcblxuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb21lbnREYXRlRm9ybWF0ID0gaXNWYWxpZCA/IHZhbHVlIDogJyc7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5pbml0aWFsaXplKCk7XG5cdFx0XHR9O1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiRGF0ZSBmb3JtYXRcIilcblx0XHRcdFx0LnNldERlc2MoXCJNb21lbnRKUyBkYXRlIGZvcm1hdCB0byB1c2UgZm9yIGRhdGUgc3RyaW5nc1wiKVxuXHRcdFx0XHQuYWRkVGV4dCgodHh0KSA9PiB7XG5cdFx0XHRcdFx0dHh0XG5cdFx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJZWVlZL01NL0REXCIpXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubW9tZW50RGF0ZUZvcm1hdClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZShkZWJvdW5jZShkYXRlRm9ybWF0Q2hhbmdlZC5iaW5kKHRoaXMsIHR4dCksIDEwMDApKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdC8vIERFQlVHIE1PREVcblxuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiRGVidWcgbW9kZVwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcIkxvZyBkZWJ1Z2dpbmcgaW5mb3JtYXRpb24gdG8gdGhlIGRldmVsb3BlciBjb25zb2xlXCIpXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWJ1Z01vZGUpXG5cdFx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlYnVnTW9kZSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5kZWJ1Z0hlbHBlci5zZXREZWJ1Z01vZGUodmFsdWUpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5maWxlSGVscGVyLnNldERlYnVnTW9kZSh2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlclJlYW5hbHl6ZUJ1dHRvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlclNlcGFyYXRvcihjb250YWluZXJFbCk7XG5cblx0XHQvLyBSRUFOQUxZWkVcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldEhlYWRpbmcoKVxuXHRcdFx0LnNldE5hbWUoXCJSZWNvdW50IGFsbCBkb2N1bWVudHNcIilcblx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcIklmIGNoYW5nZXMgaGF2ZSBvY2N1cnJlZCBvdXRzaWRlIG9mIE9ic2lkaWFuLCB5b3UgbWF5IG5lZWQgdG8gdHJpZ2dlciBhIG1hbnVhbCByZWNvdW50XCJcblx0XHRcdClcblx0XHRcdC5hZGRCdXR0b24oKGJ1dHRvbikgPT5cblx0XHRcdFx0YnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJSZWNvdW50XCIpXG5cdFx0XHRcdFx0LnNldEN0YSgpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0YnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLmluaXRpYWxpemUoKTtcblx0XHRcdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiRG9uZVwiKTtcblx0XHRcdFx0XHRcdGJ1dHRvbi5yZW1vdmVDdGEoKTtcblxuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGJ1dHRvbi5zZXRCdXR0b25UZXh0KFwiUmVjb3VudFwiKTtcblx0XHRcdFx0XHRcdFx0YnV0dG9uLnNldEN0YSgpO1xuXHRcdFx0XHRcdFx0XHRidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSByZW5kZXJEb25hdGlvbkJ1dHRvbihjb250YWluZXJFbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcblx0XHR0aGlzLnJlbmRlclNlcGFyYXRvcihjb250YWluZXJFbCk7XG5cblx0XHRjb25zdCBsYWJlbCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiZGl2XCIsIHtcblx0XHRcdGNsczogW1xuXHRcdFx0XHRcInNldHRpbmctaXRlbVwiLFxuXHRcdFx0XHRcInNldHRpbmctaXRlbS1oZWFkaW5nXCIsXG5cdFx0XHRcdFwibm92ZWwtd29yZC1jb3VudC1zZXR0aW5ncy1oZWFkZXJcIixcblx0XHRcdFx0XCJub3ZlbC13b3JkLWNvdW50LWRvbmF0aW9uLWxpbmVcIixcblx0XHRcdF0sXG5cdFx0fSk7XG5cdFx0bGFiZWwuY3JlYXRlRWwoXCJkaXZcIiwge1xuXHRcdFx0dGV4dDogXCJFbmpveWluZyB0aGlzIHBsdWdpbj8gV2FudCBtb3JlIGZlYXR1cmVzP1wiLFxuXHRcdH0pO1xuXHRcdGNvbnN0IGJ1dHRvbiA9IGxhYmVsLmNyZWF0ZUVsKFwiZGl2XCIpO1xuXHRcdGJ1dHRvbi5pbm5lckhUTUwgPSBgPGEgaHJlZj0naHR0cHM6Ly9rby1maS5jb20vSjNKNk9XQTVDJyB0YXJnZXQ9J19ibGFuayc+PGltZyBoZWlnaHQ9JzM2JyBzdHlsZT0nYm9yZGVyOjBweDtoZWlnaHQ6MzZweDsnIHNyYz0naHR0cHM6Ly9zdG9yYWdlLmtvLWZpLmNvbS9jZG4va29maTIucG5nP3Y9MycgYm9yZGVyPScwJyBhbHQ9J0J1eSBNZSBhIENvZmZlZSBhdCBrby1maS5jb20nIC8+PC9hPmA7XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlckNvdW50VHlwZVNldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdGNvbmZpZzoge1xuXHRcdFx0bmFtZTogc3RyaW5nO1xuXHRcdFx0b2xkQ291bnRUeXBlOiAkQ291bnRUeXBlO1xuXHRcdFx0c2V0TmV3Q291bnRUeXBlOiAobmV3Q291bnRUeXBlOiAkQ291bnRUeXBlKSA9PiB2b2lkO1xuXHRcdH1cblx0KTogdm9pZCB7XG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShjb25maWcubmFtZSlcblx0XHRcdC5zZXREZXNjKGdldERlc2NyaXB0aW9uKGNvbmZpZy5vbGRDb3VudFR5cGUpKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wKSA9PiB7XG5cdFx0XHRcdGZvciAoY29uc3QgY291bnRUeXBlIG9mIENPVU5UX1RZUEVTKSB7XG5cdFx0XHRcdFx0ZHJvcC5hZGRPcHRpb24oY291bnRUeXBlLCBDT1VOVF9UWVBFX0RJU1BMQVlfU1RSSU5HU1tjb3VudFR5cGVdKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRyb3Bcblx0XHRcdFx0XHQuc2V0VmFsdWUoY29uZmlnLm9sZENvdW50VHlwZSlcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiAkQ291bnRUeXBlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25maWcuc2V0TmV3Q291bnRUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdH1cblxuICBwcml2YXRlIHJlbmRlclNlc3Npb25Db3VudFR5cGVTZXR0aW5nKFxuICAgIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCxcbiAgICBjb25maWc6IHtcbiAgICAgIHBhcmVudENvdW50VHlwZTogJENvdW50VHlwZSxcbiAgICAgIG9sZENvdW50VHlwZTogJFNlc3Npb25Db3VudFR5cGU7XG4gICAgICBzZXROZXdDb3VudFR5cGU6IChuZXdDb3VudFR5cGU6ICRTZXNzaW9uQ291bnRUeXBlKSA9PiB2b2lkO1xuICAgIH1cbiAgKTogdm9pZCB7XG4gICAgaWYgKGNvbmZpZy5wYXJlbnRDb3VudFR5cGUgIT09ICRDb3VudFR5cGUuVHJhY2tTZXNzaW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldERlc2MoXCJbVHJhY2sgU2Vzc2lvbl0gU2Vzc2lvbiBjb3VudCB0eXBlXCIpXG4gICAgICAuYWRkRHJvcGRvd24oKGRyb3ApID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBjb3VudFR5cGUgb2YgU0VTU0lPTl9DT1VOVF9UWVBFUykge1xuICAgICAgICAgIGRyb3AuYWRkT3B0aW9uKGNvdW50VHlwZSwgQ09VTlRfVFlQRV9ESVNQTEFZX1NUUklOR1NbY291bnRUeXBlXSk7XG4gICAgICAgIH1cblxuICAgICAgICBkcm9wXG4gICAgICAgICAgLnNldFZhbHVlKGNvbmZpZy5vbGRDb3VudFR5cGUpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogJFNlc3Npb25Db3VudFR5cGUpID0+IHtcbiAgICAgICAgICAgIGNvbmZpZy5zZXROZXdDb3VudFR5cGUodmFsdWUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gIH1cblxuXHRwcml2YXRlIHJlbmRlckN1c3RvbUZvcm1hdFNldHRpbmcoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdGNvbmZpZzoge1xuXHRcdFx0Y291bnRUeXBlOiAkQ291bnRUeXBlO1xuXHRcdFx0b2xkU3VmZml4OiBzdHJpbmc7XG5cdFx0XHRzZXROZXdTdWZmaXg6IChuZXdTdWZmaXg6IHN0cmluZykgPT4gdm9pZDtcblx0XHR9XG5cdCk6IHZvaWQge1xuXHRcdGlmIChcblx0XHRcdCF0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VBZHZhbmNlZEZvcm1hdHRpbmcgfHxcblx0XHRcdGNvbmZpZy5jb3VudFR5cGUgPT09ICRDb3VudFR5cGUuTm9uZVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmIChVTkZPUk1BVFRBQkxFX0NPVU5UX1RZUEVTLmluY2x1ZGVzKGNvbmZpZy5jb3VudFR5cGUpKSB7XG5cdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0RGVzYyhcblx0XHRcdFx0YFske0NPVU5UX1RZUEVfRElTUExBWV9TVFJJTkdTW2NvbmZpZy5jb3VudFR5cGVdfV0gY2FuJ3QgYmUgZm9ybWF0dGVkLmBcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XHRgWyR7Q09VTlRfVFlQRV9ESVNQTEFZX1NUUklOR1NbY29uZmlnLmNvdW50VHlwZV19XSBDdXN0b20gc3VmZml4YFxuXHRcdFx0XHQpXG5cdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHRcdHRleHQuc2V0VmFsdWUoY29uZmlnLm9sZFN1ZmZpeCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25maWcuc2V0TmV3U3VmZml4KHZhbHVlKTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4udXBkYXRlRGlzcGxheWVkQ291bnRzKCk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHJlbmRlckZyb250bWF0dGVyS2V5U2V0dGluZyhcblx0XHRjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRjb3VudFR5cGU6ICRDb3VudFR5cGU7XG5cdFx0XHRvbGRLZXk6IHN0cmluZztcblx0XHRcdHNldE5ld0tleTogKG5ld0tleTogc3RyaW5nKSA9PiB2b2lkO1xuXHRcdH1cblx0KTogdm9pZCB7XG5cdFx0aWYgKGNvbmZpZy5jb3VudFR5cGUgIT09ICRDb3VudFR5cGUuRnJvbnRtYXR0ZXJLZXkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRgWyR7Q09VTlRfVFlQRV9ESVNQTEFZX1NUUklOR1NbJENvdW50VHlwZS5Gcm9udG1hdHRlcktleV19XSBLZXkgbmFtZWBcblx0XHRcdClcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0LnNldFZhbHVlKGNvbmZpZy5vbGRLZXkpLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdGNvbmZpZy5zZXROZXdLZXkodmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnVwZGF0ZURpc3BsYXllZENvdW50cygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxuXG5cdHByaXZhdGUgcmVuZGVyU2VwYXJhdG9yKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaHJcIiwge1xuXHRcdFx0Y2xzOiBcIm5vdmVsLXdvcmQtY291bnQtaHJcIixcblx0XHR9KTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FDQU8sSUFBTSxjQUFOLE1BQWtCO0FBQUEsRUFBbEI7QUFDTCxTQUFRLFlBQVk7QUFDckIsU0FBUSxZQUFZO0FBQUE7QUFBQSxFQUVaLGFBQWEsT0FBc0I7QUFDeEMsU0FBSyxZQUFZO0FBQUEsRUFDbkI7QUFBQSxFQUVPLFNB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U0FBUyxJQUFJLEtBQUssS0FBSyxTQUFTLE1BQU07QUFDN0Q7QUFBQSxNQUNEO0FBRUEsWUFBTSxTQUFTLEtBQUssV0FBVztBQUFBLFFBQzlCLEtBQUssVUFBVTtBQUFBLFFBQ2Y7QUFBQSxNQUNEO0FBRUEsWUFBTSxPQUFPLFVBQVUsSUFBSTtBQUMzQixRQUFDLFVBQUssWUFBTCxZQUFnQixLQUFLLFFBQVE7QUFBQSxRQUM3QjtBQUFBLFFBQ0EsS0FBSyxnQkFBZ0IsYUFBYSxNQUFNO0FBQUEsTUFDekM7QUFBQSxJQUNEO0FBRUEsYUFBUztBQUFBLEVBQ1Y7QUFBQTtBQUFBLEVBSUEsTUFBYSxzQkFBOEM7QUFDMUQsV0FBTyxJQUFJLFFBQVEsQ0FBQyxTQUFTLFdBQVc7QUFDdkMsVUFBSSxZQUFrQztBQUN0QyxXQUFLLElBQUksVUFBVSxpQkFBaUIsQ0FBQyxTQUFTO0FBQzdDLFlBQUksV0FBVztBQUNkO0FBQUEsUUFDRDtBQUVBLGNBQU0sT0FBTyxLQUFLO0FBQ2xCLFlBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxXQUFXO0FBQzdCO0FBQUEsUUFDRDtBQUVBLG9CQUFZO0FBQ1osZ0JBQVEsU0FBUztBQUFBLE1BQ2xCLENBQUM7QUFFRCxVQUFJLENBQUMsV0FBVztBQUNmLGVBQU8sTUFBTSxvQ0FBb0MsQ0FBQztBQUFBLE1BQ25EO0FBQUEsSUFDRCxDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRVEsa0JBQWtCLE1BQXFCO0FBQzlDLFVBQU0sWUFBWSxLQUFLLEtBQUs7QUFDNUIsY0FBVSxZQUFZLDRCQUE0QixJQUFJO0FBRXRELFVBQU0sYUFBYTtBQUNuQixVQUFNLGVBQWU7QUFDckIsVUFBTSxtQkFBbUIsZ0JBQ3ZCLElBQUksQ0FBQyxPQUFPLGFBQWEsRUFBRSxFQUMzQixPQUFPLGdCQUFnQixJQUFJLENBQUMsT0FBTyxlQUFlLEVBQUUsQ0FBQztBQUV2RCxlQUFXLE1BQU0sa0JBQWtCO0FBQ2xDLGdCQUFVLFlBQVksSUFBSSxLQUFLO0FBQUEsSUFDaEM7QUFFQSxjQUFVLFlBQVksYUFBYSxLQUFLLFNBQVMsV0FBVyxJQUFJO0FBRWhFLFVBQU0sa0JBQWtCLEtBQUssU0FBUywwQkFDbkMsS0FBSyxTQUFTLFlBQ2QsS0FBSyxTQUFTO0FBQ2pCLGNBQVUsWUFBWSxlQUFlLGlCQUFpQixJQUFJO0FBQUEsRUFDM0Q7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgIiRDb3VudFR5cGUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
